{"version":3,"file":"index.es.js","sources":["../src/utils.js","../src/hooks/useTable.js","../src/plugin-hooks/useExpanded.js","../src/filterTypes.js","../src/plugin-hooks/useFilters.js","../src/aggregations.js","../src/plugin-hooks/useGroupBy.js","../src/sortTypes.js","../src/plugin-hooks/useSortBy.js","../src/plugin-hooks/usePagination.js","../src/plugin-hooks/useRowSelect.js","../src/plugin-hooks/useRowState.js","../src/plugin-hooks/useColumnOrder.js","../src/plugin-hooks/useResizeColumns.js","../src/plugin-hooks/useAbsoluteLayout.js","../src/plugin-hooks/useBlockLayout.js"],"sourcesContent":["import React from 'react'\n\nexport const defaultColumn = {\n  Cell: ({ cell: { value = '' } }) => String(value),\n  show: true,\n  width: 150,\n  minWidth: 0,\n  maxWidth: Number.MAX_SAFE_INTEGER,\n}\n\n// SSR has issues with useLayoutEffect still, so use useEffect during SSR\nexport const safeUseLayoutEffect =\n  typeof window !== 'undefined' && process.env.NODE_ENV === 'production'\n    ? React.useLayoutEffect\n    : React.useEffect\n\n// Find the depth of the columns\nexport function findMaxDepth(columns, depth = 0) {\n  return columns.reduce((prev, curr) => {\n    if (curr.columns) {\n      return Math.max(prev, findMaxDepth(curr.columns, depth + 1))\n    }\n    return depth\n  }, 0)\n}\n\nexport function decorateColumn(\n  column,\n  userDefaultColumn,\n  parent,\n  depth,\n  index\n) {\n  // Apply the userDefaultColumn\n  column = { ...defaultColumn, ...userDefaultColumn, ...column }\n\n  // First check for string accessor\n  let { id, accessor, Header } = column\n\n  if (typeof accessor === 'string') {\n    id = id || accessor\n    const accessorPath = accessor.split('.')\n    accessor = row => getBy(row, accessorPath)\n  }\n\n  if (!id && typeof Header === 'string' && Header) {\n    id = Header\n  }\n\n  if (!id && column.columns) {\n    console.error(column)\n    throw new Error('A column ID (or unique \"Header\" value) is required!')\n  }\n\n  if (!id) {\n    console.error(column)\n    throw new Error('A column ID (or string accessor) is required!')\n  }\n\n  column = {\n    // Make sure there is a fallback header, just in case\n    Header: () => <>&nbsp;</>,\n    ...column,\n    // Materialize and override this stuff\n    id,\n    accessor,\n    parent,\n    depth,\n    index,\n  }\n\n  return column\n}\n\n// Build the visible columns, headers and flat column list\nexport function decorateColumnTree(columns, defaultColumn, parent, depth = 0) {\n  return columns.map((column, columnIndex) => {\n    column = decorateColumn(column, defaultColumn, parent, depth, columnIndex)\n    if (column.columns) {\n      column.columns = decorateColumnTree(\n        column.columns,\n        defaultColumn,\n        column,\n        depth + 1\n      )\n    }\n    return column\n  })\n}\n\n// Build the header groups from the bottom up\nexport function makeHeaderGroups(flatColumns, defaultColumn) {\n  const headerGroups = []\n\n  // Build each header group from the bottom up\n  const buildGroup = (columns, depth) => {\n    const headerGroup = {\n      headers: [],\n    }\n\n    const parentColumns = []\n\n    // Do any of these columns have parents?\n    const hasParents = columns.some(col => col.parent)\n\n    columns.forEach(column => {\n      // Are we the first column in this group?\n      const isFirst = !parentColumns.length\n\n      // What is the latest (last) parent column?\n      let latestParentColumn = [...parentColumns].reverse()[0]\n\n      // If the column has a parent, add it if necessary\n      if (column.parent) {\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === column.parent.id\n        )\n        if (isFirst || latestParentColumn.originalId !== column.parent.id) {\n          parentColumns.push({\n            ...column.parent,\n            originalId: column.parent.id,\n            id: [column.parent.id, similarParentColumns.length].join('_'),\n          })\n        }\n      } else if (hasParents) {\n        // If other columns have parents, we'll need to add a place holder if necessary\n        const originalId = [column.id, 'placeholder'].join('_')\n        const similarParentColumns = parentColumns.filter(\n          d => d.originalId === originalId\n        )\n        const placeholderColumn = decorateColumn(\n          {\n            originalId,\n            id: [column.id, 'placeholder', similarParentColumns.length].join(\n              '_'\n            ),\n            placeholderOf: column,\n          },\n          defaultColumn\n        )\n        if (\n          isFirst ||\n          latestParentColumn.originalId !== placeholderColumn.originalId\n        ) {\n          parentColumns.push(placeholderColumn)\n        }\n      }\n\n      // Establish the new headers[] relationship on the parent\n      if (column.parent || hasParents) {\n        latestParentColumn = [...parentColumns].reverse()[0]\n        latestParentColumn.headers = latestParentColumn.headers || []\n        if (!latestParentColumn.headers.includes(column)) {\n          latestParentColumn.headers.push(column)\n        }\n      }\n\n      column.totalHeaderCount = column.headers\n        ? column.headers.reduce(\n            (sum, header) => sum + header.totalHeaderCount,\n            0\n          )\n        : 1 // Leaf node columns take up at least one count\n      headerGroup.headers.push(column)\n    })\n\n    headerGroups.push(headerGroup)\n\n    if (parentColumns.length) {\n      buildGroup(parentColumns, depth + 1)\n    }\n  }\n\n  buildGroup(flatColumns, 0)\n\n  return headerGroups.reverse()\n}\n\nexport function determineHeaderVisibility(instance) {\n  const { headers } = instance\n\n  const handleColumn = (column, parentVisible) => {\n    column.isVisible = parentVisible\n      ? typeof column.show === 'function'\n        ? column.show(instance)\n        : !!column.show\n      : false\n\n    let totalVisibleHeaderCount = 0\n\n    if (column.headers && column.headers.length) {\n      column.headers.forEach(\n        subColumn =>\n          (totalVisibleHeaderCount += handleColumn(subColumn, column.isVisible))\n      )\n    } else {\n      totalVisibleHeaderCount = column.isVisible ? 1 : 0\n    }\n\n    column.totalVisibleHeaderCount = totalVisibleHeaderCount\n\n    return totalVisibleHeaderCount\n  }\n\n  let totalVisibleHeaderCount = 0\n\n  headers.forEach(\n    subHeader => (totalVisibleHeaderCount += handleColumn(subHeader, true))\n  )\n}\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((cursor, pathPart) => cursor[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nexport function defaultOrderByFn(arr, funcs, dirs) {\n  return [...arr].sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const sortFn = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = sortFn(rowA, rowB)\n      if (sortInt !== 0) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    return dirs[0] ? rowA.index - rowB.index : rowB.index - rowA.index\n  })\n}\n\nexport function getFirstDefined(...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nexport function defaultGroupByFn(rows, columnId) {\n  return rows.reduce((prev, row, i) => {\n    // TODO: Might want to implement a key serializer here so\n    // irregular column values can still be grouped if needed?\n    const resKey = `${row.values[columnId]}`\n    prev[resKey] = Array.isArray(prev[resKey]) ? prev[resKey] : []\n    prev[resKey].push(row)\n    return prev\n  }, {})\n}\n\nexport function getElementDimensions(element) {\n  const rect = element.getBoundingClientRect()\n  const style = window.getComputedStyle(element)\n  const margins = {\n    left: parseInt(style.marginLeft),\n    right: parseInt(style.marginRight),\n  }\n  const padding = {\n    left: parseInt(style.paddingLeft),\n    right: parseInt(style.paddingRight),\n  }\n  return {\n    left: Math.ceil(rect.left),\n    width: Math.ceil(rect.width),\n    outerWidth: Math.ceil(\n      rect.width + margins.left + margins.right + padding.left + padding.right\n    ),\n    marginLeft: margins.left,\n    marginRight: margins.right,\n    paddingLeft: padding.left,\n    paddingRight: padding.right,\n    scrollWidth: element.scrollWidth,\n  }\n}\n\nexport function flexRender(Comp, props) {\n  return isReactComponent(Comp) ? <Comp {...props} /> : Comp\n}\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' &&\n    !!(() => {\n      let proto = Object.getPrototypeOf(component)\n      return proto.prototype && proto.prototype.isReactComponent\n    })()\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return typeof component === 'function'\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\nexport const mergeProps = (...groups) => {\n  let props = {}\n\n  groups.forEach(({ style = {}, className, ...rest } = {}) => {\n    props = {\n      ...props,\n      ...rest,\n      style: {\n        ...(props.style || {}),\n        ...style,\n      },\n      className: [props.className, className].filter(Boolean).join(' '),\n    }\n  })\n\n  if (props.className === '') {\n    delete props.className\n  }\n\n  return props\n}\n\nexport const applyHooks = (hooks, initial, ...args) =>\n  hooks.reduce((prev, next) => {\n    const nextValue = next(prev, ...args)\n    if (typeof nextValue === 'undefined') {\n      throw new Error(\n        'React Table: A hook just returned undefined! This is not allowed.'\n      )\n    }\n    return nextValue\n  }, initial)\n\nexport const applyPropHooks = (hooks, ...args) =>\n  hooks.reduce((prev, next) => mergeProps(prev, next(...args)), {})\n\nexport const warnUnknownProps = props => {\n  if (Object.keys(props).length) {\n    throw new Error(\n      `Unknown options passed to useReactTable:\n\n${JSON.stringify(props, null, 2)}`\n    )\n  }\n}\n\nexport function sum(arr) {\n  return arr.reduce((prev, curr) => prev + curr, 0)\n}\n\nexport function isFunction(a) {\n  if (typeof a === 'function') {\n    return a\n  }\n}\n\nexport function flattenBy(columns, childKey) {\n  const flatColumns = []\n\n  const recurse = columns => {\n    columns.forEach(d => {\n      if (!d[childKey]) {\n        flatColumns.push(d)\n      } else {\n        recurse(d[childKey])\n      }\n    })\n  }\n\n  recurse(columns)\n\n  return flatColumns\n}\n\nexport function ensurePluginOrder(plugins, befores, pluginName, afters) {\n  const pluginIndex = plugins.findIndex(\n    plugin => plugin.pluginName === pluginName\n  )\n\n  if (pluginIndex === -1) {\n    throw new Error(`The plugin ${pluginName} was not found in the plugin list!\nThis usually means you need to need to name your plugin hook by setting the 'pluginName' property of the hook function, eg:\n\n  ${pluginName}.pluginName = '${pluginName}'\n`)\n  }\n\n  befores.forEach(before => {\n    const beforeIndex = plugins.findIndex(\n      plugin => plugin.pluginName === before\n    )\n    if (beforeIndex > -1 && beforeIndex > pluginIndex) {\n      throw new Error(\n        `React Table: The ${pluginName} plugin hook must be placed after the ${before} plugin hook!`\n      )\n    }\n  })\n\n  afters.forEach(after => {\n    const afterIndex = plugins.findIndex(plugin => plugin.pluginName === after)\n    if (afterIndex > -1 && afterIndex < pluginIndex) {\n      throw new Error(\n        `React Table: The ${pluginName} plugin hook must be placed before the ${after} plugin hook!`\n      )\n    }\n  })\n}\n\nexport function expandRows(\n  rows,\n  { manualExpandedKey, expanded, expandSubRows = true }\n) {\n  const expandedRows = []\n\n  const handleRow = row => {\n    const key = row.path.join('.')\n\n    row.isExpanded =\n      (row.original && row.original[manualExpandedKey]) ||\n      expanded.includes(key)\n\n    row.canExpand = row.subRows && !!row.subRows.length\n\n    expandedRows.push(row)\n\n    if (expandSubRows && row.subRows && row.subRows.length && row.isExpanded) {\n      row.subRows.forEach(handleRow)\n    }\n  }\n\n  rows.forEach(handleRow)\n\n  return expandedRows\n}\n\nexport function functionalUpdate(updater, old) {\n  return typeof updater === 'function' ? updater(old) : updater\n}\n\n//\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map(d => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(/\\[/g, '.')\n      .replace(/\\]/g, '')\n      // split it back out on periods\n      .split('.')\n  )\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n","import React from 'react'\n\n//\nimport {\n  applyHooks,\n  applyPropHooks,\n  mergeProps,\n  flexRender,\n  decorateColumnTree,\n  makeHeaderGroups,\n  flattenBy,\n  determineHeaderVisibility,\n} from '../utils'\n\nconst renderErr =\n  'You must specify a valid render component. This could be \"column.Cell\", \"column.Header\", \"column.Filter\", \"column.Aggregated\" or any other custom renderer component.'\n\nexport const actions = {\n  init: 'init',\n}\nexport const defaultState = {}\nexport const reducerHandlers = {}\n\nconst defaultInitialState = {}\nconst defaultColumnInstance = {}\nconst defaultReducer = (state, action, prevState) => state\nconst defaultGetSubRows = (row, index) => row.subRows || []\nconst defaultGetRowId = (row, index) => index\n\nexport const useTable = (props, ...plugins) => {\n  // Destructure props\n  let {\n    data,\n    columns: userColumns,\n    initialState = defaultInitialState,\n    defaultColumn = defaultColumnInstance,\n    getSubRows = defaultGetSubRows,\n    getRowId = defaultGetRowId,\n    reducer: userReducer = defaultReducer,\n    debug,\n  } = props\n\n  debug = process.env.NODE_ENV === 'production' ? false : debug\n\n  const reducer = (state, action) => {\n    let nextState = Object.keys(reducerHandlers)\n      .map(key => reducerHandlers[key])\n      .reduce((state, handler) => handler(state, action) || state, state)\n\n    nextState = userReducer(nextState, action, state)\n\n    if (process.env.NODE_ENV !== 'production' && debug) {\n      console.log('')\n      console.log('React Table Action: ', action)\n      console.log('New State: ', nextState)\n    }\n    return nextState\n  }\n\n  // But use the users table state if provided\n  const [state, originalDispatch] = React.useReducer(reducer, undefined, () =>\n    reducer(initialState, { type: actions.init })\n  )\n\n  // The table instance ref\n  let instanceRef = React.useRef({})\n\n  const dispatch = React.useCallback(action => {\n    if (!action.type) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.info({ action })\n        throw new Error('Unknown Action Type! 👆')\n      }\n      throw new Error()\n    }\n    originalDispatch({ ...action, instanceRef })\n  }, [])\n\n  Object.assign(instanceRef.current, {\n    ...props,\n    data, // The raw data\n    state, // The state dispatcher\n    dispatch, // The resolved table state\n    plugins, // All resolved plugins\n    hooks: {\n      columnsBeforeHeaderGroups: [],\n      columnsBeforeHeaderGroupsDeps: [],\n      useBeforeDimensions: [],\n      useMain: [],\n      useRows: [],\n      prepareRow: [],\n      getTableProps: [],\n      getTableBodyProps: [],\n      getRowProps: [],\n      getHeaderGroupProps: [],\n      getHeaderProps: [],\n      getCellProps: [],\n    },\n  })\n\n  // Allow plugins to register hooks\n  if (process.env.NODE_ENV !== 'production' && debug) console.time('plugins')\n\n  plugins.filter(Boolean).forEach(plugin => {\n    plugin(instanceRef.current.hooks)\n  })\n\n  if (process.env.NODE_ENV !== 'production' && debug) console.timeEnd('plugins')\n\n  // Decorate All the columns\n  let columns = React.useMemo(\n    () => decorateColumnTree(userColumns, defaultColumn),\n    [defaultColumn, userColumns]\n  )\n\n  // Get the flat list of all columns and allow hooks to decorate\n  // those columns (and trigger this memoization via deps)\n  let flatColumns = React.useMemo(() => {\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.time('hooks.columnsBeforeHeaderGroups')\n\n    let newColumns = applyHooks(\n      instanceRef.current.hooks.columnsBeforeHeaderGroups,\n      flattenBy(columns, 'columns'),\n      instanceRef.current\n    )\n\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.timeEnd('hooks.columnsBeforeHeaderGroups')\n    return newColumns\n  }, [\n    columns,\n    debug,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    ...applyHooks(\n      instanceRef.current.hooks.columnsBeforeHeaderGroupsDeps,\n      [],\n      instanceRef.current\n    ),\n  ])\n\n  // Make the headerGroups\n  const headerGroups = React.useMemo(\n    () => makeHeaderGroups(flatColumns, defaultColumn),\n    [defaultColumn, flatColumns]\n  )\n\n  const headers = React.useMemo(() => headerGroups[0].headers, [headerGroups])\n\n  Object.assign(instanceRef.current, {\n    columns,\n    flatColumns,\n    headerGroups,\n    headers,\n  })\n\n  // Access the row model\n  const [rows, flatRows] = React.useMemo(() => {\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.time('getAccessedRows')\n\n    let flatRows = []\n\n    // Access the row's data\n    const accessRow = (originalRow, i, depth = 0, parentPath = []) => {\n      // Keep the original reference around\n      const original = originalRow\n\n      const rowId = getRowId(originalRow, i)\n\n      // Make the new path for the row\n      const path = [...parentPath, rowId]\n\n      const row = {\n        original,\n        index: i,\n        path, // used to create a key for each row even if not nested\n        depth,\n        cells: [{}], // This is a dummy cell\n      }\n\n      flatRows.push(row)\n\n      // Process any subRows\n      let subRows = getSubRows(originalRow, i)\n\n      if (subRows) {\n        row.subRows = subRows.map((d, i) => accessRow(d, i, depth + 1, path))\n      }\n\n      // Override common array functions (and the dummy cell's getCellProps function)\n      // to show an error if it is accessed without calling prepareRow\n      const unpreparedAccessWarning = () => {\n        throw new Error(\n          'React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.'\n        )\n      }\n      row.cells.map = unpreparedAccessWarning\n      row.cells.filter = unpreparedAccessWarning\n      row.cells.forEach = unpreparedAccessWarning\n      row.cells[0].getCellProps = unpreparedAccessWarning\n\n      // Create the cells and values\n      row.values = {}\n      flatColumns.forEach(column => {\n        row.values[column.id] = column.accessor\n          ? column.accessor(originalRow, i, { subRows, depth, data })\n          : undefined\n      })\n\n      return row\n    }\n\n    // Use the resolved data\n    const accessedData = data.map((d, i) => accessRow(d, i))\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.timeEnd('getAccessedRows')\n    return [accessedData, flatRows]\n  }, [debug, data, getRowId, getSubRows, flatColumns])\n\n  instanceRef.current.rows = rows\n  instanceRef.current.flatRows = flatRows\n\n  // Determine column visibility\n  determineHeaderVisibility(instanceRef.current)\n\n  // Provide a flat header list for utilities\n  instanceRef.current.flatHeaders = headerGroups.reduce(\n    (all, headerGroup) => [...all, ...headerGroup.headers],\n    []\n  )\n\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.time('hooks.useBeforeDimensions')\n  instanceRef.current = applyHooks(\n    instanceRef.current.hooks.useBeforeDimensions,\n    instanceRef.current\n  )\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.timeEnd('hooks.useBeforeDimensions')\n\n  calculateDimensions(instanceRef.current)\n\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.time('hooks.useMain')\n  instanceRef.current = applyHooks(\n    instanceRef.current.hooks.useMain,\n    instanceRef.current\n  )\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.timeEnd('hooks.useMain')\n\n  // Each materialized header needs to be assigned a render function and other\n  // prop getter properties here.\n  instanceRef.current.flatHeaders.forEach(column => {\n    // Give columns/headers rendering power\n    column.render = (type, userProps = {}) => {\n      const Comp = typeof type === 'string' ? column[type] : type\n\n      if (typeof Comp === 'undefined') {\n        throw new Error(renderErr)\n      }\n\n      return flexRender(Comp, {\n        ...instanceRef.current,\n        column,\n        ...userProps,\n      })\n    }\n\n    // Give columns/headers a default getHeaderProps\n    column.getHeaderProps = props =>\n      mergeProps(\n        {\n          key: ['header', column.id].join('_'),\n          colSpan: column.totalVisibleHeaderCount,\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getHeaderProps,\n          column,\n          instanceRef.current\n        ),\n        props\n      )\n  })\n\n  instanceRef.current.headerGroups.forEach((headerGroup, i) => {\n    // Filter out any headers and headerGroups that don't have visible columns\n    headerGroup.headers = headerGroup.headers.filter(header => {\n      const recurse = headers =>\n        headers.filter(header => {\n          if (header.headers) {\n            return recurse(header.headers)\n          }\n          return header.isVisible\n        }).length\n      if (header.headers) {\n        return recurse(header.headers)\n      }\n      return header.isVisible\n    })\n\n    // Give headerGroups getRowProps\n    if (headerGroup.headers.length) {\n      headerGroup.getHeaderGroupProps = (props = {}) =>\n        mergeProps(\n          {\n            key: [`header${i}`].join('_'),\n          },\n          applyPropHooks(\n            instanceRef.current.hooks.getHeaderGroupProps,\n            headerGroup,\n            instanceRef.current\n          ),\n          props\n        )\n\n      return true\n    }\n  })\n\n  // Run the rows (this could be a dangerous hook with a ton of data)\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.time('hooks.useRows')\n  instanceRef.current.rows = applyHooks(\n    instanceRef.current.hooks.useRows,\n    instanceRef.current.rows,\n    instanceRef.current\n  )\n  if (process.env.NODE_ENV !== 'production' && debug)\n    console.timeEnd('hooks.useRows')\n\n  // The prepareRow function is absolutely necessary and MUST be called on\n  // any rows the user wishes to be displayed.\n\n  instanceRef.current.prepareRow = React.useCallback(row => {\n    row.getRowProps = props =>\n      mergeProps(\n        { key: ['row', ...row.path].join('_') },\n        applyPropHooks(\n          instanceRef.current.hooks.getRowProps,\n          row,\n          instanceRef.current\n        ),\n        props\n      )\n\n    // Build the visible cells for each row\n    row.cells = instanceRef.current.flatColumns\n      .filter(d => d.isVisible)\n      .map(column => {\n        const cell = {\n          column,\n          row,\n          value: row.values[column.id],\n        }\n\n        // Give each cell a getCellProps base\n        cell.getCellProps = props => {\n          const columnPathStr = [...row.path, column.id].join('_')\n          return mergeProps(\n            {\n              key: ['cell', columnPathStr].join('_'),\n            },\n            applyPropHooks(\n              instanceRef.current.hooks.getCellProps,\n              cell,\n              instanceRef.current\n            ),\n            props\n          )\n        }\n\n        // Give each cell a renderer function (supports multiple renderers)\n        cell.render = (type, userProps = {}) => {\n          const Comp = typeof type === 'string' ? column[type] : type\n\n          if (typeof Comp === 'undefined') {\n            throw new Error(renderErr)\n          }\n\n          return flexRender(Comp, {\n            ...instanceRef.current,\n            column,\n            row,\n            cell,\n            ...userProps,\n          })\n        }\n\n        return cell\n      })\n\n    // need to apply any row specific hooks (useExpanded requires this)\n    applyHooks(instanceRef.current.hooks.prepareRow, row, instanceRef.current)\n  }, [])\n\n  instanceRef.current.getTableProps = userProps =>\n    mergeProps(\n      applyPropHooks(\n        instanceRef.current.hooks.getTableProps,\n        instanceRef.current\n      ),\n      userProps\n    )\n\n  instanceRef.current.getTableBodyProps = userProps =>\n    mergeProps(\n      applyPropHooks(\n        instanceRef.current.hooks.getTableBodyProps,\n        instanceRef.current\n      ),\n      userProps\n    )\n\n  return instanceRef.current\n}\n\nfunction calculateDimensions(instance) {\n  const { headers } = instance\n\n  instance.totalColumnsWidth = calculateHeaderWidths(headers)\n}\n\nfunction calculateHeaderWidths(headers, left = 0) {\n  let sumTotalWidth = 0\n\n  headers.forEach(header => {\n    let { headers: subHeaders } = header\n\n    header.totalLeft = left\n\n    if (subHeaders && subHeaders.length) {\n      header.totalWidth = calculateHeaderWidths(subHeaders, left)\n    } else {\n      header.totalWidth = Math.min(\n        Math.max(header.minWidth, header.width),\n        header.maxWidth\n      )\n    }\n    if (header.isVisible) {\n      left += header.totalWidth\n      sumTotalWidth += header.totalWidth\n    }\n  })\n\n  return sumTotalWidth\n}\n","import React from 'react'\n\nimport {\n  mergeProps,\n  applyPropHooks,\n  expandRows,\n  safeUseLayoutEffect,\n} from '../utils'\nimport { actions, reducerHandlers } from '../hooks/useTable'\n\nconst pluginName = 'useExpanded'\n\n// Actions\nactions.toggleExpandedByPath = 'toggleExpandedByPath'\nactions.resetExpanded = 'resetExpanded'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      expanded: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetExpanded) {\n    return {\n      ...state,\n      expanded: [],\n    }\n  }\n\n  if (action.type === actions.toggleExpandedByPath) {\n    const { path, expanded } = action\n    const key = path.join('.')\n    const exists = state.expanded.includes(key)\n    const shouldExist = typeof set !== 'undefined' ? expanded : !exists\n    let newExpanded = new Set(state.expanded)\n\n    if (!exists && shouldExist) {\n      newExpanded.add(key)\n    } else if (exists && !shouldExist) {\n      newExpanded.delete(key)\n    } else {\n      return state\n    }\n\n    return {\n      ...state,\n      expanded: [...newExpanded.values()],\n    }\n  }\n}\n\nexport const useExpanded = hooks => {\n  hooks.getExpandedToggleProps = []\n  hooks.useMain.push(useMain)\n}\n\nuseExpanded.pluginName = pluginName\n\nconst defaultGetResetExpandedDeps = ({ data }) => [data]\n\nfunction useMain(instance) {\n  const {\n    debug,\n    rows,\n    manualExpandedKey = 'expanded',\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    hooks,\n    state: { expanded },\n    dispatch,\n    getResetExpandedDeps = defaultGetResetExpandedDeps,\n  } = instance\n\n  // Bypass any effects from firing when this changes\n  const isMountedRef = React.useRef()\n  safeUseLayoutEffect(() => {\n    if (isMountedRef.current) {\n      dispatch({ type: actions.resetExpanded })\n    }\n    isMountedRef.current = true\n  }, [\n    dispatch,\n    ...(getResetExpandedDeps ? getResetExpandedDeps(instance) : []),\n  ])\n\n  const toggleExpandedByPath = (path, expanded) => {\n    dispatch({ type: actions.toggleExpandedByPath, path, expanded })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  hooks.prepareRow.push(row => {\n    row.toggleExpanded = set => toggleExpandedByPath(row.path, set)\n    row.getExpandedToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: e => {\n            e.persist()\n            row.toggleExpanded()\n          },\n          style: {\n            cursor: 'pointer',\n          },\n          title: 'Toggle Expanded',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getExpandedToggleProps,\n          row,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n    return row\n  })\n\n  const expandedRows = React.useMemo(() => {\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.info('getExpandedRows')\n\n    if (paginateExpandedRows) {\n      return expandRows(rows, { manualExpandedKey, expanded, expandSubRows })\n    }\n\n    return rows\n  }, [\n    debug,\n    paginateExpandedRows,\n    rows,\n    manualExpandedKey,\n    expanded,\n    expandSubRows,\n  ])\n\n  const expandedDepth = findExpandedDepth(expanded)\n\n  return {\n    ...instance,\n    toggleExpandedByPath,\n    expandedDepth,\n    rows: expandedRows,\n  }\n}\n\nfunction findExpandedDepth(expanded) {\n  let maxDepth = 0\n\n  expanded.forEach(key => {\n    const path = key.split('.')\n    maxDepth = Math.max(maxDepth, path.length)\n  })\n\n  return maxDepth\n}\n","export const text = (rows, id, filterValue) => {\n  rows = rows.filter(row => {\n    const rowValue = row.values[id]\n    return String(rowValue)\n      .toLowerCase()\n      .includes(String(filterValue).toLowerCase())\n  })\n  return rows\n}\n\ntext.autoRemove = val => !val\n\nexport const exactText = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue).toLowerCase() === String(filterValue).toLowerCase()\n      : true\n  })\n}\n\nexactText.autoRemove = val => !val\n\nexport const exactTextCase = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue !== undefined\n      ? String(rowValue) === String(filterValue)\n      : true\n  })\n}\n\nexactTextCase.autoRemove = val => !val\n\nexport const includes = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return filterValue.includes(rowValue)\n  })\n}\n\nincludes.autoRemove = val => !val || !val.length\n\nexport const includesAll = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return (\n      rowValue &&\n      rowValue.length &&\n      filterValue.every(val => rowValue.includes(val))\n    )\n  })\n}\n\nincludesAll.autoRemove = val => !val || !val.length\n\nexport const exact = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue === filterValue\n  })\n}\n\nexact.autoRemove = val => typeof val === 'undefined'\n\nexport const equals = (rows, id, filterValue) => {\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    // eslint-disable-next-line eqeqeq\n    return rowValue == filterValue\n  })\n}\n\nequals.autoRemove = val => val == null\n\nexport const between = (rows, id, filterValue) => {\n  let [min, max] = filterValue || []\n\n  min = typeof min === 'number' ? min : -Infinity\n  max = typeof max === 'number' ? max : Infinity\n\n  if (min > max) {\n    const temp = min\n    min = max\n    max = temp\n  }\n\n  return rows.filter(row => {\n    const rowValue = row.values[id]\n    return rowValue >= min && rowValue <= max\n  })\n}\n\nbetween.autoRemove = val =>\n  !val || (typeof val[0] !== 'number' && typeof val[1] !== 'number')\n","import React from 'react'\n\nimport {\n  getFirstDefined,\n  isFunction,\n  safeUseLayoutEffect,\n  functionalUpdate,\n} from '../utils'\nimport * as filterTypes from '../filterTypes'\nimport { actions, reducerHandlers } from '../hooks/useTable'\n\nconst pluginName = 'useFilters'\n\n// Actions\nactions.resetFilters = 'resetFilters'\nactions.setFilter = 'setFilter'\nactions.setAllFilters = 'setAllFilters'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      filters: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetFilters) {\n    return {\n      ...state,\n      filters: {},\n    }\n  }\n\n  if (action.type === actions.setFilter) {\n    const {\n      columnId,\n      filterValue,\n      instanceRef: {\n        current: { flatColumns, userFilterTypes },\n      },\n    } = action\n\n    const column = flatColumns.find(d => d.id === columnId)\n\n    if (!column) {\n      throw new Error(\n        `React-Table: Could not find a column with id: ${columnId}`\n      )\n    }\n\n    const filterMethod = getFilterMethod(\n      column.filter,\n      userFilterTypes || {},\n      filterTypes\n    )\n\n    const newFilter = functionalUpdate(filterValue, state.filters[columnId])\n\n    //\n    if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n      const { [columnId]: remove, ...newFilters } = state.filters\n\n      return {\n        ...state,\n        filters: newFilters,\n      }\n    }\n\n    return {\n      ...state,\n      filters: {\n        ...state.filters,\n        [columnId]: newFilter,\n      },\n    }\n  }\n\n  if (action.type === actions.setAllFilters) {\n    const {\n      filters,\n      instanceRef: {\n        current: { flatColumns, filterTypes: userFilterTypes },\n      },\n    } = action\n\n    const newFilters = functionalUpdate(filters, state.filters)\n\n    // Filter out undefined values\n    Object.keys(newFilters).forEach(id => {\n      const newFilter = newFilters[id]\n      const column = flatColumns.find(d => d.id === id)\n      const filterMethod = getFilterMethod(\n        column.filter,\n        userFilterTypes || {},\n        filterTypes\n      )\n\n      if (shouldAutoRemove(filterMethod.autoRemove, newFilter)) {\n        delete newFilters[id]\n      }\n    })\n\n    return {\n      ...state,\n      filters: newFilters,\n    }\n  }\n}\n\nexport const useFilters = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nuseFilters.pluginName = pluginName\n\nfunction useMain(instance) {\n  const {\n    debug,\n    rows,\n    flatRows,\n    flatColumns,\n    filterTypes: userFilterTypes,\n    manualFilters,\n    defaultCanFilter = false,\n    disableFilters,\n    state: { filters },\n    dispatch,\n    getResetFiltersDeps = false,\n  } = instance\n\n  const preFilteredRows = rows\n  const preFilteredFlatRows = flatRows\n\n  // Bypass any effects from firing when this changes\n  const isMountedRef = React.useRef()\n  safeUseLayoutEffect(() => {\n    if (isMountedRef.current) {\n      dispatch({ type: actions.resetFilters })\n    }\n    isMountedRef.current = true\n  }, [dispatch, ...(getResetFiltersDeps ? getResetFiltersDeps(instance) : [])])\n\n  const setFilter = (columnId, filterValue) => {\n    dispatch({ type: actions.setFilter, columnId, filterValue })\n  }\n\n  const setAllFilters = filters => {\n    dispatch({\n      type: actions.setAllFilters,\n      filters,\n    })\n  }\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultCanFilter: columnDefaultCanFilter,\n      disableFilters: columnDisableFilters,\n    } = column\n\n    // Determine if a column is filterable\n    column.canFilter = accessor\n      ? getFirstDefined(\n          columnDisableFilters === true ? false : undefined,\n          disableFilters === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(columnDefaultCanFilter, defaultCanFilter, false)\n\n    // Provide the column a way of updating the filter value\n    column.setFilter = val => setFilter(column.id, val)\n\n    // Provide the current filter value to the column for\n    // convenience\n    column.filterValue = filters[id]\n  })\n\n  // TODO: Create a filter cache for incremental high speed multi-filtering\n  // This gets pretty complicated pretty fast, since you have to maintain a\n  // cache for each row group (top-level rows, and each row's recursive subrows)\n  // This would make multi-filtering a lot faster though. Too far?\n\n  const { filteredRows, filteredFlatRows } = React.useMemo(() => {\n    if (manualFilters || !Object.keys(filters).length) {\n      return {\n        filteredRows: rows,\n        filteredFlatRows: flatRows,\n      }\n    }\n\n    const filteredFlatRows = []\n\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.info('getFilteredRows')\n\n    // Filters top level and nested rows\n    const filterRows = (rows, depth = 0) => {\n      let filteredRows = rows\n\n      filteredRows = Object.entries(filters).reduce(\n        (filteredSoFar, [columnId, filterValue]) => {\n          // Find the filters column\n          const column = flatColumns.find(d => d.id === columnId)\n\n          if (!column) {\n            return filteredSoFar\n          }\n\n          if (depth === 0) {\n            column.preFilteredRows = filteredSoFar\n          }\n\n          const filterMethod = getFilterMethod(\n            column.filter,\n            userFilterTypes || {},\n            filterTypes\n          )\n\n          if (!filterMethod) {\n            console.warn(\n              `Could not find a valid 'column.filter' for column with the ID: ${column.id}.`\n            )\n            return filteredSoFar\n          }\n\n          // Pass the rows, id, filterValue and column to the filterMethod\n          // to get the filtered rows back\n          column.filteredRows = filterMethod(\n            filteredSoFar,\n            columnId,\n            filterValue,\n            column\n          )\n\n          return column.filteredRows\n        },\n        rows\n      )\n\n      // Apply the filter to any subRows\n      // We technically could do this recursively in the above loop,\n      // but that would severely hinder the API for the user, since they\n      // would be required to do that recursion in some scenarios\n      filteredRows = filteredRows.map(row => {\n        filteredFlatRows.push(row)\n        if (!row.subRows) {\n          return row\n        }\n        return {\n          ...row,\n          subRows:\n            row.subRows && row.subRows.length > 0\n              ? filterRows(row.subRows, depth + 1)\n              : row.subRows,\n        }\n      })\n\n      return filteredRows\n    }\n\n    return {\n      filteredRows: filterRows(rows),\n      filteredFlatRows,\n    }\n  }, [\n    manualFilters,\n    filters,\n    debug,\n    rows,\n    flatRows,\n    flatColumns,\n    userFilterTypes,\n  ])\n\n  React.useMemo(() => {\n    // Now that each filtered column has it's partially filtered rows,\n    // lets assign the final filtered rows to all of the other columns\n    const nonFilteredColumns = flatColumns.filter(\n      column => !Object.keys(filters).includes(column.id)\n    )\n\n    // This essentially enables faceted filter options to be built easily\n    // using every column's preFilteredRows value\n    nonFilteredColumns.forEach(column => {\n      column.preFilteredRows = filteredRows\n      column.filteredRows = filteredRows\n    })\n  }, [filteredRows, filters, flatColumns])\n\n  return {\n    ...instance,\n    setFilter,\n    setAllFilters,\n    preFilteredRows,\n    preFilteredFlatRows,\n    rows: filteredRows,\n    flatRows: filteredFlatRows,\n  }\n}\n\nfunction shouldAutoRemove(autoRemove, value) {\n  return autoRemove ? autoRemove(value) : typeof value === 'undefined'\n}\n\nfunction getFilterMethod(filter, userFilterTypes, filterTypes) {\n  return (\n    isFunction(filter) ||\n    userFilterTypes[filter] ||\n    filterTypes[filter] ||\n    filterTypes.text\n  )\n}\n","export function sum(values, rows) {\n  return values.reduce((sum, next) => sum + next, 0)\n}\n\nexport function average(values, rows) {\n  return Math.round((sum(values, rows) / values.length) * 100) / 100\n}\n\nexport function median(values) {\n  values = values.length ? values : [0]\n  let min = Math.min(...values)\n  let max = Math.max(...values)\n\n  return (min + max) / 2\n}\n\nexport function uniqueCount(values) {\n  return new Set(values).size\n}\n\nexport function count(values) {\n  return values.length\n}\n","import React from 'react'\n\nimport * as aggregations from '../aggregations'\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport {\n  mergeProps,\n  applyPropHooks,\n  defaultGroupByFn,\n  getFirstDefined,\n  ensurePluginOrder,\n} from '../utils'\n\nconst pluginName = 'useGroupBy'\n\n// Actions\nactions.resetGroupBy = 'resetGroupBy'\nactions.toggleGroupBy = 'toggleGroupBy'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      groupBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetGroupBy) {\n    return {\n      ...state,\n      groupBy: [],\n    }\n  }\n\n  if (action.type === actions.toggleGroupBy) {\n    const { columnId, toggle } = action\n\n    const resolvedToggle =\n      typeof toggle !== 'undefined' ? toggle : !state.groupBy.includes(columnId)\n\n    if (resolvedToggle) {\n      return {\n        ...state,\n        groupBy: [...state.groupBy, columnId],\n      }\n    }\n\n    return {\n      ...state,\n      groupBy: state.groupBy.filter(d => d !== columnId),\n    }\n  }\n}\n\nexport const useGroupBy = hooks => {\n  hooks.columnsBeforeHeaderGroups.push(columnsBeforeHeaderGroups)\n  hooks.columnsBeforeHeaderGroupsDeps.push((deps, instance) => {\n    deps.push(instance.state.groupBy)\n    return deps\n  })\n  hooks.useMain.push(useMain)\n}\n\nuseGroupBy.pluginName = pluginName\n\nfunction columnsBeforeHeaderGroups(flatColumns, { state: { groupBy } }) {\n  // Sort grouped columns to the start of the column list\n  // before the headers are built\n\n  const groupByColumns = groupBy.map(g => flatColumns.find(col => col.id === g))\n  const nonGroupByColumns = flatColumns.filter(col => !groupBy.includes(col.id))\n\n  // If a groupByBoundary column is found, place the groupBy's after it\n  const groupByBoundaryColumnIndex =\n    flatColumns.findIndex(column => column.groupByBoundary) + 1\n\n  return [\n    ...nonGroupByColumns.slice(0, groupByBoundaryColumnIndex),\n    ...groupByColumns,\n    ...nonGroupByColumns.slice(groupByBoundaryColumnIndex),\n  ]\n}\n\nconst defaultUserAggregations = {}\n\nfunction useMain(instance) {\n  const {\n    debug,\n    rows,\n    flatRows,\n    flatColumns,\n    flatHeaders,\n    groupByFn = defaultGroupByFn,\n    manualGroupBy,\n    defaultCanGroupBy,\n    disableGroupBy,\n    aggregations: userAggregations = defaultUserAggregations,\n    hooks,\n    plugins,\n    state: { groupBy },\n    dispatch,\n  } = instance\n\n  ensurePluginOrder(plugins, [], 'useGroupBy', ['useSortBy', 'useExpanded'])\n\n  flatColumns.forEach(column => {\n    const {\n      id,\n      accessor,\n      defaultGroupBy: defaultColumnGroupBy,\n      disableGroupBy: columnDisableGroupBy,\n    } = column\n    column.isGrouped = groupBy.includes(id)\n    column.groupedIndex = groupBy.indexOf(id)\n\n    column.canGroupBy = accessor\n      ? getFirstDefined(\n          columnDisableGroupBy === true ? false : undefined,\n          disableGroupBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultColumnGroupBy, defaultCanGroupBy, false)\n\n    if (column.canGroupBy) {\n      column.toggleGroupBy = () => toggleGroupBy(column.id)\n    }\n\n    column.Aggregated = column.Aggregated || column.Cell\n  })\n\n  const toggleGroupBy = (columnId, toggle) => {\n    dispatch({ type: actions.toggleGroupBy, columnId, toggle })\n  }\n\n  hooks.getGroupByToggleProps = []\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  flatHeaders.forEach(header => {\n    const { canGroupBy } = header\n    header.getGroupByToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: canGroupBy\n            ? e => {\n                e.persist()\n                header.toggleGroupBy()\n              }\n            : undefined,\n          style: {\n            cursor: canGroupBy ? 'pointer' : undefined,\n          },\n          title: 'Toggle GroupBy',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getGroupByToggleProps,\n          header,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n  })\n\n  hooks.prepareRow.push(row => {\n    row.cells.forEach(cell => {\n      // Grouped cells are in the groupBy and the pivot cell for the row\n      cell.isGrouped = cell.column.isGrouped && cell.column.id === row.groupByID\n      // Repeated cells are any columns in the groupBy that are not grouped\n      cell.isRepeatedValue = !cell.isGrouped && cell.column.isGrouped\n      // Aggregated cells are not grouped, not repeated, but still have subRows\n      cell.isAggregated =\n        !cell.isGrouped && !cell.isRepeatedValue && row.canExpand\n    })\n    return row\n  })\n\n  const [groupedRows, groupedFlatRows] = React.useMemo(() => {\n    if (manualGroupBy || !groupBy.length) {\n      return [rows, flatRows]\n    }\n\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.info('getGroupedRows')\n    // Find the columns that can or are aggregating\n\n    // Uses each column to aggregate rows into a single value\n    const aggregateRowsToValues = (rows, isAggregated) => {\n      const values = {}\n\n      flatColumns.forEach(column => {\n        // Don't aggregate columns that are in the groupBy\n        if (groupBy.includes(column.id)) {\n          values[column.id] = rows[0] ? rows[0].values[column.id] : null\n          return\n        }\n\n        const columnValues = rows.map(d => d.values[column.id])\n\n        let aggregator = column.aggregate\n\n        if (Array.isArray(aggregator)) {\n          if (aggregator.length !== 2) {\n            console.info({ column })\n            throw new Error(\n              `React Table: Complex aggregators must have 2 values, eg. aggregate: ['sum', 'count']. More info above...`\n            )\n          }\n          if (isAggregated) {\n            aggregator = aggregator[1]\n          } else {\n            aggregator = aggregator[0]\n          }\n        }\n\n        let aggregateFn =\n          typeof aggregator === 'function'\n            ? aggregator\n            : userAggregations[aggregator] || aggregations[aggregator]\n\n        if (aggregateFn) {\n          values[column.id] = aggregateFn(columnValues, rows, isAggregated)\n        } else if (aggregator) {\n          console.info({ column })\n          throw new Error(\n            `React Table: Invalid aggregate option for column listed above`\n          )\n        } else {\n          values[column.id] = null\n        }\n      })\n      return values\n    }\n\n    let groupedFlatRows = []\n\n    // Recursively group the data\n    const groupRecursively = (rows, depth = 0, parentPath = []) => {\n      // This is the last level, just return the rows\n      if (depth >= groupBy.length) {\n        rows.forEach(row => {\n          row.path = [...parentPath, ...row.path]\n        })\n        groupedFlatRows = groupedFlatRows.concat(rows)\n        return rows\n      }\n\n      const columnId = groupBy[depth]\n\n      // Group the rows together for this level\n      let groupedRows = groupByFn(rows, columnId)\n\n      // Recurse to sub rows before aggregation\n      groupedRows = Object.entries(groupedRows).map(\n        ([groupByVal, subRows], index) => {\n          const path = [...parentPath, `${columnId}:${groupByVal}`]\n\n          subRows = groupRecursively(subRows, depth + 1, path)\n\n          const values = aggregateRowsToValues(subRows, depth < groupBy.length)\n\n          const row = {\n            isAggregated: true,\n            groupByID: columnId,\n            groupByVal,\n            values,\n            subRows,\n            depth,\n            index,\n            path,\n          }\n\n          groupedFlatRows.push(row)\n\n          return row\n        }\n      )\n\n      return groupedRows\n    }\n\n    const groupedRows = groupRecursively(rows)\n\n    // Assign the new data\n    return [groupedRows, groupedFlatRows]\n  }, [\n    manualGroupBy,\n    groupBy,\n    debug,\n    rows,\n    flatRows,\n    flatColumns,\n    userAggregations,\n    groupByFn,\n  ])\n\n  return {\n    ...instance,\n    toggleGroupBy,\n    rows: groupedRows,\n    flatRows: groupedFlatRows,\n    preGroupedRows: rows,\n  }\n}\n","const reSplitAlphaNumeric = /([0-9]+)/gm\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nexport const alphanumeric = (rowA, rowB, columnId) => {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n  // Force to strings (or \"\" for unsupported types)\n  a = toString(a)\n  b = toString(b)\n\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  a = a.split(reSplitAlphaNumeric).filter(Boolean)\n  b = b.split(reSplitAlphaNumeric).filter(Boolean)\n\n  // While\n  while (a.length && b.length) {\n    let aa = a.shift()\n    let bb = b.shift()\n\n    const an = parseInt(aa, 10)\n    const bn = parseInt(bb, 10)\n\n    const combo = [an, bn].sort()\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1\n      }\n      if (bb > aa) {\n        return -1\n      }\n      continue\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1\n    }\n    if (bn > an) {\n      return -1\n    }\n  }\n\n  return a.length - b.length\n}\n\nexport function datetime(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  a = a.getTime()\n  b = b.getTime()\n\n  return compareBasic(a, b)\n}\n\nexport function basic(rowA, rowB, columnId) {\n  let a = getRowValueByColumnID(rowA, columnId)\n  let b = getRowValueByColumnID(rowB, columnId)\n\n  return compareBasic(a, b)\n}\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1\n}\n\nfunction getRowValueByColumnID(row, columnId) {\n  return row.values[columnId]\n}\n\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return ''\n    }\n    return String(a)\n  }\n  if (typeof a === 'string') {\n    return a\n  }\n  return ''\n}\n","import React from 'react'\n\nimport { ensurePluginOrder, defaultColumn, safeUseLayoutEffect } from '../utils'\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport * as sortTypes from '../sortTypes'\nimport {\n  mergeProps,\n  applyPropHooks,\n  getFirstDefined,\n  defaultOrderByFn,\n  isFunction,\n} from '../utils'\n\nconst pluginName = 'useSortBy'\n\n// Actions\nactions.resetSortBy = 'resetSortBy'\nactions.toggleSortBy = 'toggleSortBy'\nactions.clearSortBy = 'clearSortBy'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      sortBy: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSortBy) {\n    return {\n      ...state,\n      sortBy: {},\n    }\n  }\n\n  if (action.type === actions.clearSortBy) {\n    const { sortBy } = state\n    const newSortBy = sortBy.filter(d => d.id !== action.columnID)\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n\n  if (action.type === actions.toggleSortBy) {\n    const {\n      columnId,\n      desc,\n      multi,\n      instanceRef: {\n        current: {\n          flatColumns,\n          disableMultiSort,\n          disableSortRemove,\n          disableMultiRemove,\n          maxMultiSortColCount = Number.MAX_SAFE_INTEGER,\n        },\n      },\n    } = action\n    const { sortBy } = state\n\n    // Find the column for this columnId\n    const column = flatColumns.find(d => d.id === columnId)\n    const { sortDescFirst } = column\n\n    // Find any existing sortBy for this column\n    const existingSortBy = sortBy.find(d => d.id === columnId)\n    const existingIndex = sortBy.findIndex(d => d.id === columnId)\n    const hasDescDefined = typeof desc !== 'undefined' && desc !== null\n\n    let newSortBy = []\n\n    // What should we do with this sort action?\n    let sortAction\n\n    if (!disableMultiSort && multi) {\n      if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'add'\n      }\n    } else {\n      // Normal mode\n      if (existingIndex !== sortBy.length - 1) {\n        sortAction = 'replace'\n      } else if (existingSortBy) {\n        sortAction = 'toggle'\n      } else {\n        sortAction = 'replace'\n      }\n    }\n\n    // Handle toggle states that will remove the sortBy\n    if (\n      sortAction === 'toggle' && // Must be toggling\n      !disableSortRemove && // If disableSortRemove, disable in general\n      !hasDescDefined && // Must not be setting desc\n      (multi ? !disableMultiRemove : true) && // If multi, don't allow if disableMultiRemove\n      ((existingSortBy && // Finally, detect if it should indeed be removed\n        existingSortBy.desc &&\n        !sortDescFirst) ||\n        (!existingSortBy.desc && sortDescFirst))\n    ) {\n      sortAction = 'remove'\n    }\n\n    if (sortAction === 'replace') {\n      newSortBy = [\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n    } else if (sortAction === 'add') {\n      newSortBy = [\n        ...sortBy,\n        {\n          id: columnId,\n          desc: hasDescDefined ? desc : sortDescFirst,\n        },\n      ]\n      // Take latest n columns\n      newSortBy.splice(0, newSortBy.length - maxMultiSortColCount)\n    } else if (sortAction === 'toggle') {\n      // This flips (or sets) the\n      newSortBy = sortBy.map(d => {\n        if (d.id === columnId) {\n          return {\n            ...d,\n            desc: hasDescDefined ? desc : !existingSortBy.desc,\n          }\n        }\n        return d\n      })\n    } else if (sortAction === 'remove') {\n      newSortBy = sortBy.filter(d => d.id !== columnId)\n    }\n\n    return {\n      ...state,\n      sortBy: newSortBy,\n    }\n  }\n}\n\ndefaultColumn.sortType = 'alphanumeric'\ndefaultColumn.sortDescFirst = false\n\nexport const useSortBy = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nuseSortBy.pluginName = pluginName\n\nfunction useMain(instance) {\n  const {\n    debug,\n    rows,\n    flatColumns,\n    orderByFn = defaultOrderByFn,\n    sortTypes: userSortTypes,\n    manualSorting,\n    defaultCanSort,\n    disableSortBy,\n    isMultiSortEvent = e => e.shiftKey,\n    flatHeaders,\n    hooks,\n    state: { sortBy },\n    dispatch,\n    plugins,\n    getResetSortByDeps = false,\n  } = instance\n\n  ensurePluginOrder(plugins, ['useFilters'], 'useSortBy', [])\n  // Add custom hooks\n  hooks.getSortByToggleProps = []\n\n  // Bypass any effects from firing when this changes\n  const isMountedRef = React.useRef()\n  safeUseLayoutEffect(() => {\n    if (isMountedRef.current) {\n      dispatch({ type: actions.resetSortBy })\n    }\n    isMountedRef.current = true\n  }, [dispatch, ...(getResetSortByDeps ? getResetSortByDeps(instance) : [])])\n\n  // Updates sorting based on a columnId, desc flag and multi flag\n  const toggleSortBy = (columnId, desc, multi) => {\n    dispatch({ type: actions.toggleSortBy, columnId, desc, multi })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  // Add the getSortByToggleProps method to columns and headers\n  flatHeaders.forEach(column => {\n    const {\n      accessor,\n      canSort: defaultColumnCanSort,\n      disableSortBy: columnDisableSortBy,\n      id,\n    } = column\n\n    const canSort = accessor\n      ? getFirstDefined(\n          columnDisableSortBy === true ? false : undefined,\n          disableSortBy === true ? false : undefined,\n          true\n        )\n      : getFirstDefined(defaultCanSort, defaultColumnCanSort, false)\n\n    column.canSort = canSort\n\n    if (column.canSort) {\n      column.toggleSortBy = (desc, multi) =>\n        toggleSortBy(column.id, desc, multi)\n\n      column.clearSortBy = () => {\n        dispatch({ type: actions.clearSortBy, columnId: column.id })\n      }\n    }\n\n    column.getSortByToggleProps = props => {\n      return mergeProps(\n        {\n          onClick: canSort\n            ? e => {\n                e.persist()\n                column.toggleSortBy(\n                  undefined,\n                  !instanceRef.current.disableMultiSort && isMultiSortEvent(e)\n                )\n              }\n            : undefined,\n          style: {\n            cursor: canSort ? 'pointer' : undefined,\n          },\n          title: 'Toggle SortBy',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getSortByToggleProps,\n          column,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n\n    const columnSort = sortBy.find(d => d.id === id)\n    column.isSorted = !!columnSort\n    column.sortedIndex = sortBy.findIndex(d => d.id === id)\n    column.isSortedDesc = column.isSorted ? columnSort.desc : undefined\n  })\n\n  const sortedRows = React.useMemo(() => {\n    if (manualSorting || !sortBy.length) {\n      return rows\n    }\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.time('getSortedRows')\n\n    // Filter out sortBys that correspond to non existing columns\n    const availableSortBy = sortBy.filter(sort =>\n      flatColumns.find(col => col.id === sort.id)\n    )\n\n    const sortData = rows => {\n      // Use the orderByFn to compose multiple sortBy's together.\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = orderByFn(\n        rows,\n        availableSortBy.map(sort => {\n          // Support custom sorting methods for each column\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (!column) {\n            throw new Error(\n              `React-Table: Could not find a column with id: ${sort.id} while sorting`\n            )\n          }\n\n          const { sortType } = column\n\n          // Look up sortBy functions in this order:\n          // column function\n          // column string lookup on user sortType\n          // column string lookup on built-in sortType\n          // default function\n          // default string lookup on user sortType\n          // default string lookup on built-in sortType\n          const sortMethod =\n            isFunction(sortType) ||\n            (userSortTypes || {})[sortType] ||\n            sortTypes[sortType]\n\n          if (!sortMethod) {\n            throw new Error(\n              `React-Table: Could not find a valid sortType of '${sortType}' for column '${sort.id}'.`\n            )\n          }\n\n          // Return the correct sortFn.\n          // This function should always return in ascending order\n          return (a, b) => sortMethod(a, b, sort.id)\n        }),\n        // Map the directions\n        availableSortBy.map(sort => {\n          // Detect and use the sortInverted option\n          const column = flatColumns.find(d => d.id === sort.id)\n\n          if (column && column.sortInverted) {\n            return sort.desc\n          }\n\n          return !sort.desc\n        })\n      )\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        if (!row.subRows || row.subRows.length <= 1) {\n          return\n        }\n        row.subRows = sortData(row.subRows)\n      })\n\n      return sortedData\n    }\n\n    if (process.env.NODE_ENV !== 'production' && debug)\n      console.timeEnd('getSortedRows')\n\n    return sortData(rows)\n  }, [\n    manualSorting,\n    sortBy,\n    debug,\n    rows,\n    flatColumns,\n    orderByFn,\n    userSortTypes,\n  ])\n\n  return {\n    ...instance,\n    toggleSortBy,\n    rows: sortedRows,\n    preSortedRows: rows,\n  }\n}\n","import React from 'react'\n\n//\n\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport {\n  ensurePluginOrder,\n  safeUseLayoutEffect,\n  expandRows,\n  functionalUpdate,\n} from '../utils'\n\nconst pluginName = 'usePagination'\n\n// Actions\nactions.resetPage = 'resetPage'\nactions.gotoPage = 'gotoPage'\nactions.setPageSize = 'setPageSize'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      pageSize: 10,\n      pageIndex: 0,\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetPage) {\n    return {\n      ...state,\n      pageIndex: 0,\n    }\n  }\n\n  if (action.type === actions.gotoPage) {\n    const { pageCount } = action.instanceRef.current\n    const newPageIndex = functionalUpdate(action.pageIndex, state.pageIndex)\n\n    if (newPageIndex < 0 || newPageIndex > pageCount - 1) {\n      return state\n    }\n    return {\n      ...state,\n      pageIndex: newPageIndex,\n    }\n  }\n\n  if (action.type === actions.setPageSize) {\n    const { pageSize } = action\n    const topRowIndex = state.pageSize * state.pageIndex\n    const pageIndex = Math.floor(topRowIndex / pageSize)\n\n    return {\n      ...state,\n      pageIndex,\n      pageSize,\n    }\n  }\n}\n\nexport const usePagination = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nusePagination.pluginName = pluginName\n\nconst defaultGetResetPageDeps = ({\n  data,\n  manualPagination,\n  state: { filters, groupBy, sortBy },\n}) => [manualPagination ? null : data, filters, groupBy, sortBy]\n\nfunction useMain(instance) {\n  const {\n    rows,\n    manualPagination,\n    getResetPageDeps = defaultGetResetPageDeps,\n    manualExpandedKey = 'expanded',\n    debug,\n    plugins,\n    pageCount: userPageCount,\n    paginateExpandedRows = true,\n    expandSubRows = true,\n    state: { pageSize, pageIndex, expanded },\n    dispatch,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy', 'useExpanded'],\n    'usePagination',\n    []\n  )\n\n  // Bypass any effects from firing when this changes\n  const isMountedRef = React.useRef()\n  safeUseLayoutEffect(() => {\n    if (isMountedRef.current) {\n      dispatch({ type: actions.resetPage })\n    }\n    isMountedRef.current = true\n  }, [dispatch, ...(getResetPageDeps ? getResetPageDeps(instance) : [])])\n\n  const pageCount = manualPagination\n    ? userPageCount\n    : Math.ceil(rows.length / pageSize)\n\n  const pageOptions = React.useMemo(\n    () => (pageCount > 0 ? [...new Array(pageCount)].map((d, i) => i) : []),\n    [pageCount]\n  )\n\n  const page = React.useMemo(() => {\n    let page\n\n    if (manualPagination) {\n      page = rows\n    } else {\n      if (process.env.NODE_ENV !== 'production' && debug)\n        console.info('getPage')\n\n      const pageStart = pageSize * pageIndex\n      const pageEnd = pageStart + pageSize\n\n      page = rows.slice(pageStart, pageEnd)\n    }\n\n    if (paginateExpandedRows) {\n      return page\n    }\n\n    return expandRows(page, { manualExpandedKey, expanded, expandSubRows })\n  }, [\n    debug,\n    expandSubRows,\n    expanded,\n    manualExpandedKey,\n    manualPagination,\n    pageIndex,\n    pageSize,\n    paginateExpandedRows,\n    rows,\n  ])\n\n  const canPreviousPage = pageIndex > 0\n  const canNextPage = pageCount === -1 || pageIndex < pageCount - 1\n\n  const gotoPage = React.useCallback(\n    pageIndex => {\n      dispatch({ type: actions.gotoPage, pageIndex })\n    },\n    [dispatch]\n  )\n\n  const previousPage = React.useCallback(() => {\n    return gotoPage(old => old - 1)\n  }, [gotoPage])\n\n  const nextPage = React.useCallback(() => {\n    return gotoPage(old => old + 1)\n  }, [gotoPage])\n\n  const setPageSize = React.useCallback(\n    pageSize => {\n      dispatch({ type: actions.setPageSize, pageSize })\n    },\n    [dispatch]\n  )\n\n  return {\n    ...instance,\n    pageOptions,\n    pageCount,\n    page,\n    canPreviousPage,\n    canNextPage,\n    gotoPage,\n    previousPage,\n    nextPage,\n    setPageSize,\n    pageIndex,\n    pageSize,\n  }\n}\n","import React from 'react'\n\nimport {\n  mergeProps,\n  applyPropHooks,\n  ensurePluginOrder,\n  safeUseLayoutEffect,\n} from '../utils'\nimport { actions, reducerHandlers } from '../hooks/useTable'\n\nconst pluginName = 'useRowSelect'\n\n// Actions\nactions.resetSelectedRows = 'resetSelectedRows'\nactions.toggleRowSelectedAll = 'toggleRowSelectedAll'\nactions.toggleRowSelected = 'toggleRowSelected'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      selectedRowPaths: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetSelectedRows) {\n    return {\n      ...state,\n      selectedRowPaths: [],\n    }\n  }\n\n  if (action.type === actions.toggleRowSelectedAll) {\n    const {\n      selected,\n      instanceRef: {\n        current: { isAllRowsSelected, flatRowPaths },\n      },\n    } = action\n\n    const selectAll =\n      typeof selected !== 'undefined' ? selected : !isAllRowsSelected\n\n    return {\n      ...state,\n      selectedRowPaths: selectAll ? flatRowPaths : [],\n    }\n  }\n\n  if (action.type === actions.toggleRowSelected) {\n    const {\n      path,\n      selected,\n      instanceRef: {\n        current: { flatRowPaths },\n      },\n    } = action\n\n    const key = path.join('.')\n    const childRowPrefixKey = [key, '.'].join('')\n\n    // Join the paths of deep rows\n    // to make a key, then manage all of the keys\n    // in a flat object\n    const exists = state.selectedRowPaths.includes(key)\n    const shouldExist = typeof set !== 'undefined' ? selected : !exists\n    let newSelectedRows = new Set(state.selectedRowPaths)\n\n    if (!exists && shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRows.add(rowPath)\n        }\n      })\n    } else if (exists && !shouldExist) {\n      flatRowPaths.forEach(rowPath => {\n        if (rowPath === key || rowPath.startsWith(childRowPrefixKey)) {\n          newSelectedRows.delete(rowPath)\n        }\n      })\n    } else {\n      return state\n    }\n\n    const updateParentRow = (selectedRowPaths, path) => {\n      const parentPath = path.slice(0, path.length - 1)\n      const parentKey = parentPath.join('.')\n      const selected =\n        flatRowPaths.filter(rowPath => {\n          const path = rowPath\n          return (\n            path !== parentKey &&\n            path.startsWith(parentKey) &&\n            !selectedRowPaths.has(path)\n          )\n        }).length === 0\n      if (selected) {\n        selectedRowPaths.add(parentKey)\n      } else {\n        selectedRowPaths.delete(parentKey)\n      }\n      if (parentPath.length > 1) updateParentRow(selectedRowPaths, parentPath)\n    }\n\n    // If the row is a subRow update\n    // its parent row to reflect changes\n    if (path.length > 1) updateParentRow(newSelectedRows, path)\n\n    return {\n      ...state,\n      selectedRowPaths: [...newSelectedRows.values()],\n    }\n  }\n}\n\nexport const useRowSelect = hooks => {\n  hooks.getToggleRowSelectedProps = []\n  hooks.getToggleAllRowsSelectedProps = []\n  hooks.useRows.push(useRows)\n  hooks.useMain.push(useMain)\n}\n\nuseRowSelect.pluginName = pluginName\n\nfunction useRows(rows, instance) {\n  const {\n    state: { selectedRowPaths },\n  } = instance\n\n  instance.selectedFlatRows = React.useMemo(() => {\n    const selectedFlatRows = []\n\n    rows.forEach(row => {\n      row.isSelected = getRowIsSelected(row, selectedRowPaths)\n\n      if (row.isSelected) {\n        selectedFlatRows.push(row)\n      }\n    })\n\n    return selectedFlatRows\n  }, [rows, selectedRowPaths])\n\n  return rows\n}\n\nconst defaultGetResetSelectedRowPathsDeps = ({ data }) => [data]\n\nfunction useMain(instance) {\n  const {\n    hooks,\n    manualRowSelectedKey = 'isSelected',\n    plugins,\n    flatRows,\n    getResetSelectedRowPathsDeps = defaultGetResetSelectedRowPathsDeps,\n    state: { selectedRowPaths },\n    dispatch,\n  } = instance\n\n  ensurePluginOrder(\n    plugins,\n    ['useFilters', 'useGroupBy', 'useSortBy'],\n    'useRowSelect',\n    []\n  )\n\n  const flatRowPaths = flatRows.map(d => d.path.join('.'))\n\n  let isAllRowsSelected = !!flatRowPaths.length && !!selectedRowPaths.length\n\n  if (isAllRowsSelected) {\n    if (flatRowPaths.some(d => !selectedRowPaths.includes(d))) {\n      isAllRowsSelected = false\n    }\n  }\n\n  // Bypass any effects from firing when this changes\n  const isMountedRef = React.useRef()\n  safeUseLayoutEffect(() => {\n    if (isMountedRef.current) {\n      dispatch({ type: actions.resetSelectedRows })\n    }\n    isMountedRef.current = true\n  }, [\n    dispatch,\n    ...(getResetSelectedRowPathsDeps\n      ? getResetSelectedRowPathsDeps(instance)\n      : []),\n  ])\n\n  const toggleRowSelectedAll = selected =>\n    dispatch({ type: actions.toggleRowSelectedAll, selected })\n\n  const toggleRowSelected = (path, selected) =>\n    dispatch({ type: actions.toggleRowSelected, path, selected })\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  const getToggleAllRowsSelectedProps = props => {\n    return mergeProps(\n      {\n        onChange: e => {\n          toggleRowSelectedAll(e.target.checked)\n        },\n        style: {\n          cursor: 'pointer',\n        },\n        checked: isAllRowsSelected,\n        title: 'Toggle All Rows Selected',\n      },\n      applyPropHooks(\n        instanceRef.current.hooks.getToggleAllRowsSelectedProps,\n        instanceRef.current\n      ),\n      props\n    )\n  }\n\n  hooks.prepareRow.push(row => {\n    row.toggleRowSelected = set => toggleRowSelected(row.path, set)\n    row.getToggleRowSelectedProps = props => {\n      let checked = false\n\n      if (row.original && row.original[manualRowSelectedKey]) {\n        checked = true\n      } else {\n        checked = row.isSelected\n      }\n\n      return mergeProps(\n        {\n          onChange: e => {\n            row.toggleRowSelected(e.target.checked)\n          },\n          style: {\n            cursor: 'pointer',\n          },\n          checked,\n          title: 'Toggle Row Selected',\n        },\n        applyPropHooks(\n          instanceRef.current.hooks.getToggleRowSelectedProps,\n          row,\n          instanceRef.current\n        ),\n        props\n      )\n    }\n\n    return row\n  })\n\n  return {\n    ...instance,\n    flatRowPaths,\n    toggleRowSelected,\n    toggleRowSelectedAll,\n    getToggleAllRowsSelectedProps,\n    isAllRowsSelected,\n  }\n}\n\nfunction getRowIsSelected(row, selectedRowPaths) {\n  if (row.isAggregated) {\n    return row.subRows.every(subRow =>\n      getRowIsSelected(subRow, selectedRowPaths)\n    )\n  }\n\n  return selectedRowPaths.includes(row.path.join('.'))\n}\n","import React from 'react'\n\n//\n\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport { functionalUpdate, safeUseLayoutEffect } from '../utils'\n\nconst pluginName = 'useRowState'\n\n// Actions\nactions.setRowState = 'setRowState'\nactions.resetRowState = 'resetRowState'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      rowState: {},\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetRowState) {\n    return {\n      ...state,\n      rowState: {},\n    }\n  }\n\n  if (action.type === actions.setRowState) {\n    const { path, value } = action\n\n    const pathKey = path.join('.')\n\n    return {\n      ...state,\n      rowState: {\n        ...state.rowState,\n        [pathKey]: functionalUpdate(value, state.rowState[pathKey]),\n      },\n    }\n  }\n}\n\nexport const useRowState = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nuseRowState.pluginName = pluginName\n\nconst defaultGetResetRowStateDeps = ({ data }) => [data]\n\nfunction useMain(instance) {\n  const {\n    hooks,\n    initialRowStateAccessor,\n    getResetRowStateDeps = defaultGetResetRowStateDeps,\n    state: { rowState },\n    dispatch,\n  } = instance\n\n  const setRowState = React.useCallback(\n    (path, value, columnId) =>\n      dispatch({\n        type: actions.setRowState,\n        path,\n        value,\n        columnId,\n      }),\n    [dispatch]\n  )\n\n  const setCellState = React.useCallback(\n    (rowPath, columnId, updater) => {\n      return setRowState(\n        rowPath,\n        old => {\n          return {\n            ...old,\n            cellState: {\n              ...old.cellState,\n              [columnId]:\n                typeof updater === 'function'\n                  ? updater(old.cellState[columnId])\n                  : updater,\n            },\n          }\n        },\n        columnId\n      )\n    },\n    [setRowState]\n  )\n\n  const rowsMountedRef = React.useRef()\n\n  // When data changes, reset row and cell state\n  safeUseLayoutEffect(() => {\n    if (rowsMountedRef.current) {\n      dispatch({ type: actions.resetRowState })\n    }\n\n    rowsMountedRef.current = true\n  }, [\n    dispatch,\n    ...(getResetRowStateDeps ? getResetRowStateDeps(instance) : []),\n  ])\n\n  hooks.prepareRow.push(row => {\n    const pathKey = row.path.join('.')\n\n    if (row.original) {\n      row.state =\n        (typeof rowState[pathKey] !== 'undefined'\n          ? rowState[pathKey]\n          : initialRowStateAccessor && initialRowStateAccessor(row)) || {}\n\n      row.setState = updater => {\n        return setRowState(row.path, updater)\n      }\n\n      row.cells.forEach(cell => {\n        cell.state = row.state.cellState || {}\n\n        cell.setState = updater => {\n          return setCellState(row.path, cell.column.id, updater)\n        }\n      })\n    }\n\n    return row\n  })\n\n  return {\n    ...instance,\n    setRowState,\n    setCellState,\n  }\n}\n","import React from 'react'\n\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport { functionalUpdate } from '../utils'\n\nconst pluginName = 'useColumnOrder'\n\n// Actions\nactions.resetColumnOrder = 'resetColumnOrder'\nactions.setColumnOrder = 'setColumnOrder'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      columnOrder: [],\n      ...state,\n    }\n  }\n\n  if (action.type === actions.resetColumnOrder) {\n    return {\n      ...state,\n      columnOrder: [],\n    }\n  }\n\n  if (action.type === actions.setColumnOrder) {\n    return {\n      ...state,\n      columnOrder: functionalUpdate(action.columnOrder, state.columnOrder),\n    }\n  }\n}\n\nexport const useColumnOrder = hooks => {\n  hooks.columnsBeforeHeaderGroupsDeps.push((deps, instance) => {\n    return [...deps, instance.state.columnOrder]\n  })\n  hooks.columnsBeforeHeaderGroups.push(columnsBeforeHeaderGroups)\n  hooks.useMain.push(useMain)\n}\n\nuseColumnOrder.pluginName = pluginName\n\nfunction columnsBeforeHeaderGroups(columns, instance) {\n  const {\n    state: { columnOrder },\n  } = instance\n\n  // If there is no order, return the normal columns\n  if (!columnOrder || !columnOrder.length) {\n    return columns\n  }\n\n  const columnOrderCopy = [...columnOrder]\n\n  // If there is an order, make a copy of the columns\n  const columnsCopy = [...columns]\n\n  // And make a new ordered array of the columns\n  const columnsInOrder = []\n\n  // Loop over the columns and place them in order into the new array\n  while (columnsCopy.length && columnOrderCopy.length) {\n    const targetColumnId = columnOrderCopy.shift()\n    const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId)\n    if (foundIndex > -1) {\n      columnsInOrder.push(columnsCopy.splice(foundIndex, 1)[0])\n    }\n  }\n\n  // If there are any columns left, add them to the end\n  return [...columnsInOrder, ...columnsCopy]\n}\n\nfunction useMain(instance) {\n  const { dispatch } = instance\n\n  const setColumnOrder = React.useCallback(\n    columnOrder => {\n      return dispatch({ type: actions.setColumnOrder, columnOrder })\n    },\n    [dispatch]\n  )\n\n  return {\n    ...instance,\n    setColumnOrder,\n  }\n}\n","import React from 'react'\n\nimport { actions, reducerHandlers } from '../hooks/useTable'\nimport {\n  defaultColumn,\n  getFirstDefined,\n  mergeProps,\n  applyPropHooks,\n} from '../utils'\n\nconst pluginName = 'useResizeColumns'\n\n// Default Column\ndefaultColumn.canResize = true\n\n// Actions\nactions.columnStartResizing = 'columnStartResizing'\nactions.columnResizing = 'columnResizing'\nactions.columnDoneResizing = 'columnDoneResizing'\n\n// Reducer\nreducerHandlers[pluginName] = (state, action) => {\n  if (action.type === actions.init) {\n    return {\n      columnResizing: {\n        columnWidths: {},\n      },\n      ...state,\n    }\n  }\n\n  if (action.type === actions.columnStartResizing) {\n    const { startX, columnId, headerIdWidths } = action\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX,\n        headerIdWidths,\n        isResizingColumn: columnId,\n      },\n    }\n  }\n\n  if (action.type === actions.columnResizing) {\n    const { clientX } = action\n    const { startX, headerIdWidths } = state.columnResizing\n\n    const deltaX = clientX - startX\n    const percentageDeltaX = deltaX / headerIdWidths.length\n\n    const newColumnWidths = {}\n    headerIdWidths.forEach(([headerId, headerWidth], index) => {\n      newColumnWidths[headerId] = Math.max(headerWidth + percentageDeltaX, 0)\n    })\n\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        columnWidths: {\n          ...state.columnResizing.columnWidths,\n          ...action.columnWidths,\n        },\n      },\n    }\n  }\n\n  if (action.type === actions.columnDoneResizing) {\n    return {\n      ...state,\n      columnResizing: {\n        ...state.columnResizing,\n        startX: null,\n        isResizingColumn: null,\n      },\n    }\n  }\n}\n\nexport const useResizeColumns = hooks => {\n  hooks.useBeforeDimensions.push(useBeforeDimensions)\n}\n\nuseResizeColumns.pluginName = pluginName\n\nconst useBeforeDimensions = instance => {\n  instance.hooks.getResizerProps = []\n\n  const {\n    flatHeaders,\n    disableResizing,\n    hooks: { getHeaderProps },\n    state: { columnResizing },\n    dispatch,\n  } = instance\n\n  getHeaderProps.push(() => {\n    return {\n      style: {\n        position: 'relative',\n      },\n    }\n  })\n\n  const onMouseDown = (e, header) => {\n    const headersToResize = getLeafHeaders(header)\n    const headerIdWidths = headersToResize.map(d => [d.id, d.totalWidth])\n\n    const clientX = e.clientX\n\n    const onMouseMove = e => {\n      const clientX = e.clientX\n\n      dispatch({ type: actions.columnResizing, clientX })\n    }\n\n    const onMouseUp = e => {\n      document.removeEventListener('mousemove', onMouseMove)\n      document.removeEventListener('mouseup', onMouseUp)\n\n      dispatch({ type: actions.columnDoneResizing })\n    }\n\n    document.addEventListener('mousemove', onMouseMove)\n    document.addEventListener('mouseup', onMouseUp)\n\n    dispatch({\n      type: actions.columnStartResizing,\n      columnId: header.id,\n      headerIdWidths,\n      clientX,\n    })\n  }\n\n  // use reference to avoid memory leak in #1608\n  const instanceRef = React.useRef()\n  instanceRef.current = instance\n\n  flatHeaders.forEach(header => {\n    const canResize = getFirstDefined(\n      header.disableResizing === true ? false : undefined,\n      disableResizing === true ? false : undefined,\n      true\n    )\n\n    header.canResize = canResize\n    header.width = columnResizing.columnWidths[header.id] || header.width\n    header.isResizing = columnResizing.isResizingColumn === header.id\n\n    if (canResize) {\n      header.getResizerProps = userProps => {\n        return mergeProps(\n          {\n            onMouseDown: e => e.persist() || onMouseDown(e, header),\n            style: {\n              cursor: 'ew-resize',\n            },\n            draggable: false,\n          },\n          applyPropHooks(\n            instanceRef.current.hooks.getResizerProps,\n            header,\n            instanceRef.current\n          ),\n          userProps\n        )\n      }\n    }\n  })\n\n  return instance\n}\n\nfunction getLeafHeaders(header) {\n  const leafHeaders = []\n  const recurseHeader = header => {\n    if (header.columns && header.columns.length) {\n      header.columns.map(recurseHeader)\n    }\n    leafHeaders.push(header)\n  }\n  recurseHeader(header)\n  return leafHeaders\n}\n","export const useAbsoluteLayout = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nuseAbsoluteLayout.pluginName = 'useAbsoluteLayout'\n\nconst useMain = instance => {\n  const {\n    totalColumnsWidth,\n    hooks: {\n      getRowProps,\n      getTableBodyProps,\n      getHeaderGroupProps,\n      getHeaderProps,\n      getCellProps,\n    },\n  } = instance\n\n  const rowStyles = {\n    style: {\n      position: 'relative',\n      width: `${totalColumnsWidth}px`,\n    },\n  }\n\n  getTableBodyProps.push(() => rowStyles)\n  getRowProps.push(() => rowStyles)\n  getHeaderGroupProps.push(() => rowStyles)\n\n  // Calculating column/cells widths\n  const cellStyles = {\n    position: 'absolute',\n    top: 0,\n  }\n\n  getHeaderProps.push(header => {\n    return {\n      style: {\n        ...cellStyles,\n        left: `${header.totalLeft}px`,\n        width: `${header.totalWidth}px`,\n      },\n    }\n  })\n\n  getCellProps.push(cell => {\n    return {\n      style: {\n        ...cellStyles,\n        left: `${cell.column.totalLeft}px`,\n        width: `${cell.column.totalWidth}px`,\n      },\n    }\n  })\n\n  return instance\n}\n","export const useBlockLayout = hooks => {\n  hooks.useMain.push(useMain)\n}\n\nuseBlockLayout.pluginName = 'useBlockLayout'\n\nconst useMain = instance => {\n  const {\n    totalColumnsWidth,\n    hooks: { getRowProps, getHeaderGroupProps, getHeaderProps, getCellProps },\n  } = instance\n\n  const rowStyles = {\n    style: {\n      display: 'flex',\n      width: `${totalColumnsWidth}px`,\n    },\n  }\n\n  getRowProps.push(() => rowStyles)\n  getHeaderGroupProps.push(() => rowStyles)\n\n  const cellStyles = {\n    display: 'inline-block',\n    boxSizing: 'border-box',\n  }\n\n  getHeaderProps.push(header => {\n    return {\n      style: {\n        ...cellStyles,\n        width: `${header.totalWidth}px`,\n      },\n    }\n  })\n\n  getCellProps.push(cell => {\n    return {\n      style: {\n        ...cellStyles,\n        width: `${cell.column.totalWidth}px`,\n      },\n    }\n  })\n\n  return instance\n}\n"],"names":["defaultColumn","Cell","cell","value","String","show","width","minWidth","maxWidth","Number","MAX_SAFE_INTEGER","safeUseLayoutEffect","window","process","env","NODE_ENV","React","useLayoutEffect","useEffect","findMaxDepth","columns","depth","reduce","prev","curr","Math","max","decorateColumn","column","userDefaultColumn","parent","index","id","accessor","Header","accessorPath","split","row","getBy","console","error","Error","decorateColumnTree","map","columnIndex","makeHeaderGroups","flatColumns","headerGroups","buildGroup","headerGroup","headers","parentColumns","hasParents","some","col","forEach","isFirst","length","latestParentColumn","reverse","similarParentColumns","filter","d","originalId","push","join","placeholderColumn","placeholderOf","includes","totalHeaderCount","sum","header","determineHeaderVisibility","instance","handleColumn","parentVisible","isVisible","totalVisibleHeaderCount","subColumn","subHeader","obj","path","def","pathObj","makePathArray","val","cursor","pathPart","e","defaultOrderByFn","arr","funcs","dirs","sort","rowA","rowB","i","sortFn","desc","sortInt","getFirstDefined","args","defaultGroupByFn","rows","columnId","resKey","values","Array","isArray","getElementDimensions","element","rect","getBoundingClientRect","style","getComputedStyle","margins","left","parseInt","marginLeft","right","marginRight","padding","paddingLeft","paddingRight","ceil","outerWidth","scrollWidth","flexRender","Comp","props","isReactComponent","isClassComponent","component","proto","Object","getPrototypeOf","prototype","isFunctionComponent","mergeProps","groups","className","rest","Boolean","applyHooks","hooks","initial","next","nextValue","applyPropHooks","warnUnknownProps","keys","JSON","stringify","isFunction","a","flattenBy","childKey","recurse","ensurePluginOrder","plugins","befores","pluginName","afters","pluginIndex","findIndex","plugin","before","beforeIndex","after","afterIndex","expandRows","manualExpandedKey","expanded","expandSubRows","expandedRows","handleRow","key","isExpanded","original","canExpand","subRows","functionalUpdate","updater","old","flattenDeep","replace","newArr","renderErr","actions","init","reducerHandlers","defaultInitialState","defaultColumnInstance","defaultReducer","state","action","prevState","defaultGetSubRows","defaultGetRowId","useTable","data","userColumns","initialState","getSubRows","getRowId","reducer","userReducer","debug","nextState","handler","log","useReducer","undefined","type","originalDispatch","instanceRef","useRef","dispatch","useCallback","info","assign","current","columnsBeforeHeaderGroups","columnsBeforeHeaderGroupsDeps","useBeforeDimensions","useMain","useRows","prepareRow","getTableProps","getTableBodyProps","getRowProps","getHeaderGroupProps","getHeaderProps","getCellProps","time","timeEnd","useMemo","newColumns","flatRows","accessRow","originalRow","parentPath","rowId","cells","unpreparedAccessWarning","accessedData","flatHeaders","all","calculateDimensions","render","userProps","colSpan","columnPathStr","totalColumnsWidth","calculateHeaderWidths","sumTotalWidth","subHeaders","totalLeft","totalWidth","min","toggleExpandedByPath","resetExpanded","exists","shouldExist","set","newExpanded","Set","add","delete","useExpanded","getExpandedToggleProps","defaultGetResetExpandedDeps","paginateExpandedRows","getResetExpandedDeps","isMountedRef","toggleExpanded","onClick","persist","title","expandedDepth","findExpandedDepth","maxDepth","text","filterValue","rowValue","toLowerCase","autoRemove","exactText","exactTextCase","includesAll","every","exact","equals","between","Infinity","temp","resetFilters","setFilter","setAllFilters","filters","userFilterTypes","find","filterMethod","getFilterMethod","filterTypes","newFilter","shouldAutoRemove","remove","newFilters","useFilters","manualFilters","defaultCanFilter","disableFilters","getResetFiltersDeps","preFilteredRows","preFilteredFlatRows","columnDefaultCanFilter","columnDisableFilters","canFilter","filteredRows","filteredFlatRows","filterRows","entries","filteredSoFar","warn","nonFilteredColumns","average","round","median","uniqueCount","size","count","resetGroupBy","toggleGroupBy","groupBy","toggle","resolvedToggle","useGroupBy","deps","groupByColumns","g","nonGroupByColumns","groupByBoundaryColumnIndex","groupByBoundary","slice","defaultUserAggregations","groupByFn","manualGroupBy","defaultCanGroupBy","disableGroupBy","aggregations","userAggregations","defaultColumnGroupBy","defaultGroupBy","columnDisableGroupBy","isGrouped","groupedIndex","indexOf","canGroupBy","Aggregated","getGroupByToggleProps","groupByID","isRepeatedValue","isAggregated","aggregateRowsToValues","columnValues","aggregator","aggregate","aggregateFn","groupedFlatRows","groupRecursively","concat","groupedRows","groupByVal","preGroupedRows","reSplitAlphaNumeric","alphanumeric","getRowValueByColumnID","b","toString","aa","shift","bb","an","bn","combo","isNaN","datetime","getTime","compareBasic","basic","resetSortBy","toggleSortBy","clearSortBy","sortBy","newSortBy","columnID","multi","disableMultiSort","disableSortRemove","disableMultiRemove","maxMultiSortColCount","sortDescFirst","existingSortBy","existingIndex","hasDescDefined","sortAction","splice","sortType","useSortBy","orderByFn","userSortTypes","sortTypes","manualSorting","defaultCanSort","disableSortBy","isMultiSortEvent","shiftKey","getResetSortByDeps","getSortByToggleProps","defaultColumnCanSort","canSort","columnDisableSortBy","columnSort","isSorted","sortedIndex","isSortedDesc","sortedRows","availableSortBy","sortData","sortedData","sortMethod","sortInverted","preSortedRows","resetPage","gotoPage","setPageSize","pageSize","pageIndex","pageCount","newPageIndex","topRowIndex","floor","usePagination","defaultGetResetPageDeps","manualPagination","getResetPageDeps","userPageCount","pageOptions","page","pageStart","pageEnd","canPreviousPage","canNextPage","previousPage","nextPage","resetSelectedRows","toggleRowSelectedAll","toggleRowSelected","selectedRowPaths","selected","isAllRowsSelected","flatRowPaths","selectAll","childRowPrefixKey","newSelectedRows","rowPath","startsWith","updateParentRow","parentKey","has","useRowSelect","getToggleRowSelectedProps","getToggleAllRowsSelectedProps","selectedFlatRows","isSelected","getRowIsSelected","defaultGetResetSelectedRowPathsDeps","manualRowSelectedKey","getResetSelectedRowPathsDeps","onChange","target","checked","subRow","setRowState","resetRowState","rowState","pathKey","useRowState","defaultGetResetRowStateDeps","initialRowStateAccessor","getResetRowStateDeps","setCellState","cellState","rowsMountedRef","setState","resetColumnOrder","setColumnOrder","columnOrder","useColumnOrder","columnOrderCopy","columnsCopy","columnsInOrder","targetColumnId","foundIndex","canResize","columnStartResizing","columnResizing","columnDoneResizing","columnWidths","startX","headerIdWidths","isResizingColumn","clientX","deltaX","percentageDeltaX","newColumnWidths","headerId","headerWidth","useResizeColumns","getResizerProps","disableResizing","position","onMouseDown","headersToResize","getLeafHeaders","onMouseMove","onMouseUp","document","removeEventListener","addEventListener","isResizing","draggable","leafHeaders","recurseHeader","useAbsoluteLayout","rowStyles","cellStyles","top","useBlockLayout","display","boxSizing"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEaA,aAAa,GAAG;EAC3BC,IAAI,EAAE;+BAAGC,IAAH,CAAWC,KAAX;QAAWA,KAAX,gCAAmB,EAAnB;WAA8BC,MAAM,CAACD,KAAD,CAApC;GADqB;EAE3BE,IAAI,EAAE,IAFqB;EAG3BC,KAAK,EAAE,GAHoB;EAI3BC,QAAQ,EAAE,CAJiB;EAK3BC,QAAQ,EAAEC,MAAM,CAACC;CALZ;;AASP,AAAO,IAAMC,mBAAmB,GAC9B,OAAOC,MAAP,KAAkB,WAAlB,IAAiCC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA1D,GACIC,KAAK,CAACC,eADV,GAEID,KAAK,CAACE,SAHL;;AAMP,AAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA0C;MAAXC,KAAW,uEAAH,CAAG;SACxCD,OAAO,CAACE,MAAR,CAAe,UAACC,IAAD,EAAOC,IAAP,EAAgB;QAChCA,IAAI,CAACJ,OAAT,EAAkB;aACTK,IAAI,CAACC,GAAL,CAASH,IAAT,EAAeJ,YAAY,CAACK,IAAI,CAACJ,OAAN,EAAeC,KAAK,GAAG,CAAvB,CAA3B,CAAP;;;WAEKA,KAAP;GAJK,EAKJ,CALI,CAAP;;AAQF,AAAO,SAASM,cAAT,CACLC,MADK,EAELC,iBAFK,EAGLC,MAHK,EAILT,KAJK,EAKLU,KALK,EAML;;EAEAH,MAAM,sBAAQ5B,aAAR,MAA0B6B,iBAA1B,MAAgDD,MAAhD,CAAN,CAFA;;gBAK+BA,MAL/B;MAKMI,EALN,WAKMA,EALN;MAKUC,QALV,WAKUA,QALV;MAKoBC,MALpB,WAKoBA,MALpB;;MAOI,OAAOD,QAAP,KAAoB,QAAxB,EAAkC;IAChCD,EAAE,GAAGA,EAAE,IAAIC,QAAX;QACME,YAAY,GAAGF,QAAQ,CAACG,KAAT,CAAe,GAAf,CAArB;;IACAH,QAAQ,GAAG,kBAAAI,GAAG;aAAIC,KAAK,CAACD,GAAD,EAAMF,YAAN,CAAT;KAAd;;;MAGE,CAACH,EAAD,IAAO,OAAOE,MAAP,KAAkB,QAAzB,IAAqCA,MAAzC,EAAiD;IAC/CF,EAAE,GAAGE,MAAL;;;MAGE,CAACF,EAAD,IAAOJ,MAAM,CAACR,OAAlB,EAA2B;IACzBmB,OAAO,CAACC,KAAR,CAAcZ,MAAd;UACM,IAAIa,KAAJ,CAAU,qDAAV,CAAN;;;MAGE,CAACT,EAAL,EAAS;IACPO,OAAO,CAACC,KAAR,CAAcZ,MAAd;UACM,IAAIa,KAAJ,CAAU,+CAAV,CAAN;;;EAGFb,MAAM;;IAEJM,MAAM,EAAE;aAAM,iDAAN;;KACLN,MAHC;;IAKJI,EAAE,EAAFA,EALI;IAMJC,QAAQ,EAARA,QANI;IAOJH,MAAM,EAANA,MAPI;IAQJT,KAAK,EAALA,KARI;IASJU,KAAK,EAALA;IATF;SAYOH,MAAP;;;AAIF,AAAO,SAASc,kBAAT,CAA4BtB,OAA5B,EAAqCpB,aAArC,EAAoD8B,MAApD,EAAuE;MAAXT,KAAW,uEAAH,CAAG;SACrED,OAAO,CAACuB,GAAR,CAAY,UAACf,MAAD,EAASgB,WAAT,EAAyB;IAC1ChB,MAAM,GAAGD,cAAc,CAACC,MAAD,EAAS5B,aAAT,EAAwB8B,MAAxB,EAAgCT,KAAhC,EAAuCuB,WAAvC,CAAvB;;QACIhB,MAAM,CAACR,OAAX,EAAoB;MAClBQ,MAAM,CAACR,OAAP,GAAiBsB,kBAAkB,CACjCd,MAAM,CAACR,OAD0B,EAEjCpB,aAFiC,EAGjC4B,MAHiC,EAIjCP,KAAK,GAAG,CAJyB,CAAnC;;;WAOKO,MAAP;GAVK,CAAP;;;AAeF,AAAO,SAASiB,gBAAT,CAA0BC,WAA1B,EAAuC9C,aAAvC,EAAsD;MACrD+C,YAAY,GAAG,EAArB,CAD2D;;MAIrDC,UAAU,GAAG,SAAbA,UAAa,CAAC5B,OAAD,EAAUC,KAAV,EAAoB;QAC/B4B,WAAW,GAAG;MAClBC,OAAO,EAAE;KADX;QAIMC,aAAa,GAAG,EAAtB,CALqC;;QAQ/BC,UAAU,GAAGhC,OAAO,CAACiC,IAAR,CAAa,UAAAC,GAAG;aAAIA,GAAG,CAACxB,MAAR;KAAhB,CAAnB;IAEAV,OAAO,CAACmC,OAAR,CAAgB,UAAA3B,MAAM,EAAI;;UAElB4B,OAAO,GAAG,CAACL,aAAa,CAACM,MAA/B,CAFwB;;UAKpBC,kBAAkB,GAAG,UAAIP,aAAJ,EAAmBQ,OAAnB,GAA6B,CAA7B,CAAzB,CALwB;;UAQpB/B,MAAM,CAACE,MAAX,EAAmB;YACX8B,oBAAoB,GAAGT,aAAa,CAACU,MAAd,CAC3B,UAAAC,CAAC;iBAAIA,CAAC,CAACC,UAAF,KAAiBnC,MAAM,CAACE,MAAP,CAAcE,EAAnC;SAD0B,CAA7B;;YAGIwB,OAAO,IAAIE,kBAAkB,CAACK,UAAnB,KAAkCnC,MAAM,CAACE,MAAP,CAAcE,EAA/D,EAAmE;UACjEmB,aAAa,CAACa,IAAd,oBACKpC,MAAM,CAACE,MADZ;YAEEiC,UAAU,EAAEnC,MAAM,CAACE,MAAP,CAAcE,EAF5B;YAGEA,EAAE,EAAE,CAACJ,MAAM,CAACE,MAAP,CAAcE,EAAf,EAAmB4B,oBAAoB,CAACH,MAAxC,EAAgDQ,IAAhD,CAAqD,GAArD;;;OARV,MAWO,IAAIb,UAAJ,EAAgB;;YAEfW,UAAU,GAAG,CAACnC,MAAM,CAACI,EAAR,EAAY,aAAZ,EAA2BiC,IAA3B,CAAgC,GAAhC,CAAnB;;YACML,qBAAoB,GAAGT,aAAa,CAACU,MAAd,CAC3B,UAAAC,CAAC;iBAAIA,CAAC,CAACC,UAAF,KAAiBA,UAArB;SAD0B,CAA7B;;YAGMG,iBAAiB,GAAGvC,cAAc,CACtC;UACEoC,UAAU,EAAVA,UADF;UAEE/B,EAAE,EAAE,CAACJ,MAAM,CAACI,EAAR,EAAY,aAAZ,EAA2B4B,qBAAoB,CAACH,MAAhD,EAAwDQ,IAAxD,CACF,GADE,CAFN;UAKEE,aAAa,EAAEvC;SANqB,EAQtC5B,aARsC,CAAxC;;YAWEwD,OAAO,IACPE,kBAAkB,CAACK,UAAnB,KAAkCG,iBAAiB,CAACH,UAFtD,EAGE;UACAZ,aAAa,CAACa,IAAd,CAAmBE,iBAAnB;;OAvCoB;;;UA4CpBtC,MAAM,CAACE,MAAP,IAAiBsB,UAArB,EAAiC;QAC/BM,kBAAkB,GAAG,UAAIP,aAAJ,EAAmBQ,OAAnB,GAA6B,CAA7B,CAArB;QACAD,kBAAkB,CAACR,OAAnB,GAA6BQ,kBAAkB,CAACR,OAAnB,IAA8B,EAA3D;;YACI,CAACQ,kBAAkB,CAACR,OAAnB,CAA2BkB,QAA3B,CAAoCxC,MAApC,CAAL,EAAkD;UAChD8B,kBAAkB,CAACR,OAAnB,CAA2Bc,IAA3B,CAAgCpC,MAAhC;;;;MAIJA,MAAM,CAACyC,gBAAP,GAA0BzC,MAAM,CAACsB,OAAP,GACtBtB,MAAM,CAACsB,OAAP,CAAe5B,MAAf,CACE,UAACgD,GAAD,EAAMC,MAAN;eAAiBD,GAAG,GAAGC,MAAM,CAACF,gBAA9B;OADF,EAEE,CAFF,CADsB,GAKtB,CALJ,CApDwB;;MA0DxBpB,WAAW,CAACC,OAAZ,CAAoBc,IAApB,CAAyBpC,MAAzB;KA1DF;IA6DAmB,YAAY,CAACiB,IAAb,CAAkBf,WAAlB;;QAEIE,aAAa,CAACM,MAAlB,EAA0B;MACxBT,UAAU,CAACG,aAAD,AAAA,CAAV;;GA1EJ;;EA8EAH,UAAU,CAACF,WAAD,AAAA,CAAV;SAEOC,YAAY,CAACY,OAAb,EAAP;;AAGF,AAAO,SAASa,yBAAT,CAAmCC,QAAnC,EAA6C;MAC1CvB,OAD0C,GAC9BuB,QAD8B,CAC1CvB,OAD0C;;MAG5CwB,YAAY,GAAG,SAAfA,YAAe,CAAC9C,MAAD,EAAS+C,aAAT,EAA2B;IAC9C/C,MAAM,CAACgD,SAAP,GAAmBD,aAAa,GAC5B,OAAO/C,MAAM,CAACvB,IAAd,KAAuB,UAAvB,GACEuB,MAAM,CAACvB,IAAP,CAAYoE,QAAZ,CADF,GAEE,CAAC,CAAC7C,MAAM,CAACvB,IAHiB,GAI5B,KAJJ;QAMIwE,uBAAuB,GAAG,CAA9B;;QAEIjD,MAAM,CAACsB,OAAP,IAAkBtB,MAAM,CAACsB,OAAP,CAAeO,MAArC,EAA6C;MAC3C7B,MAAM,CAACsB,OAAP,CAAeK,OAAf,CACE,UAAAuB,SAAS;eACND,uBAAuB,IAAIH,YAAY,CAACI,SAAD,EAAYlD,MAAM,CAACgD,SAAnB,CADjC;OADX;KADF,MAKO;MACLC,uBAAuB,GAAGjD,MAAM,CAACgD,SAAP,GAAmB,CAAnB,GAAuB,CAAjD;;;IAGFhD,MAAM,CAACiD,uBAAP,GAAiCA,uBAAjC;WAEOA,uBAAP;GApBF;;MAuBIA,uBAAuB,GAAG,CAA9B;EAEA3B,OAAO,CAACK,OAAR,CACE,UAAAwB,SAAS;WAAKF,uBAAuB,IAAIH,YAAY,CAACK,SAAD,EAAY,IAAZ,CAA5C;GADX;;AAKF,AAAO,SAASzC,KAAT,CAAe0C,GAAf,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+B;MAChC,CAACD,IAAL,EAAW;WACFD,GAAP;;;MAEIG,OAAO,GAAGC,aAAa,CAACH,IAAD,CAA7B;MACII,GAAJ;;MACI;IACFA,GAAG,GAAGF,OAAO,CAAC7D,MAAR,CAAe,UAACgE,MAAD,EAASC,QAAT;aAAsBD,MAAM,CAACC,QAAD,CAA5B;KAAf,EAAuDP,GAAvD,CAAN;GADF,CAEE,OAAOQ,CAAP,EAAU;;;SAGL,OAAOH,GAAP,KAAe,WAAf,GAA6BA,GAA7B,GAAmCH,GAA1C;;AAGF,AAAO,SAASO,gBAAT,CAA0BC,GAA1B,EAA+BC,KAA/B,EAAsCC,IAAtC,EAA4C;SAC1C,mBAAIF,GAAJ,EAASG,IAAT,CAAc,UAACC,IAAD,EAAOC,IAAP,EAAgB;SAC9B,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,KAAK,CAAClC,MAA1B,EAAkCuC,CAAC,IAAI,CAAvC,EAA0C;UAClCC,MAAM,GAAGN,KAAK,CAACK,CAAD,CAApB;UACME,IAAI,GAAGN,IAAI,CAACI,CAAD,CAAJ,KAAY,KAAZ,IAAqBJ,IAAI,CAACI,CAAD,CAAJ,KAAY,MAA9C;UACMG,OAAO,GAAGF,MAAM,CAACH,IAAD,EAAOC,IAAP,CAAtB;;UACII,OAAO,KAAK,CAAhB,EAAmB;eACVD,IAAI,GAAG,CAACC,OAAJ,GAAcA,OAAzB;;;;WAGGP,IAAI,CAAC,CAAD,CAAJ,GAAUE,IAAI,CAAC/D,KAAL,GAAagE,IAAI,CAAChE,KAA5B,GAAoCgE,IAAI,CAAChE,KAAL,GAAa+D,IAAI,CAAC/D,KAA7D;GATK,CAAP;;AAaF,AAAO,SAASqE,eAAT,GAAkC;oCAANC,IAAM;IAANA,IAAM;;;OAClC,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,IAAI,CAAC5C,MAAzB,EAAiCuC,CAAC,IAAI,CAAtC,EAAyC;QACnC,OAAOK,IAAI,CAACL,CAAD,CAAX,KAAmB,WAAvB,EAAoC;aAC3BK,IAAI,CAACL,CAAD,CAAX;;;;AAKN,AAAO,SAASM,gBAAT,CAA0BC,IAA1B,EAAgCC,QAAhC,EAA0C;SACxCD,IAAI,CAACjF,MAAL,CAAY,UAACC,IAAD,EAAOc,GAAP,EAAY2D,CAAZ,EAAkB;;;QAG7BS,MAAM,aAAMpE,GAAG,CAACqE,MAAJ,CAAWF,QAAX,CAAN,CAAZ;IACAjF,IAAI,CAACkF,MAAD,CAAJ,GAAeE,KAAK,CAACC,OAAN,CAAcrF,IAAI,CAACkF,MAAD,CAAlB,IAA8BlF,IAAI,CAACkF,MAAD,CAAlC,GAA6C,EAA5D;IACAlF,IAAI,CAACkF,MAAD,CAAJ,CAAazC,IAAb,CAAkB3B,GAAlB;WACOd,IAAP;GANK,EAOJ,EAPI,CAAP;;AAUF,AAAO,SAASsF,oBAAT,CAA8BC,OAA9B,EAAuC;MACtCC,IAAI,GAAGD,OAAO,CAACE,qBAAR,EAAb;MACMC,KAAK,GAAGrG,MAAM,CAACsG,gBAAP,CAAwBJ,OAAxB,CAAd;MACMK,OAAO,GAAG;IACdC,IAAI,EAAEC,QAAQ,CAACJ,KAAK,CAACK,UAAP,CADA;IAEdC,KAAK,EAAEF,QAAQ,CAACJ,KAAK,CAACO,WAAP;GAFjB;MAIMC,OAAO,GAAG;IACdL,IAAI,EAAEC,QAAQ,CAACJ,KAAK,CAACS,WAAP,CADA;IAEdH,KAAK,EAAEF,QAAQ,CAACJ,KAAK,CAACU,YAAP;GAFjB;SAIO;IACLP,IAAI,EAAE3F,IAAI,CAACmG,IAAL,CAAUb,IAAI,CAACK,IAAf,CADD;IAEL9G,KAAK,EAAEmB,IAAI,CAACmG,IAAL,CAAUb,IAAI,CAACzG,KAAf,CAFF;IAGLuH,UAAU,EAAEpG,IAAI,CAACmG,IAAL,CACVb,IAAI,CAACzG,KAAL,GAAa6G,OAAO,CAACC,IAArB,GAA4BD,OAAO,CAACI,KAApC,GAA4CE,OAAO,CAACL,IAApD,GAA2DK,OAAO,CAACF,KADzD,CAHP;IAMLD,UAAU,EAAEH,OAAO,CAACC,IANf;IAOLI,WAAW,EAAEL,OAAO,CAACI,KAPhB;IAQLG,WAAW,EAAED,OAAO,CAACL,IARhB;IASLO,YAAY,EAAEF,OAAO,CAACF,KATjB;IAULO,WAAW,EAAEhB,OAAO,CAACgB;GAVvB;;AAcF,AAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0BC,KAA1B,EAAiC;SAC/BC,gBAAgB,CAACF,IAAD,CAAhB,GAAyB,oBAAC,IAAD,EAAUC,KAAV,CAAzB,GAA+CD,IAAtD;;;AAGF,SAASG,gBAAT,CAA0BC,SAA1B,EAAqC;SAEjC,OAAOA,SAAP,KAAqB,UAArB,IACA,CAAC,CAAE,YAAM;QACHC,KAAK,GAAGC,MAAM,CAACC,cAAP,CAAsBH,SAAtB,CAAZ;WACOC,KAAK,CAACG,SAAN,IAAmBH,KAAK,CAACG,SAAN,CAAgBN,gBAA1C;GAFA,EAFJ;;;AASF,SAASO,mBAAT,CAA6BL,SAA7B,EAAwC;SAC/B,OAAOA,SAAP,KAAqB,UAA5B;;;AAGF,SAASF,gBAAT,CAA0BE,SAA1B,EAAqC;SAC5BD,gBAAgB,CAACC,SAAD,CAAhB,IAA+BK,mBAAmB,CAACL,SAAD,CAAzD;;;AAGF,AAAO,IAAMM,UAAU,GAAG,SAAbA,UAAa,GAAe;MACnCT,KAAK,GAAG,EAAZ;;qCAD4BU,MAAW;IAAXA,MAAW;;;EAGvCA,MAAM,CAACpF,OAAP,CAAe,YAA6C;oFAAP,EAAO;4BAA1C0D,KAA0C;QAA1CA,KAA0C,4BAAlC,EAAkC;QAA9B2B,SAA8B,SAA9BA,SAA8B;QAAhBC,IAAgB;;IAC1DZ,KAAK,sBACAA,KADA,MAEAY,IAFA;MAGH5B,KAAK,qBACCgB,KAAK,CAAChB,KAAN,IAAe,EADhB,MAEAA,KAFA,CAHF;MAOH2B,SAAS,EAAE,CAACX,KAAK,CAACW,SAAP,EAAkBA,SAAlB,EAA6B/E,MAA7B,CAAoCiF,OAApC,EAA6C7E,IAA7C,CAAkD,GAAlD;MAPb;GADF;;MAYIgE,KAAK,CAACW,SAAN,KAAoB,EAAxB,EAA4B;WACnBX,KAAK,CAACW,SAAb;;;SAGKX,KAAP;CAnBK;AAsBP,AAAO,IAAMc,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAQC,OAAR;qCAAoB5C,IAApB;IAAoBA,IAApB;;;SACxB2C,KAAK,CAAC1H,MAAN,CAAa,UAACC,IAAD,EAAO2H,IAAP,EAAgB;QACrBC,SAAS,GAAGD,IAAI,MAAJ,UAAK3H,IAAL,SAAc8E,IAAd,EAAlB;;QACI,OAAO8C,SAAP,KAAqB,WAAzB,EAAsC;YAC9B,IAAI1G,KAAJ,CACJ,mEADI,CAAN;;;WAIK0G,SAAP;GAPF,EAQGF,OARH,CADwB;CAAnB;AAWP,AAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACJ,KAAD;qCAAW3C,IAAX;IAAWA,IAAX;;;SAC5B2C,KAAK,CAAC1H,MAAN,CAAa,UAACC,IAAD,EAAO2H,IAAP;WAAgBR,UAAU,CAACnH,IAAD,EAAO2H,IAAI,MAAJ,SAAQ7C,IAAR,CAAP,CAA1B;GAAb,EAA8D,EAA9D,CAD4B;CAAvB;AAGP,AAAO,IAAMgD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAApB,KAAK,EAAI;MACnCK,MAAM,CAACgB,IAAP,CAAYrB,KAAZ,EAAmBxE,MAAvB,EAA+B;UACvB,IAAIhB,KAAJ,uDAGR8G,IAAI,CAACC,SAAL,CAAevB,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAHQ,EAAN;;CAFG;AAUP,AAAO,SAAS3D,GAAT,CAAaoB,GAAb,EAAkB;SAChBA,GAAG,CAACpE,MAAJ,CAAW,UAACC,IAAD,EAAOC,IAAP;WAAgBD,IAAI,GAAGC,IAAvB;GAAX,EAAwC,CAAxC,CAAP;;AAGF,AAAO,SAASiI,UAAT,CAAoBC,CAApB,EAAuB;MACxB,OAAOA,CAAP,KAAa,UAAjB,EAA6B;WACpBA,CAAP;;;AAIJ,AAAO,SAASC,SAAT,CAAmBvI,OAAnB,EAA4BwI,QAA5B,EAAsC;MACrC9G,WAAW,GAAG,EAApB;;MAEM+G,OAAO,GAAG,SAAVA,OAAU,CAAAzI,OAAO,EAAI;IACzBA,OAAO,CAACmC,OAAR,CAAgB,UAAAO,CAAC,EAAI;UACf,CAACA,CAAC,CAAC8F,QAAD,CAAN,EAAkB;QAChB9G,WAAW,CAACkB,IAAZ,CAAiBF,CAAjB;OADF,MAEO;QACL+F,OAAO,CAAC/F,CAAC,CAAC8F,QAAD,CAAF,CAAP;;KAJJ;GADF;;EAUAC,OAAO,CAACzI,OAAD,CAAP;SAEO0B,WAAP;;AAGF,AAAO,SAASgH,iBAAT,CAA2BC,OAA3B,EAAoCC,OAApC,EAA6CC,UAA7C,EAAyDC,MAAzD,EAAiE;MAChEC,WAAW,GAAGJ,OAAO,CAACK,SAAR,CAClB,UAAAC,MAAM;WAAIA,MAAM,CAACJ,UAAP,KAAsBA,UAA1B;GADY,CAApB;;MAIIE,WAAW,KAAK,CAAC,CAArB,EAAwB;UAChB,IAAI1H,KAAJ,sBAAwBwH,UAAxB,kLAGNA,UAHM,4BAGsBA,UAHtB,SAAN;;;EAOFD,OAAO,CAACzG,OAAR,CAAgB,UAAA+G,MAAM,EAAI;QAClBC,WAAW,GAAGR,OAAO,CAACK,SAAR,CAClB,UAAAC,MAAM;aAAIA,MAAM,CAACJ,UAAP,KAAsBK,MAA1B;KADY,CAApB;;QAGIC,WAAW,GAAG,CAAC,CAAf,IAAoBA,WAAW,GAAGJ,WAAtC,EAAmD;YAC3C,IAAI1H,KAAJ,4BACgBwH,UADhB,mDACmEK,MADnE,mBAAN;;GALJ;EAWAJ,MAAM,CAAC3G,OAAP,CAAe,UAAAiH,KAAK,EAAI;QAChBC,UAAU,GAAGV,OAAO,CAACK,SAAR,CAAkB,UAAAC,MAAM;aAAIA,MAAM,CAACJ,UAAP,KAAsBO,KAA1B;KAAxB,CAAnB;;QACIC,UAAU,GAAG,CAAC,CAAd,IAAmBA,UAAU,GAAGN,WAApC,EAAiD;YACzC,IAAI1H,KAAJ,4BACgBwH,UADhB,oDACoEO,KADpE,mBAAN;;GAHJ;;AAUF,AAAO,SAASE,UAAT,CACLnE,IADK,SAGL;MADEoE,iBACF,SADEA,iBACF;MADqBC,QACrB,SADqBA,QACrB;kCAD+BC,aAC/B;MAD+BA,aAC/B,oCAD+C,IAC/C;MACMC,YAAY,GAAG,EAArB;;MAEMC,SAAS,GAAG,SAAZA,SAAY,CAAA1I,GAAG,EAAI;QACjB2I,GAAG,GAAG3I,GAAG,CAAC4C,IAAJ,CAAShB,IAAT,CAAc,GAAd,CAAZ;IAEA5B,GAAG,CAAC4I,UAAJ,GACG5I,GAAG,CAAC6I,QAAJ,IAAgB7I,GAAG,CAAC6I,QAAJ,CAAaP,iBAAb,CAAjB,IACAC,QAAQ,CAACxG,QAAT,CAAkB4G,GAAlB,CAFF;IAIA3I,GAAG,CAAC8I,SAAJ,GAAgB9I,GAAG,CAAC+I,OAAJ,IAAe,CAAC,CAAC/I,GAAG,CAAC+I,OAAJ,CAAY3H,MAA7C;IAEAqH,YAAY,CAAC9G,IAAb,CAAkB3B,GAAlB;;QAEIwI,aAAa,IAAIxI,GAAG,CAAC+I,OAArB,IAAgC/I,GAAG,CAAC+I,OAAJ,CAAY3H,MAA5C,IAAsDpB,GAAG,CAAC4I,UAA9D,EAA0E;MACxE5I,GAAG,CAAC+I,OAAJ,CAAY7H,OAAZ,CAAoBwH,SAApB;;GAZJ;;EAgBAxE,IAAI,CAAChD,OAAL,CAAawH,SAAb;SAEOD,YAAP;;AAGF,AAAO,SAASO,gBAAT,CAA0BC,OAA1B,EAAmCC,GAAnC,EAAwC;SACtC,OAAOD,OAAP,KAAmB,UAAnB,GAAgCA,OAAO,CAACC,GAAD,CAAvC,GAA+CD,OAAtD;;;AAKF,SAASlG,aAAT,CAAuBJ,GAAvB,EAA4B;SAExBwG,WAAW,CAACxG,GAAD,CAAX;GAEGrC,GAFH,CAEO,UAAAmB,CAAC;WAAI1D,MAAM,CAAC0D,CAAD,CAAN,CAAU2H,OAAV,CAAkB,GAAlB,EAAuB,GAAvB,CAAJ;GAFR;GAIGxH,IAJH,CAIQ,GAJR;GAMGwH,OANH,CAMW,KANX,EAMkB,GANlB,EAOGA,OAPH,CAOW,KAPX,EAOkB,EAPlB;GASGrJ,KATH,CASS,GATT,CADF;;;AAcF,SAASoJ,WAAT,CAAqB9F,GAArB,EAAuC;MAAbgG,MAAa,uEAAJ,EAAI;;MACjC,CAAC/E,KAAK,CAACC,OAAN,CAAclB,GAAd,CAAL,EAAyB;IACvBgG,MAAM,CAAC1H,IAAP,CAAY0B,GAAZ;GADF,MAEO;SACA,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,GAAG,CAACjC,MAAxB,EAAgCuC,CAAC,IAAI,CAArC,EAAwC;MACtCwF,WAAW,CAAC9F,GAAG,CAACM,CAAD,CAAJ,EAAS0F,MAAT,CAAX;;;;SAGGA,MAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvcF,IAAMC,SAAS,GACb,uKADF;AAGA,IAAaC,OAAO,GAAG;EACrBC,IAAI,EAAE;CADD;AAGP,IACaC,eAAe,GAAG,EAAxB;AAEP,IAAMC,mBAAmB,GAAG,EAA5B;AACA,IAAMC,qBAAqB,GAAG,EAA9B;;AACA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAQC,MAAR,EAAgBC,SAAhB;SAA8BF,KAA9B;CAAvB;;AACA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAAChK,GAAD,EAAMN,KAAN;SAAgBM,GAAG,CAAC+I,OAAJ,IAAe,EAA/B;CAA1B;;AACA,IAAMkB,eAAe,GAAG,SAAlBA,eAAkB,CAACjK,GAAD,EAAMN,KAAN;SAAgBA,KAAhB;CAAxB;;AAEA,IAAawK,QAAQ,GAAG,SAAXA,QAAW,CAACtE,KAAD,EAAuB;;MAG3CuE,IAH2C,GAWzCvE,KAXyC,CAG3CuE,IAH2C;MAIlCC,WAJkC,GAWzCxE,KAXyC,CAI3C7G,OAJ2C;4BAWzC6G,KAXyC,CAK3CyE,YAL2C;MAK3CA,YAL2C,oCAK5BX,mBAL4B;6BAWzC9D,KAXyC,CAM3CjI,aAN2C;MAM3CA,aAN2C,qCAM3BgM,qBAN2B;0BAWzC/D,KAXyC,CAO3C0E,UAP2C;MAO3CA,UAP2C,kCAO9BN,iBAP8B;wBAWzCpE,KAXyC,CAQ3C2E,QAR2C;MAQ3CA,QAR2C,gCAQhCN,eARgC;uBAWzCrE,KAXyC,CAS3C4E,OAT2C;MASlCC,WATkC,+BASpBb,cAToB;MAU3Cc,KAV2C,GAWzC9E,KAXyC,CAU3C8E,KAV2C;EAa7CA,KAAK,GAAGlM,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,KAAxC,GAAgDgM,KAAxD;;MAEMF,OAAO,GAAG,SAAVA,OAAU,CAACX,KAAD,EAAQC,MAAR,EAAmB;QAC7Ba,SAAS,GAAG1E,MAAM,CAACgB,IAAP,CAAYwC,eAAZ,EACbnJ,GADa,CACT,UAAAqI,GAAG;aAAIc,eAAe,CAACd,GAAD,CAAnB;KADM,EAEb1J,MAFa,CAEN,UAAC4K,KAAD,EAAQe,OAAR;aAAoBA,OAAO,CAACf,KAAD,EAAQC,MAAR,CAAP,IAA0BD,KAA9C;KAFM,EAE+CA,KAF/C,CAAhB;IAIAc,SAAS,GAAGF,WAAW,CAACE,SAAD,EAAYb,MAAZ,EAAoBD,KAApB,CAAvB;;QAEIrL,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EAAoD;MAClDxK,OAAO,CAAC2K,GAAR,CAAY,EAAZ;MACA3K,OAAO,CAAC2K,GAAR,CAAY,sBAAZ,EAAoCf,MAApC;MACA5J,OAAO,CAAC2K,GAAR,CAAY,aAAZ,EAA2BF,SAA3B;;;WAEKA,SAAP;GAZF,CAf6C;;;0BA+BXhM,KAAK,CAACmM,UAAN,CAAiBN,OAAjB,EAA0BO,SAA1B,EAAqC;WACrEP,OAAO,CAACH,YAAD,EAAe;MAAEW,IAAI,EAAEzB,OAAO,CAACC;KAA/B,CAD8D;GAArC,CA/BW;;MA+BtCK,KA/BsC;MA+B/BoB,gBA/B+B;;;MAoCzCC,WAAW,GAAGvM,KAAK,CAACwM,MAAN,CAAa,EAAb,CAAlB;MAEMC,QAAQ,GAAGzM,KAAK,CAAC0M,WAAN,CAAkB,UAAAvB,MAAM,EAAI;QACvC,CAACA,MAAM,CAACkB,IAAZ,EAAkB;UACZxM,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;QACzCwB,OAAO,CAACoL,IAAR,CAAa;UAAExB,MAAM,EAANA;SAAf;cACM,IAAI1J,KAAJ,CAAU,yBAAV,CAAN;;;YAEI,IAAIA,KAAJ,EAAN;;;IAEF6K,gBAAgB,oBAAMnB,MAAN;MAAcoB,WAAW,EAAXA;OAA9B;GARe,EASd,EATc,CAAjB;;oCAtCiCxD,OAAY;IAAZA,OAAY;;;EAiD7CzB,MAAM,CAACsF,MAAP,CAAcL,WAAW,CAACM,OAA1B,qBACK5F,KADL;IAEEuE,IAAI,EAAJA,IAFF;;IAGEN,KAAK,EAALA,KAHF;;IAIEuB,QAAQ,EAARA,QAJF;;IAKE1D,OAAO,EAAPA,OALF;;IAMEf,KAAK,EAAE;MACL8E,yBAAyB,EAAE,EADtB;MAELC,6BAA6B,EAAE,EAF1B;MAGLC,mBAAmB,EAAE,EAHhB;MAILC,OAAO,EAAE,EAJJ;MAKLC,OAAO,EAAE,EALJ;MAMLC,UAAU,EAAE,EANP;MAOLC,aAAa,EAAE,EAPV;MAQLC,iBAAiB,EAAE,EARd;MASLC,WAAW,EAAE,EATR;MAULC,mBAAmB,EAAE,EAVhB;MAWLC,cAAc,EAAE,EAXX;MAYLC,YAAY,EAAE;;MAnE2B;;MAwEzC5N,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EAAoDxK,OAAO,CAACmM,IAAR,CAAa,SAAb;EAEpD3E,OAAO,CAAClG,MAAR,CAAeiF,OAAf,EAAwBvF,OAAxB,CAAgC,UAAA8G,MAAM,EAAI;IACxCA,MAAM,CAACkD,WAAW,CAACM,OAAZ,CAAoB7E,KAArB,CAAN;GADF;MAIInI,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EAAoDxK,OAAO,CAACoM,OAAR,CAAgB,SAAhB,EA9EP;;MAiFzCvN,OAAO,GAAGJ,KAAK,CAAC4N,OAAN,CACZ;WAAMlM,kBAAkB,CAAC+J,WAAD,EAAczM,aAAd,CAAxB;GADY,EAEZ,CAACA,aAAD,EAAgByM,WAAhB,CAFY,CAAd,CAjF6C;;;MAwFzC3J,WAAW,GAAG9B,KAAK,CAAC4N,OAAN,CAAc,YAAM;QAChC/N,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,iCAAb;QAEEG,UAAU,GAAG9F,UAAU,CACzBwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0B8E,yBADD,EAEzBnE,SAAS,CAACvI,OAAD,EAAU,SAAV,CAFgB,EAGzBmM,WAAW,CAACM,OAHa,CAA3B;QAMIhN,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,iCAAhB;WACKE,UAAP;GAZgB,GAchBzN,OAdgB,EAehB2L,KAfgB,4BAiBbhE,UAAU,CACXwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0B+E,6BADf,EAEX,EAFW,EAGXR,WAAW,CAACM,OAHD,CAjBG,GAAlB,CAxF6C;;MAiHvC9K,YAAY,GAAG/B,KAAK,CAAC4N,OAAN,CACnB;WAAM/L,gBAAgB,CAACC,WAAD,EAAc9C,aAAd,CAAtB;GADmB,EAEnB,CAACA,aAAD,EAAgB8C,WAAhB,CAFmB,CAArB;MAKMI,OAAO,GAAGlC,KAAK,CAAC4N,OAAN,CAAc;WAAM7L,YAAY,CAAC,CAAD,CAAZ,CAAgBG,OAAtB;GAAd,EAA6C,CAACH,YAAD,CAA7C,CAAhB;EAEAuF,MAAM,CAACsF,MAAP,CAAcL,WAAW,CAACM,OAA1B,EAAmC;IACjCzM,OAAO,EAAPA,OADiC;IAEjC0B,WAAW,EAAXA,WAFiC;IAGjCC,YAAY,EAAZA,YAHiC;IAIjCG,OAAO,EAAPA;GAJF,EAxH6C;;uBAgIpBlC,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACvC/N,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,iBAAb;QAEEI,QAAQ,GAAG,EAAf,CAJ2C;;QAOrCC,SAAS,GAAG,SAAZA,SAAY,CAACC,WAAD,EAAchJ,CAAd,EAAgD;UAA/B3E,KAA+B,uEAAvB,CAAuB;UAApB4N,UAAoB,uEAAP,EAAO;;UAE1D/D,QAAQ,GAAG8D,WAAjB;UAEME,KAAK,GAAGtC,QAAQ,CAACoC,WAAD,EAAchJ,CAAd,CAAtB,CAJgE;;UAO1Df,IAAI,gCAAOgK,UAAP,IAAmBC,KAAnB,EAAV;UAEM7M,GAAG,GAAG;QACV6I,QAAQ,EAARA,QADU;QAEVnJ,KAAK,EAAEiE,CAFG;QAGVf,IAAI,EAAJA,IAHU;;QAIV5D,KAAK,EAALA,KAJU;QAKV8N,KAAK,EAAE,CAAC,EAAD,CALG;;OAAZ;MAQAL,QAAQ,CAAC9K,IAAT,CAAc3B,GAAd,EAjBgE;;UAoB5D+I,OAAO,GAAGuB,UAAU,CAACqC,WAAD,EAAchJ,CAAd,CAAxB;;UAEIoF,OAAJ,EAAa;QACX/I,GAAG,CAAC+I,OAAJ,GAAcA,OAAO,CAACzI,GAAR,CAAY,UAACmB,CAAD,EAAIkC,CAAJ;iBAAU+I,SAAS,CAACjL,CAAD,EAAIkC,CAAJ,EAAO3E,KAAK,GAAG,CAAf,EAAkB4D,IAAlB,CAAnB;SAAZ,CAAd;OAvB8D;;;;UA4B1DmK,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;cAC9B,IAAI3M,KAAJ,CACJ,iGADI,CAAN;OADF;;MAKAJ,GAAG,CAAC8M,KAAJ,CAAUxM,GAAV,GAAgByM,uBAAhB;MACA/M,GAAG,CAAC8M,KAAJ,CAAUtL,MAAV,GAAmBuL,uBAAnB;MACA/M,GAAG,CAAC8M,KAAJ,CAAU5L,OAAV,GAAoB6L,uBAApB;MACA/M,GAAG,CAAC8M,KAAJ,CAAU,CAAV,EAAaV,YAAb,GAA4BW,uBAA5B,CApCgE;;MAuChE/M,GAAG,CAACqE,MAAJ,GAAa,EAAb;MACA5D,WAAW,CAACS,OAAZ,CAAoB,UAAA3B,MAAM,EAAI;QAC5BS,GAAG,CAACqE,MAAJ,CAAW9E,MAAM,CAACI,EAAlB,IAAwBJ,MAAM,CAACK,QAAP,GACpBL,MAAM,CAACK,QAAP,CAAgB+M,WAAhB,EAA6BhJ,CAA7B,EAAgC;UAAEoF,OAAO,EAAPA,OAAF;UAAW/J,KAAK,EAALA,KAAX;UAAkBmL,IAAI,EAAJA;SAAlD,CADoB,GAEpBY,SAFJ;OADF;aAMO/K,GAAP;KA9CF,CAP2C;;;QAyDrCgN,YAAY,GAAG7C,IAAI,CAAC7J,GAAL,CAAS,UAACmB,CAAD,EAAIkC,CAAJ;aAAU+I,SAAS,CAACjL,CAAD,EAAIkC,CAAJ,CAAnB;KAAT,CAArB;QACInF,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,iBAAhB;WACK,CAACU,YAAD,EAAeP,QAAf,CAAP;GA5DuB,EA6DtB,CAAC/B,KAAD,EAAQP,IAAR,EAAcI,QAAd,EAAwBD,UAAxB,EAAoC7J,WAApC,CA7DsB,CAhIoB;;MAgItCyD,IAhIsC;MAgIhCuI,QAhIgC;;EA+L7CvB,WAAW,CAACM,OAAZ,CAAoBtH,IAApB,GAA2BA,IAA3B;EACAgH,WAAW,CAACM,OAAZ,CAAoBiB,QAApB,GAA+BA,QAA/B,CAhM6C;;EAmM7CtK,yBAAyB,CAAC+I,WAAW,CAACM,OAAb,CAAzB,CAnM6C;;EAsM7CN,WAAW,CAACM,OAAZ,CAAoByB,WAApB,GAAkCvM,YAAY,CAACzB,MAAb,CAChC,UAACiO,GAAD,EAAMtM,WAAN;wCAA0BsM,GAA1B,sBAAkCtM,WAAW,CAACC,OAA9C;GADgC,EAEhC,EAFgC,CAAlC;MAKIrC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,2BAAb;EACFnB,WAAW,CAACM,OAAZ,GAAsB9E,UAAU,CAC9BwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BgF,mBADI,EAE9BT,WAAW,CAACM,OAFkB,CAAhC;MAIIhN,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,2BAAhB;EAEFa,mBAAmB,CAACjC,WAAW,CAACM,OAAb,CAAnB;MAEIhN,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,eAAb;EACFnB,WAAW,CAACM,OAAZ,GAAsB9E,UAAU,CAC9BwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BiF,OADI,EAE9BV,WAAW,CAACM,OAFkB,CAAhC;MAIIhN,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,eAAhB,EA7N2C;;;EAiO7CpB,WAAW,CAACM,OAAZ,CAAoByB,WAApB,CAAgC/L,OAAhC,CAAwC,UAAA3B,MAAM,EAAI;;IAEhDA,MAAM,CAAC6N,MAAP,GAAgB,UAACpC,IAAD,EAA0B;UAAnBqC,SAAmB,uEAAP,EAAO;UAClC1H,IAAI,GAAG,OAAOqF,IAAP,KAAgB,QAAhB,GAA2BzL,MAAM,CAACyL,IAAD,CAAjC,GAA0CA,IAAvD;;UAEI,OAAOrF,IAAP,KAAgB,WAApB,EAAiC;cACzB,IAAIvF,KAAJ,CAAUkJ,SAAV,CAAN;;;aAGK5D,UAAU,CAACC,IAAD,qBACZuF,WAAW,CAACM,OADA;QAEfjM,MAAM,EAANA;SACG8N,SAHY,EAAjB;KAPF,CAFgD;;;IAiBhD9N,MAAM,CAAC4M,cAAP,GAAwB,UAAAvG,KAAK;aAC3BS,UAAU,CACR;QACEsC,GAAG,EAAE,CAAC,QAAD,EAAWpJ,MAAM,CAACI,EAAlB,EAAsBiC,IAAtB,CAA2B,GAA3B,CADP;QAEE0L,OAAO,EAAE/N,MAAM,CAACiD;OAHV,EAKRuE,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BwF,cADd,EAEZ5M,MAFY,EAGZ2L,WAAW,CAACM,OAHA,CALN,EAUR5F,KAVQ,CADiB;KAA7B;GAjBF;EAgCAsF,WAAW,CAACM,OAAZ,CAAoB9K,YAApB,CAAiCQ,OAAjC,CAAyC,UAACN,WAAD,EAAc+C,CAAd,EAAoB;;IAE3D/C,WAAW,CAACC,OAAZ,GAAsBD,WAAW,CAACC,OAAZ,CAAoBW,MAApB,CAA2B,UAAAU,MAAM,EAAI;UACnDsF,OAAO,GAAG,SAAVA,OAAU,CAAA3G,OAAO;eACrBA,OAAO,CAACW,MAAR,CAAe,UAAAU,MAAM,EAAI;cACnBA,MAAM,CAACrB,OAAX,EAAoB;mBACX2G,OAAO,CAACtF,MAAM,CAACrB,OAAR,CAAd;;;iBAEKqB,MAAM,CAACK,SAAd;SAJF,EAKGnB,MANkB;OAAvB;;UAOIc,MAAM,CAACrB,OAAX,EAAoB;eACX2G,OAAO,CAACtF,MAAM,CAACrB,OAAR,CAAd;;;aAEKqB,MAAM,CAACK,SAAd;KAXoB,CAAtB,CAF2D;;QAiBvD3B,WAAW,CAACC,OAAZ,CAAoBO,MAAxB,EAAgC;MAC9BR,WAAW,CAACsL,mBAAZ,GAAkC;YAACtG,KAAD,uEAAS,EAAT;eAChCS,UAAU,CACR;UACEsC,GAAG,EAAE,iBAAUhF,CAAV,GAAe/B,IAAf,CAAoB,GAApB;SAFC,EAIRmF,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BuF,mBADd,EAEZtL,WAFY,EAGZsK,WAAW,CAACM,OAHA,CAJN,EASR5F,KATQ,CADsB;OAAlC;;aAaO,IAAP;;GA/BJ,EAjQ6C;;MAqSzCpH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,eAAb;EACFnB,WAAW,CAACM,OAAZ,CAAoBtH,IAApB,GAA2BwC,UAAU,CACnCwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BkF,OADS,EAEnCX,WAAW,CAACM,OAAZ,CAAoBtH,IAFe,EAGnCgH,WAAW,CAACM,OAHuB,CAArC;MAKIhN,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,eAAhB,EA7S2C;;;EAkT7CpB,WAAW,CAACM,OAAZ,CAAoBM,UAApB,GAAiCnN,KAAK,CAAC0M,WAAN,CAAkB,UAAArL,GAAG,EAAI;IACxDA,GAAG,CAACiM,WAAJ,GAAkB,UAAArG,KAAK;aACrBS,UAAU,CACR;QAAEsC,GAAG,EAAE,CAAC,KAAD,4BAAW3I,GAAG,CAAC4C,IAAf,GAAqBhB,IAArB,CAA0B,GAA1B;OADC,EAERmF,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BsF,WADd,EAEZjM,GAFY,EAGZkL,WAAW,CAACM,OAHA,CAFN,EAOR5F,KAPQ,CADW;KAAvB,CADwD;;;IAaxD5F,GAAG,CAAC8M,KAAJ,GAAY5B,WAAW,CAACM,OAAZ,CAAoB/K,WAApB,CACTe,MADS,CACF,UAAAC,CAAC;aAAIA,CAAC,CAACc,SAAN;KADC,EAETjC,GAFS,CAEL,UAAAf,MAAM,EAAI;UACP1B,IAAI,GAAG;QACX0B,MAAM,EAANA,MADW;QAEXS,GAAG,EAAHA,GAFW;QAGXlC,KAAK,EAAEkC,GAAG,CAACqE,MAAJ,CAAW9E,MAAM,CAACI,EAAlB;OAHT,CADa;;MAQb9B,IAAI,CAACuO,YAAL,GAAoB,UAAAxG,KAAK,EAAI;YACrB2H,aAAa,GAAG,6BAAIvN,GAAG,CAAC4C,IAAR,IAAcrD,MAAM,CAACI,EAArB,GAAyBiC,IAAzB,CAA8B,GAA9B,CAAtB;eACOyE,UAAU,CACf;UACEsC,GAAG,EAAE,CAAC,MAAD,EAAS4E,aAAT,EAAwB3L,IAAxB,CAA6B,GAA7B;SAFQ,EAIfmF,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0ByF,YADd,EAEZvO,IAFY,EAGZqN,WAAW,CAACM,OAHA,CAJC,EASf5F,KATe,CAAjB;OAFF,CARa;;;MAwBb/H,IAAI,CAACuP,MAAL,GAAc,UAACpC,IAAD,EAA0B;YAAnBqC,SAAmB,uEAAP,EAAO;YAChC1H,IAAI,GAAG,OAAOqF,IAAP,KAAgB,QAAhB,GAA2BzL,MAAM,CAACyL,IAAD,CAAjC,GAA0CA,IAAvD;;YAEI,OAAOrF,IAAP,KAAgB,WAApB,EAAiC;gBACzB,IAAIvF,KAAJ,CAAUkJ,SAAV,CAAN;;;eAGK5D,UAAU,CAACC,IAAD,qBACZuF,WAAW,CAACM,OADA;UAEfjM,MAAM,EAANA,MAFe;UAGfS,GAAG,EAAHA,GAHe;UAIfnC,IAAI,EAAJA;WACGwP,SALY,EAAjB;OAPF;;aAgBOxP,IAAP;KA1CQ,CAAZ,CAbwD;;IA2DxD6I,UAAU,CAACwE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BmF,UAA3B,EAAuC9L,GAAvC,EAA4CkL,WAAW,CAACM,OAAxD,CAAV;GA3D+B,EA4D9B,EA5D8B,CAAjC;;EA8DAN,WAAW,CAACM,OAAZ,CAAoBO,aAApB,GAAoC,UAAAsB,SAAS;WAC3ChH,UAAU,CACRU,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BoF,aADd,EAEZb,WAAW,CAACM,OAFA,CADN,EAKR6B,SALQ,CADiC;GAA7C;;EASAnC,WAAW,CAACM,OAAZ,CAAoBQ,iBAApB,GAAwC,UAAAqB,SAAS;WAC/ChH,UAAU,CACRU,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BqF,iBADd,EAEZd,WAAW,CAACM,OAFA,CADN,EAKR6B,SALQ,CADqC;GAAjD;;SASOnC,WAAW,CAACM,OAAnB;CAlYK;;AAqYP,SAAS2B,mBAAT,CAA6B/K,QAA7B,EAAuC;MAC7BvB,OAD6B,GACjBuB,QADiB,CAC7BvB,OAD6B;EAGrCuB,QAAQ,CAACoL,iBAAT,GAA6BC,qBAAqB,CAAC5M,OAAD,CAAlD;;;AAGF,SAAS4M,qBAAT,CAA+B5M,OAA/B,EAAkD;MAAVkE,IAAU,uEAAH,CAAG;MAC5C2I,aAAa,GAAG,CAApB;EAEA7M,OAAO,CAACK,OAAR,CAAgB,UAAAgB,MAAM,EAAI;QACTyL,UADS,GACMzL,MADN,CAClBrB,OADkB;IAGxBqB,MAAM,CAAC0L,SAAP,GAAmB7I,IAAnB;;QAEI4I,UAAU,IAAIA,UAAU,CAACvM,MAA7B,EAAqC;MACnCc,MAAM,CAAC2L,UAAP,GAAoBJ,qBAAqB,CAACE,UAAD,EAAa5I,IAAb,CAAzC;KADF,MAEO;MACL7C,MAAM,CAAC2L,UAAP,GAAoBzO,IAAI,CAAC0O,GAAL,CAClB1O,IAAI,CAACC,GAAL,CAAS6C,MAAM,CAAChE,QAAhB,EAA0BgE,MAAM,CAACjE,KAAjC,CADkB,EAElBiE,MAAM,CAAC/D,QAFW,CAApB;;;QAKE+D,MAAM,CAACK,SAAX,EAAsB;MACpBwC,IAAI,IAAI7C,MAAM,CAAC2L,UAAf;MACAH,aAAa,IAAIxL,MAAM,CAAC2L,UAAxB;;GAfJ;SAmBOH,aAAP;;;ACpbF,IAAM9F,UAAU,GAAG,aAAnB;;AAGA2B,OAAO,CAACwE,oBAAR,GAA+B,sBAA/B;AACAxE,OAAO,CAACyE,aAAR,GAAwB,eAAxB;;AAGAvE,eAAe,CAAC7B,UAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9BjB,QAAQ,EAAE;OACPsB,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACyE,aAA5B,EAA2C;8BAEpCnE,KADL;MAEEtB,QAAQ,EAAE;;;;MAIVuB,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACwE,oBAA5B,EAAkD;QACxCnL,IADwC,GACrBkH,MADqB,CACxClH,IADwC;QAClC2F,QADkC,GACrBuB,MADqB,CAClCvB,QADkC;QAE1CI,GAAG,GAAG/F,IAAI,CAAChB,IAAL,CAAU,GAAV,CAAZ;QACMqM,MAAM,GAAGpE,KAAK,CAACtB,QAAN,CAAexG,QAAf,CAAwB4G,GAAxB,CAAf;QACMuF,WAAW,GAAG,OAAOC,GAAP,KAAe,WAAf,GAA6B5F,QAA7B,GAAwC,CAAC0F,MAA7D;QACIG,WAAW,GAAG,IAAIC,GAAJ,CAAQxE,KAAK,CAACtB,QAAd,CAAlB;;QAEI,CAAC0F,MAAD,IAAWC,WAAf,EAA4B;MAC1BE,WAAW,CAACE,GAAZ,CAAgB3F,GAAhB;KADF,MAEO,IAAIsF,MAAM,IAAI,CAACC,WAAf,EAA4B;MACjCE,WAAW,CAACG,MAAZ,CAAmB5F,GAAnB;KADK,MAEA;aACEkB,KAAP;;;8BAIGA,KADL;MAEEtB,QAAQ,qBAAM6F,WAAW,CAAC/J,MAAZ,EAAN;;;CAhCd;;AAqCA,IAAamK,WAAW,GAAG,SAAdA,WAAc,CAAA7H,KAAK,EAAI;EAClCA,KAAK,CAAC8H,sBAAN,GAA+B,EAA/B;EACA9H,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,OAAnB;CAFK;AAKP4C,WAAW,CAAC5G,UAAZ,GAAyBA,UAAzB;;AAEA,IAAM8G,2BAA2B,GAAG,SAA9BA,2BAA8B;MAAGvE,IAAH,QAAGA,IAAH;SAAc,CAACA,IAAD,CAAd;CAApC;;AAEA,SAASyB,OAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBsI,KAFuB,GAWrBtI,QAXqB,CAEvBsI,KAFuB;MAGvBxG,IAHuB,GAWrB9B,QAXqB,CAGvB8B,IAHuB;8BAWrB9B,QAXqB,CAIvBkG,iBAJuB;MAIvBA,iBAJuB,sCAIH,UAJG;8BAWrBlG,QAXqB,CAKvBuM,oBALuB;MAKvBA,oBALuB,sCAKA,IALA;8BAWrBvM,QAXqB,CAMvBoG,aANuB;MAMvBA,aANuB,sCAMP,IANO;MAOvB7B,KAPuB,GAWrBvE,QAXqB,CAOvBuE,KAPuB;MAQd4B,QARc,GAWrBnG,QAXqB,CAQvByH,KARuB,CAQdtB,QARc;MASvB6C,QATuB,GAWrBhJ,QAXqB,CASvBgJ,QATuB;8BAWrBhJ,QAXqB,CAUvBwM,oBAVuB;MAUvBA,oBAVuB,sCAUAF,2BAVA;;MAcnBG,YAAY,GAAGlQ,KAAK,CAACwM,MAAN,EAArB;EACA7M,mBAAmB,CAAC,YAAM;QACpBuQ,YAAY,CAACrD,OAAjB,EAA0B;MACxBJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAACyE;OAAjB,CAAR;;;IAEFa,YAAY,CAACrD,OAAb,GAAuB,IAAvB;GAJiB,GAMjBJ,QANiB,4BAObwD,oBAAoB,GAAGA,oBAAoB,CAACxM,QAAD,CAAvB,GAAoC,EAP3C,GAAnB;;MAUM2L,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACnL,IAAD,EAAO2F,QAAP,EAAoB;IAC/C6C,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAACwE,oBAAhB;MAAsCnL,IAAI,EAAJA,IAAtC;MAA4C2F,QAAQ,EAARA;KAA7C,CAAR;GADF,CAzByB;;;MA8BnB2C,WAAW,GAAGvM,KAAK,CAACwM,MAAN,EAApB;EACAD,WAAW,CAACM,OAAZ,GAAsBpJ,QAAtB;EAEAuE,KAAK,CAACmF,UAAN,CAAiBnK,IAAjB,CAAsB,UAAA3B,GAAG,EAAI;IAC3BA,GAAG,CAAC8O,cAAJ,GAAqB,UAAAX,GAAG;aAAIJ,oBAAoB,CAAC/N,GAAG,CAAC4C,IAAL,EAAWuL,GAAX,CAAxB;KAAxB;;IACAnO,GAAG,CAACyO,sBAAJ,GAA6B,UAAA7I,KAAK,EAAI;aAC7BS,UAAU,CACf;QACE0I,OAAO,EAAE,iBAAA5L,CAAC,EAAI;UACZA,CAAC,CAAC6L,OAAF;UACAhP,GAAG,CAAC8O,cAAJ;SAHJ;QAKElK,KAAK,EAAE;UACL3B,MAAM,EAAE;SANZ;QAQEgM,KAAK,EAAE;OATM,EAWflI,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0B8H,sBADd,EAEZzO,GAFY,EAGZkL,WAAW,CAACM,OAHA,CAXC,EAgBf5F,KAhBe,CAAjB;KADF;;WAoBO5F,GAAP;GAtBF;MAyBMyI,YAAY,GAAG9J,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACnC/N,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoL,IAAR,CAAa,iBAAb;;QAEEqD,oBAAJ,EAA0B;aACjBtG,UAAU,CAACnE,IAAD,EAAO;QAAEoE,iBAAiB,EAAjBA,iBAAF;QAAqBC,QAAQ,EAARA,QAArB;QAA+BC,aAAa,EAAbA;OAAtC,CAAjB;;;WAGKtE,IAAP;GARmB,EASlB,CACDwG,KADC,EAEDiE,oBAFC,EAGDzK,IAHC,EAIDoE,iBAJC,EAKDC,QALC,EAMDC,aANC,CATkB,CAArB;MAkBM0G,aAAa,GAAGC,iBAAiB,CAAC5G,QAAD,CAAvC;4BAGKnG,QADL;IAEE2L,oBAAoB,EAApBA,oBAFF;IAGEmB,aAAa,EAAbA,aAHF;IAIEhL,IAAI,EAAEuE;;;;AAIV,SAAS0G,iBAAT,CAA2B5G,QAA3B,EAAqC;MAC/B6G,QAAQ,GAAG,CAAf;EAEA7G,QAAQ,CAACrH,OAAT,CAAiB,UAAAyH,GAAG,EAAI;QAChB/F,IAAI,GAAG+F,GAAG,CAAC5I,KAAJ,CAAU,GAAV,CAAb;IACAqP,QAAQ,GAAGhQ,IAAI,CAACC,GAAL,CAAS+P,QAAT,EAAmBxM,IAAI,CAACxB,MAAxB,CAAX;GAFF;SAKOgO,QAAP;;;AC7JK,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACnL,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;EAC7CpL,IAAI,GAAGA,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO5B,MAAM,CAACwR,QAAD,CAAN,CACJC,WADI,GAEJzN,QAFI,CAEKhE,MAAM,CAACuR,WAAD,CAAN,CAAoBE,WAApB,EAFL,CAAP;GAFK,CAAP;SAMOtL,IAAP;CAPK;;AAUPmL,IAAI,CAACI,UAAL,GAAkB,UAAAzM,GAAG;SAAI,CAACA,GAAL;CAArB;;AAEA,AAAO,IAAM0M,SAAS,GAAG,SAAZA,SAAY,CAACxL,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SAC3CpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO4P,QAAQ,KAAKxE,SAAb,GACHhN,MAAM,CAACwR,QAAD,CAAN,CAAiBC,WAAjB,OAAmCzR,MAAM,CAACuR,WAAD,CAAN,CAAoBE,WAApB,EADhC,GAEH,IAFJ;GAFK,CAAP;CADK;;AASPE,SAAS,CAACD,UAAV,GAAuB,UAAAzM,GAAG;SAAI,CAACA,GAAL;CAA1B;;AAEA,AAAO,IAAM2M,aAAa,GAAG,SAAhBA,aAAgB,CAACzL,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SAC/CpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO4P,QAAQ,KAAKxE,SAAb,GACHhN,MAAM,CAACwR,QAAD,CAAN,KAAqBxR,MAAM,CAACuR,WAAD,CADxB,GAEH,IAFJ;GAFK,CAAP;CADK;;AASPK,aAAa,CAACF,UAAd,GAA2B,UAAAzM,GAAG;SAAI,CAACA,GAAL;CAA9B;;AAEA,AAAO,IAAMjB,QAAQ,GAAG,SAAXA,QAAW,CAACmC,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SAC1CpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO2P,WAAW,CAACvN,QAAZ,CAAqBwN,QAArB,CAAP;GAFK,CAAP;CADK;;AAOPxN,QAAQ,CAAC0N,UAAT,GAAsB,UAAAzM,GAAG;SAAI,CAACA,GAAD,IAAQ,CAACA,GAAG,CAAC5B,MAAjB;CAAzB;;AAEA,AAAO,IAAMwO,WAAW,GAAG,SAAdA,WAAc,CAAC1L,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SAC7CpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WAEE4P,QAAQ,IACRA,QAAQ,CAACnO,MADT,IAEAkO,WAAW,CAACO,KAAZ,CAAkB,UAAA7M,GAAG;aAAIuM,QAAQ,CAACxN,QAAT,CAAkBiB,GAAlB,CAAJ;KAArB,CAHF;GAFK,CAAP;CADK;;AAWP4M,WAAW,CAACH,UAAZ,GAAyB,UAAAzM,GAAG;SAAI,CAACA,GAAD,IAAQ,CAACA,GAAG,CAAC5B,MAAjB;CAA5B;;AAEA,AAAO,IAAM0O,KAAK,GAAG,SAARA,KAAQ,CAAC5L,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SACvCpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO4P,QAAQ,KAAKD,WAApB;GAFK,CAAP;CADK;;AAOPQ,KAAK,CAACL,UAAN,GAAmB,UAAAzM,GAAG;SAAI,OAAOA,GAAP,KAAe,WAAnB;CAAtB;;AAEA,AAAO,IAAM+M,MAAM,GAAG,SAATA,MAAS,CAAC7L,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;SACxCpL,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB,CADwB;;WAGjB4P,QAAQ,IAAID,WAAnB;GAHK,CAAP;CADK;;AAQPS,MAAM,CAACN,UAAP,GAAoB,UAAAzM,GAAG;SAAIA,GAAG,IAAI,IAAX;CAAvB;;AAEA,AAAO,IAAMgN,OAAO,GAAG,SAAVA,OAAU,CAAC9L,IAAD,EAAOvE,EAAP,EAAW2P,WAAX,EAA2B;aAC/BA,WAAW,IAAI,EADgB;;MAC3CxB,GAD2C;MACtCzO,GADsC;;EAGhDyO,GAAG,GAAG,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC,CAACmC,QAAvC;EACA5Q,GAAG,GAAG,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC4Q,QAAtC;;MAEInC,GAAG,GAAGzO,GAAV,EAAe;QACP6Q,IAAI,GAAGpC,GAAb;IACAA,GAAG,GAAGzO,GAAN;IACAA,GAAG,GAAG6Q,IAAN;;;SAGKhM,IAAI,CAAC1C,MAAL,CAAY,UAAAxB,GAAG,EAAI;QAClBuP,QAAQ,GAAGvP,GAAG,CAACqE,MAAJ,CAAW1E,EAAX,CAAjB;WACO4P,QAAQ,IAAIzB,GAAZ,IAAmByB,QAAQ,IAAIlQ,GAAtC;GAFK,CAAP;CAZK;;AAkBP2Q,OAAO,CAACP,UAAR,GAAqB,UAAAzM,GAAG;SACtB,CAACA,GAAD,IAAS,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,QAAlB,IAA8B,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,QADnC;CAAxB;;;;;;;;;;;;;;AClFA,IAAM4E,YAAU,GAAG,YAAnB;;AAGA2B,OAAO,CAAC4G,YAAR,GAAuB,cAAvB;AACA5G,OAAO,CAAC6G,SAAR,GAAoB,WAApB;AACA7G,OAAO,CAAC8G,aAAR,GAAwB,eAAxB;;AAGA5G,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9B8G,OAAO,EAAE;OACNzG,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC4G,YAA5B,EAA0C;8BAEnCtG,KADL;MAEEyG,OAAO,EAAE;;;;MAITxG,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC6G,SAA5B,EAAuC;QAEnCjM,QAFmC,GAOjC2F,MAPiC,CAEnC3F,QAFmC;QAGnCmL,WAHmC,GAOjCxF,MAPiC,CAGnCwF,WAHmC;gCAOjCxF,MAPiC,CAInCoB,WAJmC,CAKjCM,OALiC;QAKtB/K,WALsB,yBAKtBA,WALsB;QAKT8P,eALS,yBAKTA,eALS;QAS/BhR,MAAM,GAAGkB,WAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;KAAlB,CAAf;;QAEI,CAAC5E,MAAL,EAAa;YACL,IAAIa,KAAJ,yDAC6C+D,QAD7C,EAAN;;;QAKIsM,YAAY,GAAGC,eAAe,CAClCnR,MAAM,CAACiC,MAD2B,EAElC+O,eAAe,IAAI,EAFe,EAGlCI,WAHkC,CAApC;QAMMC,SAAS,GAAG5H,gBAAgB,CAACsG,WAAD,EAAczF,KAAK,CAACyG,OAAN,CAAcnM,QAAd,CAAd,CAAlC,CAvBqC;;QA0BjC0M,gBAAgB,CAACJ,YAAY,CAAChB,UAAd,EAA0BmB,SAA1B,CAApB,EAA0D;2BACV/G,KAAK,CAACyG,OADI;UACpCQ,MADoC,kBAC/C3M,QAD+C;UACzB4M,UADyB,6CAC/C5M,QAD+C;;gCAInD0F,KADL;QAEEyG,OAAO,EAAES;;;;8BAKRlH,KADL;MAEEyG,OAAO,qBACFzG,KAAK,CAACyG,OADJ,sBAEJnM,QAFI,EAEOyM,SAFP;;;;MAOP9G,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC8G,aAA5B,EAA2C;QAEvCC,OAFuC,GAMrCxG,MANqC,CAEvCwG,OAFuC;iCAMrCxG,MANqC,CAGvCoB,WAHuC,CAIrCM,OAJqC;QAI1B/K,YAJ0B,0BAI1BA,WAJ0B;QAIA8P,gBAJA,0BAIbI,WAJa;;QAQnCI,WAAU,GAAG/H,gBAAgB,CAACsH,OAAD,EAAUzG,KAAK,CAACyG,OAAhB,CAAnC,CARyC;;;IAWzCrK,MAAM,CAACgB,IAAP,CAAY8J,WAAZ,EAAwB7P,OAAxB,CAAgC,UAAAvB,EAAE,EAAI;UAC9BiR,SAAS,GAAGG,WAAU,CAACpR,EAAD,CAA5B;;UACMJ,MAAM,GAAGkB,YAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;eAAIA,CAAC,CAAC9B,EAAF,KAASA,EAAb;OAAlB,CAAf;;UACM8Q,YAAY,GAAGC,eAAe,CAClCnR,MAAM,CAACiC,MAD2B,EAElC+O,gBAAe,IAAI,EAFe,EAGlCI,WAHkC,CAApC;;UAMIE,gBAAgB,CAACJ,YAAY,CAAChB,UAAd,EAA0BmB,SAA1B,CAApB,EAA0D;eACjDG,WAAU,CAACpR,EAAD,CAAjB;;KAVJ;8BAeKkK,KADL;MAEEyG,OAAO,EAAES;;;CAtFf;;AA2FA,IAAaC,UAAU,GAAG,SAAbA,UAAa,CAAArK,KAAK,EAAI;EACjCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIPoF,UAAU,CAACpJ,UAAX,GAAwBA,YAAxB;;AAEA,SAASgE,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBsI,KAFuB,GAarBtI,QAbqB,CAEvBsI,KAFuB;MAGvBxG,IAHuB,GAarB9B,QAbqB,CAGvB8B,IAHuB;MAIvBuI,QAJuB,GAarBrK,QAbqB,CAIvBqK,QAJuB;MAKvBhM,WALuB,GAarB2B,QAbqB,CAKvB3B,WALuB;MAMV8P,eANU,GAarBnO,QAbqB,CAMvBuO,WANuB;MAOvBM,aAPuB,GAarB7O,QAbqB,CAOvB6O,aAPuB;8BAarB7O,QAbqB,CAQvB8O,gBARuB;MAQvBA,gBARuB,sCAQJ,KARI;MASvBC,cATuB,GAarB/O,QAbqB,CASvB+O,cATuB;MAUdb,OAVc,GAarBlO,QAbqB,CAUvByH,KAVuB,CAUdyG,OAVc;MAWvBlF,QAXuB,GAarBhJ,QAbqB,CAWvBgJ,QAXuB;8BAarBhJ,QAbqB,CAYvBgP,mBAZuB;MAYvBA,mBAZuB,sCAYD,KAZC;MAenBC,eAAe,GAAGnN,IAAxB;MACMoN,mBAAmB,GAAG7E,QAA5B,CAhByB;;MAmBnBoC,YAAY,GAAGlQ,KAAK,CAACwM,MAAN,EAArB;EACA7M,mBAAmB,CAAC,YAAM;QACpBuQ,YAAY,CAACrD,OAAjB,EAA0B;MACxBJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAAC4G;OAAjB,CAAR;;;IAEFtB,YAAY,CAACrD,OAAb,GAAuB,IAAvB;GAJiB,GAKfJ,QALe,4BAKDgG,mBAAmB,GAAGA,mBAAmB,CAAChP,QAAD,CAAtB,GAAmC,EALrD,GAAnB;;MAOMgO,SAAS,GAAG,SAAZA,SAAY,CAACjM,QAAD,EAAWmL,WAAX,EAA2B;IAC3ClE,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAAC6G,SAAhB;MAA2BjM,QAAQ,EAARA,QAA3B;MAAqCmL,WAAW,EAAXA;KAAtC,CAAR;GADF;;MAIMe,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,OAAO,EAAI;IAC/BlF,QAAQ,CAAC;MACPJ,IAAI,EAAEzB,OAAO,CAAC8G,aADP;MAEPC,OAAO,EAAPA;KAFM,CAAR;GADF;;EAOA7P,WAAW,CAACS,OAAZ,CAAoB,UAAA3B,MAAM,EAAI;QAE1BI,EAF0B,GAMxBJ,MANwB,CAE1BI,EAF0B;QAG1BC,QAH0B,GAMxBL,MANwB,CAG1BK,QAH0B;QAIR2R,sBAJQ,GAMxBhS,MANwB,CAI1B2R,gBAJ0B;QAKVM,oBALU,GAMxBjS,MANwB,CAK1B4R,cAL0B;;IAS5B5R,MAAM,CAACkS,SAAP,GAAmB7R,QAAQ,GACvBmE,eAAe,CACbyN,oBAAoB,KAAK,IAAzB,GAAgC,KAAhC,GAAwCzG,SAD3B,EAEboG,cAAc,KAAK,IAAnB,GAA0B,KAA1B,GAAkCpG,SAFrB,EAGb,IAHa,CADQ,GAMvBhH,eAAe,CAACwN,sBAAD,EAAyBL,gBAAzB,EAA2C,KAA3C,CANnB,CAT4B;;IAkB5B3R,MAAM,CAAC6Q,SAAP,GAAmB,UAAApN,GAAG;aAAIoN,SAAS,CAAC7Q,MAAM,CAACI,EAAR,EAAYqD,GAAZ,CAAb;KAAtB,CAlB4B;;;;IAsB5BzD,MAAM,CAAC+P,WAAP,GAAqBgB,OAAO,CAAC3Q,EAAD,CAA5B;GAtBF,EAtCyB;;;;;uBAoEkBhB,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACzD0E,aAAa,IAAI,CAAChL,MAAM,CAACgB,IAAP,CAAYqJ,OAAZ,EAAqBlP,MAA3C,EAAmD;aAC1C;QACLsQ,YAAY,EAAExN,IADT;QAELyN,gBAAgB,EAAElF;OAFpB;;;QAMIkF,gBAAgB,GAAG,EAAzB;QAEInT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoL,IAAR,CAAa,iBAAb,EAX2D;;QAcvDsG,UAAU,GAAG,SAAbA,UAAa,CAAC1N,IAAD,EAAqB;UAAdlF,KAAc,uEAAN,CAAM;UAClC0S,YAAY,GAAGxN,IAAnB;MAEAwN,YAAY,GAAGzL,MAAM,CAAC4L,OAAP,CAAevB,OAAf,EAAwBrR,MAAxB,CACb,UAAC6S,aAAD,QAA4C;;YAA3B3N,QAA2B;YAAjBmL,WAAiB;;;YAEpC/P,MAAM,GAAGkB,WAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;iBAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;SAAlB,CAAf;;YAEI,CAAC5E,MAAL,EAAa;iBACJuS,aAAP;;;YAGE9S,KAAK,KAAK,CAAd,EAAiB;UACfO,MAAM,CAAC8R,eAAP,GAAyBS,aAAzB;;;YAGIrB,YAAY,GAAGC,eAAe,CAClCnR,MAAM,CAACiC,MAD2B,EAElC+O,eAAe,IAAI,EAFe,EAGlCI,WAHkC,CAApC;;YAMI,CAACF,YAAL,EAAmB;UACjBvQ,OAAO,CAAC6R,IAAR,0EACoExS,MAAM,CAACI,EAD3E;iBAGOmS,aAAP;SAtBwC;;;;QA2B1CvS,MAAM,CAACmS,YAAP,GAAsBjB,YAAY,CAChCqB,aADgC,EAEhC3N,QAFgC,EAGhCmL,WAHgC,EAIhC/P,MAJgC,CAAlC;eAOOA,MAAM,CAACmS,YAAd;OAnCW,EAqCbxN,IArCa,CAAf,CAHsC;;;;;MA+CtCwN,YAAY,GAAGA,YAAY,CAACpR,GAAb,CAAiB,UAAAN,GAAG,EAAI;QACrC2R,gBAAgB,CAAChQ,IAAjB,CAAsB3B,GAAtB;;YACI,CAACA,GAAG,CAAC+I,OAAT,EAAkB;iBACT/I,GAAP;;;kCAGGA,GADL;UAEE+I,OAAO,EACL/I,GAAG,CAAC+I,OAAJ,IAAe/I,GAAG,CAAC+I,OAAJ,CAAY3H,MAAZ,GAAqB,CAApC,GACIwQ,UAAU,CAAC5R,GAAG,CAAC+I,OAAL,EAAc/J,KAAK,GAAG,CAAtB,CADd,GAEIgB,GAAG,CAAC+I;;OAVC,CAAf;aAcO2I,YAAP;KA7DF;;WAgEO;MACLA,YAAY,EAAEE,UAAU,CAAC1N,IAAD,CADnB;MAELyN,gBAAgB,EAAhBA;KAFF;GA9EyC,EAkFxC,CACDV,aADC,EAEDX,OAFC,EAGD5F,KAHC,EAIDxG,IAJC,EAKDuI,QALC,EAMDhM,WANC,EAOD8P,eAPC,CAlFwC,CApElB;MAoEjBmB,YApEiB,kBAoEjBA,YApEiB;MAoEHC,gBApEG,kBAoEHA,gBApEG;;EAgKzBhT,KAAK,CAAC4N,OAAN,CAAc,YAAM;;;QAGZyF,kBAAkB,GAAGvR,WAAW,CAACe,MAAZ,CACzB,UAAAjC,MAAM;aAAI,CAAC0G,MAAM,CAACgB,IAAP,CAAYqJ,OAAZ,EAAqBvO,QAArB,CAA8BxC,MAAM,CAACI,EAArC,CAAL;KADmB,CAA3B,CAHkB;;;IASlBqS,kBAAkB,CAAC9Q,OAAnB,CAA2B,UAAA3B,MAAM,EAAI;MACnCA,MAAM,CAAC8R,eAAP,GAAyBK,YAAzB;MACAnS,MAAM,CAACmS,YAAP,GAAsBA,YAAtB;KAFF;GATF,EAaG,CAACA,YAAD,EAAepB,OAAf,EAAwB7P,WAAxB,CAbH;4BAgBK2B,QADL;IAEEgO,SAAS,EAATA,SAFF;IAGEC,aAAa,EAAbA,aAHF;IAIEgB,eAAe,EAAfA,eAJF;IAKEC,mBAAmB,EAAnBA,mBALF;IAMEpN,IAAI,EAAEwN,YANR;IAOEjF,QAAQ,EAAEkF;;;;AAId,SAASd,gBAAT,CAA0BpB,UAA1B,EAAsC3R,KAAtC,EAA6C;SACpC2R,UAAU,GAAGA,UAAU,CAAC3R,KAAD,CAAb,GAAuB,OAAOA,KAAP,KAAiB,WAAzD;;;AAGF,SAAS4S,eAAT,CAAyBlP,MAAzB,EAAiC+O,eAAjC,EAAkDI,WAAlD,EAA+D;SAE3DvJ,UAAU,CAAC5F,MAAD,CAAV,IACA+O,eAAe,CAAC/O,MAAD,CADf,IAEAmP,WAAW,CAACnP,MAAD,CAFX,IAGAmP,WAAW,CAACtB,IAJd;;;ACnTK,SAASpN,KAAT,CAAaoC,MAAb,EAAqBH,IAArB,EAA2B;SACzBG,MAAM,CAACpF,MAAP,CAAc,UAACgD,GAAD,EAAM4E,IAAN;WAAe5E,GAAG,GAAG4E,IAArB;GAAd,EAAyC,CAAzC,CAAP;;AAGF,AAAO,SAASoL,OAAT,CAAiB5N,MAAjB,EAAyBH,IAAzB,EAA+B;SAC7B9E,IAAI,CAAC8S,KAAL,CAAYjQ,KAAG,CAACoC,MAAD,AAAA,CAAH,GAAoBA,MAAM,CAACjD,MAA5B,GAAsC,GAAjD,IAAwD,GAA/D;;AAGF,AAAO,SAAS+Q,MAAT,CAAgB9N,MAAhB,EAAwB;EAC7BA,MAAM,GAAGA,MAAM,CAACjD,MAAP,GAAgBiD,MAAhB,GAAyB,CAAC,CAAD,CAAlC;MACIyJ,GAAG,GAAG1O,IAAI,CAAC0O,GAAL,OAAA1O,IAAI,qBAAQiF,MAAR,EAAd;MACIhF,GAAG,GAAGD,IAAI,CAACC,GAAL,OAAAD,IAAI,qBAAQiF,MAAR,EAAd;SAEO,CAACyJ,GAAG,GAAGzO,GAAP,IAAc,CAArB;;AAGF,AAAO,SAAS+S,WAAT,CAAqB/N,MAArB,EAA6B;SAC3B,IAAIgK,GAAJ,CAAQhK,MAAR,EAAgBgO,IAAvB;;AAGF,AAAO,SAASC,KAAT,CAAejO,MAAf,EAAuB;SACrBA,MAAM,CAACjD,MAAd;;;;;;;;;;;;ACTF,IAAMwG,YAAU,GAAG,YAAnB;;AAGA2B,OAAO,CAACgJ,YAAR,GAAuB,cAAvB;AACAhJ,OAAO,CAACiJ,aAAR,GAAwB,eAAxB;;AAGA/I,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9BiJ,OAAO,EAAE;OACN5I,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACgJ,YAA5B,EAA0C;8BAEnC1I,KADL;MAEE4I,OAAO,EAAE;;;;MAIT3I,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACiJ,aAA5B,EAA2C;QACjCrO,QADiC,GACZ2F,MADY,CACjC3F,QADiC;QACvBuO,MADuB,GACZ5I,MADY,CACvB4I,MADuB;QAGnCC,cAAc,GAClB,OAAOD,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,CAAC7I,KAAK,CAAC4I,OAAN,CAAc1Q,QAAd,CAAuBoC,QAAvB,CAD5C;;QAGIwO,cAAJ,EAAoB;gCAEb9I,KADL;QAEE4I,OAAO,+BAAM5I,KAAK,CAAC4I,OAAZ,IAAqBtO,QAArB;;;;8BAKN0F,KADL;MAEE4I,OAAO,EAAE5I,KAAK,CAAC4I,OAAN,CAAcjR,MAAd,CAAqB,UAAAC,CAAC;eAAIA,CAAC,KAAK0C,QAAV;OAAtB;;;CA9Bf;;AAmCA,IAAayO,UAAU,GAAG,SAAbA,UAAa,CAAAjM,KAAK,EAAI;EACjCA,KAAK,CAAC8E,yBAAN,CAAgC9J,IAAhC,CAAqC8J,yBAArC;EACA9E,KAAK,CAAC+E,6BAAN,CAAoC/J,IAApC,CAAyC,UAACkR,IAAD,EAAOzQ,QAAP,EAAoB;IAC3DyQ,IAAI,CAAClR,IAAL,CAAUS,QAAQ,CAACyH,KAAT,CAAe4I,OAAzB;WACOI,IAAP;GAFF;EAIAlM,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CANK;AASPgH,UAAU,CAAChL,UAAX,GAAwBA,YAAxB;;AAEA,SAAS6D,yBAAT,CAAmChL,WAAnC,QAAwE;MAAbgS,OAAa,QAAtB5I,KAAsB,CAAb4I,OAAa;;;MAIhEK,cAAc,GAAGL,OAAO,CAACnS,GAAR,CAAY,UAAAyS,CAAC;WAAItS,WAAW,CAAC+P,IAAZ,CAAiB,UAAAvP,GAAG;aAAIA,GAAG,CAACtB,EAAJ,KAAWoT,CAAf;KAApB,CAAJ;GAAb,CAAvB;MACMC,iBAAiB,GAAGvS,WAAW,CAACe,MAAZ,CAAmB,UAAAP,GAAG;WAAI,CAACwR,OAAO,CAAC1Q,QAAR,CAAiBd,GAAG,CAACtB,EAArB,CAAL;GAAtB,CAA1B,CALsE;;MAQhEsT,0BAA0B,GAC9BxS,WAAW,CAACsH,SAAZ,CAAsB,UAAAxI,MAAM;WAAIA,MAAM,CAAC2T,eAAX;GAA5B,IAA0D,CAD5D;sCAIKF,iBAAiB,CAACG,KAAlB,CAAwB,CAAxB,EAA2BF,0BAA3B,CADL,sBAEKH,cAFL,sBAGKE,iBAAiB,CAACG,KAAlB,CAAwBF,0BAAxB,CAHL;;;AAOF,IAAMG,uBAAuB,GAAG,EAAhC;;AAEA,SAASxH,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBsI,KAFuB,GAgBrBtI,QAhBqB,CAEvBsI,KAFuB;MAGvBxG,IAHuB,GAgBrB9B,QAhBqB,CAGvB8B,IAHuB;MAIvBuI,QAJuB,GAgBrBrK,QAhBqB,CAIvBqK,QAJuB;MAKvBhM,WALuB,GAgBrB2B,QAhBqB,CAKvB3B,WALuB;MAMvBwM,WANuB,GAgBrB7K,QAhBqB,CAMvB6K,WANuB;4BAgBrB7K,QAhBqB,CAOvBiR,SAPuB;MAOvBA,SAPuB,oCAOXpP,gBAPW;MAQvBqP,aARuB,GAgBrBlR,QAhBqB,CAQvBkR,aARuB;MASvBC,iBATuB,GAgBrBnR,QAhBqB,CASvBmR,iBATuB;MAUvBC,cAVuB,GAgBrBpR,QAhBqB,CAUvBoR,cAVuB;8BAgBrBpR,QAhBqB,CAWvBqR,YAXuB;MAWTC,gBAXS,sCAWUN,uBAXV;MAYvBzM,KAZuB,GAgBrBvE,QAhBqB,CAYvBuE,KAZuB;MAavBe,OAbuB,GAgBrBtF,QAhBqB,CAavBsF,OAbuB;MAcd+K,OAdc,GAgBrBrQ,QAhBqB,CAcvByH,KAduB,CAcd4I,OAdc;MAevBrH,QAfuB,GAgBrBhJ,QAhBqB,CAevBgJ,QAfuB;EAkBzB3D,iBAAiB,CAACC,OAAD,EAAU,EAAV,EAAc,YAAd,EAA4B,CAAC,WAAD,EAAc,aAAd,CAA5B,CAAjB;EAEAjH,WAAW,CAACS,OAAZ,CAAoB,UAAA3B,MAAM,EAAI;QAE1BI,EAF0B,GAMxBJ,MANwB,CAE1BI,EAF0B;QAG1BC,QAH0B,GAMxBL,MANwB,CAG1BK,QAH0B;QAIV+T,oBAJU,GAMxBpU,MANwB,CAI1BqU,cAJ0B;QAKVC,oBALU,GAMxBtU,MANwB,CAK1BiU,cAL0B;IAO5BjU,MAAM,CAACuU,SAAP,GAAmBrB,OAAO,CAAC1Q,QAAR,CAAiBpC,EAAjB,CAAnB;IACAJ,MAAM,CAACwU,YAAP,GAAsBtB,OAAO,CAACuB,OAAR,CAAgBrU,EAAhB,CAAtB;IAEAJ,MAAM,CAAC0U,UAAP,GAAoBrU,QAAQ,GACxBmE,eAAe,CACb8P,oBAAoB,KAAK,IAAzB,GAAgC,KAAhC,GAAwC9I,SAD3B,EAEbyI,cAAc,KAAK,IAAnB,GAA0B,KAA1B,GAAkCzI,SAFrB,EAGb,IAHa,CADS,GAMxBhH,eAAe,CAAC4P,oBAAD,EAAuBJ,iBAAvB,EAA0C,KAA1C,CANnB;;QAQIhU,MAAM,CAAC0U,UAAX,EAAuB;MACrB1U,MAAM,CAACiT,aAAP,GAAuB;eAAMA,aAAa,CAACjT,MAAM,CAACI,EAAR,CAAnB;OAAvB;;;IAGFJ,MAAM,CAAC2U,UAAP,GAAoB3U,MAAM,CAAC2U,UAAP,IAAqB3U,MAAM,CAAC3B,IAAhD;GAtBF;;MAyBM4U,aAAa,GAAG,SAAhBA,aAAgB,CAACrO,QAAD,EAAWuO,MAAX,EAAsB;IAC1CtH,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAACiJ,aAAhB;MAA+BrO,QAAQ,EAARA,QAA/B;MAAyCuO,MAAM,EAANA;KAA1C,CAAR;GADF;;EAIA/L,KAAK,CAACwN,qBAAN,GAA8B,EAA9B,CAjDyB;;MAoDnBjJ,WAAW,GAAGvM,KAAK,CAACwM,MAAN,EAApB;EACAD,WAAW,CAACM,OAAZ,GAAsBpJ,QAAtB;EAEA6K,WAAW,CAAC/L,OAAZ,CAAoB,UAAAgB,MAAM,EAAI;QACpB+R,UADoB,GACL/R,MADK,CACpB+R,UADoB;;IAE5B/R,MAAM,CAACiS,qBAAP,GAA+B,UAAAvO,KAAK,EAAI;aAC/BS,UAAU,CACf;QACE0I,OAAO,EAAEkF,UAAU,GACf,UAAA9Q,CAAC,EAAI;UACHA,CAAC,CAAC6L,OAAF;UACA9M,MAAM,CAACsQ,aAAP;SAHa,GAKfzH,SANN;QAOEnG,KAAK,EAAE;UACL3B,MAAM,EAAEgR,UAAU,GAAG,SAAH,GAAelJ;SARrC;QAUEkE,KAAK,EAAE;OAXM,EAaflI,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BwN,qBADd,EAEZjS,MAFY,EAGZgJ,WAAW,CAACM,OAHA,CAbC,EAkBf5F,KAlBe,CAAjB;KADF;GAFF;EA0BAe,KAAK,CAACmF,UAAN,CAAiBnK,IAAjB,CAAsB,UAAA3B,GAAG,EAAI;IAC3BA,GAAG,CAAC8M,KAAJ,CAAU5L,OAAV,CAAkB,UAAArD,IAAI,EAAI;;MAExBA,IAAI,CAACiW,SAAL,GAAiBjW,IAAI,CAAC0B,MAAL,CAAYuU,SAAZ,IAAyBjW,IAAI,CAAC0B,MAAL,CAAYI,EAAZ,KAAmBK,GAAG,CAACoU,SAAjE,CAFwB;;MAIxBvW,IAAI,CAACwW,eAAL,GAAuB,CAACxW,IAAI,CAACiW,SAAN,IAAmBjW,IAAI,CAAC0B,MAAL,CAAYuU,SAAtD,CAJwB;;MAMxBjW,IAAI,CAACyW,YAAL,GACE,CAACzW,IAAI,CAACiW,SAAN,IAAmB,CAACjW,IAAI,CAACwW,eAAzB,IAA4CrU,GAAG,CAAC8I,SADlD;KANF;WASO9I,GAAP;GAVF;;uBAauCrB,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACrD+G,aAAa,IAAI,CAACb,OAAO,CAACrR,MAA9B,EAAsC;aAC7B,CAAC8C,IAAD,EAAOuI,QAAP,CAAP;;;QAGEjO,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoL,IAAR,CAAa,gBAAb,EANuD;;;QAUnDiJ,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACrQ,IAAD,EAAOoQ,YAAP,EAAwB;UAC9CjQ,MAAM,GAAG,EAAf;MAEA5D,WAAW,CAACS,OAAZ,CAAoB,UAAA3B,MAAM,EAAI;;YAExBkT,OAAO,CAAC1Q,QAAR,CAAiBxC,MAAM,CAACI,EAAxB,CAAJ,EAAiC;UAC/B0E,MAAM,CAAC9E,MAAM,CAACI,EAAR,CAAN,GAAoBuE,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAJ,CAAQG,MAAR,CAAe9E,MAAM,CAACI,EAAtB,CAAV,GAAsC,IAA1D;;;;YAII6U,YAAY,GAAGtQ,IAAI,CAAC5D,GAAL,CAAS,UAAAmB,CAAC;iBAAIA,CAAC,CAAC4C,MAAF,CAAS9E,MAAM,CAACI,EAAhB,CAAJ;SAAV,CAArB;YAEI8U,UAAU,GAAGlV,MAAM,CAACmV,SAAxB;;YAEIpQ,KAAK,CAACC,OAAN,CAAckQ,UAAd,CAAJ,EAA+B;cACzBA,UAAU,CAACrT,MAAX,KAAsB,CAA1B,EAA6B;YAC3BlB,OAAO,CAACoL,IAAR,CAAa;cAAE/L,MAAM,EAANA;aAAf;kBACM,IAAIa,KAAJ,4GAAN;;;cAIEkU,YAAJ,EAAkB;YAChBG,UAAU,GAAGA,UAAU,CAAC,CAAD,CAAvB;WADF,MAEO;YACLA,UAAU,GAAGA,UAAU,CAAC,CAAD,CAAvB;;;;YAIAE,WAAW,GACb,OAAOF,UAAP,KAAsB,UAAtB,GACIA,UADJ,GAEIf,gBAAgB,CAACe,UAAD,CAAhB,IAAgChB,YAAY,CAACgB,UAAD,CAHlD;;YAKIE,WAAJ,EAAiB;UACftQ,MAAM,CAAC9E,MAAM,CAACI,EAAR,CAAN,GAAoBgV,WAAW,CAACH,YAAD,EAAetQ,IAAf,EAAqBoQ,YAArB,CAA/B;SADF,MAEO,IAAIG,UAAJ,EAAgB;UACrBvU,OAAO,CAACoL,IAAR,CAAa;YAAE/L,MAAM,EAANA;WAAf;gBACM,IAAIa,KAAJ,iEAAN;SAFK,MAKA;UACLiE,MAAM,CAAC9E,MAAM,CAACI,EAAR,CAAN,GAAoB,IAApB;;OAtCJ;aAyCO0E,MAAP;KA5CF;;QA+CIuQ,eAAe,GAAG,EAAtB,CAzDyD;;QA4DnDC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC3Q,IAAD,EAAsC;UAA/BlF,KAA+B,uEAAvB,CAAuB;UAApB4N,UAAoB,uEAAP,EAAO;;;UAEzD5N,KAAK,IAAIyT,OAAO,CAACrR,MAArB,EAA6B;QAC3B8C,IAAI,CAAChD,OAAL,CAAa,UAAAlB,GAAG,EAAI;UAClBA,GAAG,CAAC4C,IAAJ,gCAAegK,UAAf,sBAA8B5M,GAAG,CAAC4C,IAAlC;SADF;QAGAgS,eAAe,GAAGA,eAAe,CAACE,MAAhB,CAAuB5Q,IAAvB,CAAlB;eACOA,IAAP;;;UAGIC,QAAQ,GAAGsO,OAAO,CAACzT,KAAD,CAAxB,CAV6D;;UAazD+V,WAAW,GAAG1B,SAAS,CAACnP,IAAD,EAAOC,QAAP,CAA3B,CAb6D;;MAgB7D4Q,WAAW,GAAG9O,MAAM,CAAC4L,OAAP,CAAekD,WAAf,EAA4BzU,GAA5B,CACZ,iBAAwBZ,KAAxB,EAAkC;;YAAhCsV,UAAgC;YAApBjM,OAAoB;;YAC1BnG,IAAI,gCAAOgK,UAAP,cAAsBzI,QAAtB,cAAkC6Q,UAAlC,GAAV;QAEAjM,OAAO,GAAG8L,gBAAgB,CAAC9L,OAAD,EAAU/J,KAAK,GAAG,CAAlB,EAAqB4D,IAArB,CAA1B;YAEMyB,MAAM,GAAGkQ,qBAAqB,CAACxL,OAAD,EAAU/J,KAAK,GAAGyT,OAAO,CAACrR,MAA1B,CAApC;YAEMpB,GAAG,GAAG;UACVsU,YAAY,EAAE,IADJ;UAEVF,SAAS,EAAEjQ,QAFD;UAGV6Q,UAAU,EAAVA,UAHU;UAIV3Q,MAAM,EAANA,MAJU;UAKV0E,OAAO,EAAPA,OALU;UAMV/J,KAAK,EAALA,KANU;UAOVU,KAAK,EAALA,KAPU;UAQVkD,IAAI,EAAJA;SARF;QAWAgS,eAAe,CAACjT,IAAhB,CAAqB3B,GAArB;eAEOA,GAAP;OArBU,CAAd;aAyBO+U,WAAP;KAzCF;;QA4CMA,WAAW,GAAGF,gBAAgB,CAAC3Q,IAAD,CAApC,CAxGyD;;WA2GlD,CAAC6Q,WAAD,EAAcH,eAAd,CAAP;GA3GqC,EA4GpC,CACDtB,aADC,EAEDb,OAFC,EAGD/H,KAHC,EAIDxG,IAJC,EAKDuI,QALC,EAMDhM,WANC,EAODiT,gBAPC,EAQDL,SARC,CA5GoC,CA9Fd;;MA8FlB0B,WA9FkB;MA8FLH,eA9FK;;4BAsNpBxS,QADL;IAEEoQ,aAAa,EAAbA,aAFF;IAGEtO,IAAI,EAAE6Q,WAHR;IAIEtI,QAAQ,EAAEmI,eAJZ;IAKEK,cAAc,EAAE/Q;;;;AC/SpB,IAAMgR,mBAAmB,GAAG,YAA5B;;;;AAKA,AAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAC1R,IAAD,EAAOC,IAAP,EAAaS,QAAb,EAA0B;MAChDkD,CAAC,GAAG+N,qBAAqB,CAAC3R,IAAD,EAAOU,QAAP,CAA7B;MACIkR,CAAC,GAAGD,qBAAqB,CAAC1R,IAAD,EAAOS,QAAP,CAA7B,CAFoD;;EAIpDkD,CAAC,GAAGiO,QAAQ,CAACjO,CAAD,CAAZ;EACAgO,CAAC,GAAGC,QAAQ,CAACD,CAAD,CAAZ,CALoD;;;EASpDhO,CAAC,GAAGA,CAAC,CAACtH,KAAF,CAAQmV,mBAAR,EAA6B1T,MAA7B,CAAoCiF,OAApC,CAAJ;EACA4O,CAAC,GAAGA,CAAC,CAACtV,KAAF,CAAQmV,mBAAR,EAA6B1T,MAA7B,CAAoCiF,OAApC,CAAJ,CAVoD;;SAa7CY,CAAC,CAACjG,MAAF,IAAYiU,CAAC,CAACjU,MAArB,EAA6B;QACvBmU,EAAE,GAAGlO,CAAC,CAACmO,KAAF,EAAT;QACIC,EAAE,GAAGJ,CAAC,CAACG,KAAF,EAAT;QAEME,EAAE,GAAG1Q,QAAQ,CAACuQ,EAAD,EAAK,EAAL,CAAnB;QACMI,EAAE,GAAG3Q,QAAQ,CAACyQ,EAAD,EAAK,EAAL,CAAnB;QAEMG,KAAK,GAAG,CAACF,EAAD,EAAKC,EAAL,EAASnS,IAAT,EAAd,CAP2B;;QAUvBqS,KAAK,CAACD,KAAK,CAAC,CAAD,CAAN,CAAT,EAAqB;UACfL,EAAE,GAAGE,EAAT,EAAa;eACJ,CAAP;;;UAEEA,EAAE,GAAGF,EAAT,EAAa;eACJ,CAAC,CAAR;;;;KAfuB;;;QAqBvBM,KAAK,CAACD,KAAK,CAAC,CAAD,CAAN,CAAT,EAAqB;aACZC,KAAK,CAACH,EAAD,CAAL,GAAY,CAAC,CAAb,GAAiB,CAAxB;KAtByB;;;QA0BvBA,EAAE,GAAGC,EAAT,EAAa;aACJ,CAAP;;;QAEEA,EAAE,GAAGD,EAAT,EAAa;aACJ,CAAC,CAAR;;;;SAIGrO,CAAC,CAACjG,MAAF,GAAWiU,CAAC,CAACjU,MAApB;CA/CK;AAkDP,AAAO,SAAS0U,QAAT,CAAkBrS,IAAlB,EAAwBC,IAAxB,EAA8BS,QAA9B,EAAwC;MACzCkD,CAAC,GAAG+N,qBAAqB,CAAC3R,IAAD,EAAOU,QAAP,CAA7B;MACIkR,CAAC,GAAGD,qBAAqB,CAAC1R,IAAD,EAAOS,QAAP,CAA7B;EAEAkD,CAAC,GAAGA,CAAC,CAAC0O,OAAF,EAAJ;EACAV,CAAC,GAAGA,CAAC,CAACU,OAAF,EAAJ;SAEOC,YAAY,CAAC3O,CAAD,EAAIgO,CAAJ,CAAnB;;AAGF,AAAO,SAASY,KAAT,CAAexS,IAAf,EAAqBC,IAArB,EAA2BS,QAA3B,EAAqC;MACtCkD,CAAC,GAAG+N,qBAAqB,CAAC3R,IAAD,EAAOU,QAAP,CAA7B;MACIkR,CAAC,GAAGD,qBAAqB,CAAC1R,IAAD,EAAOS,QAAP,CAA7B;SAEO6R,YAAY,CAAC3O,CAAD,EAAIgO,CAAJ,CAAnB;;;AAKF,SAASW,YAAT,CAAsB3O,CAAtB,EAAyBgO,CAAzB,EAA4B;SACnBhO,CAAC,KAAKgO,CAAN,GAAU,CAAV,GAAchO,CAAC,GAAGgO,CAAJ,GAAQ,CAAR,GAAY,CAAC,CAAlC;;;AAGF,SAASD,qBAAT,CAA+BpV,GAA/B,EAAoCmE,QAApC,EAA8C;SACrCnE,GAAG,CAACqE,MAAJ,CAAWF,QAAX,CAAP;;;AAGF,SAASmR,QAAT,CAAkBjO,CAAlB,EAAqB;MACf,OAAOA,CAAP,KAAa,QAAjB,EAA2B;QACrBwO,KAAK,CAACxO,CAAD,CAAL,IAAYA,CAAC,KAAK4I,QAAlB,IAA8B5I,CAAC,KAAK,CAAC4I,QAAzC,EAAmD;aAC1C,EAAP;;;WAEKlS,MAAM,CAACsJ,CAAD,CAAb;;;MAEE,OAAOA,CAAP,KAAa,QAAjB,EAA2B;WAClBA,CAAP;;;SAEK,EAAP;;;;;;;;;;AC/EF,IAAMO,YAAU,GAAG,WAAnB;;AAGA2B,OAAO,CAAC2M,WAAR,GAAsB,aAAtB;AACA3M,OAAO,CAAC4M,YAAR,GAAuB,cAAvB;AACA5M,OAAO,CAAC6M,WAAR,GAAsB,aAAtB;;AAGA3M,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9B6M,MAAM,EAAE;OACLxM,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC2M,WAA5B,EAAyC;8BAElCrM,KADL;MAEEwM,MAAM,EAAE;;;;MAIRvM,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC6M,WAA5B,EAAyC;QAC/BC,MAD+B,GACpBxM,KADoB,CAC/BwM,MAD+B;QAEjCC,SAAS,GAAGD,MAAM,CAAC7U,MAAP,CAAc,UAAAC,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASmK,MAAM,CAACyM,QAApB;KAAf,CAAlB;8BAGK1M,KADL;MAEEwM,MAAM,EAAEC;;;;MAIRxM,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC4M,YAA5B,EAA0C;QAEtChS,QAFsC,GAcpC2F,MAdoC,CAEtC3F,QAFsC;QAGtCN,IAHsC,GAcpCiG,MAdoC,CAGtCjG,IAHsC;QAItC2S,KAJsC,GAcpC1M,MAdoC,CAItC0M,KAJsC;gCAcpC1M,MAdoC,CAKtCoB,WALsC,CAMpCM,OANoC;QAOlC/K,WAPkC,yBAOlCA,WAPkC;QAQlCgW,gBARkC,yBAQlCA,gBARkC;QASlCC,iBATkC,yBASlCA,iBATkC;QAUlCC,kBAVkC,yBAUlCA,kBAVkC;uDAWlCC,oBAXkC;QAWlCA,oBAXkC,uCAWXxY,MAAM,CAACC,gBAXI;QAehCgY,OAfgC,GAerBxM,KAfqB,CAehCwM,MAfgC;;QAkBlC9W,MAAM,GAAGkB,WAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;KAAlB,CAAf;QACQ0S,aAnBgC,GAmBdtX,MAnBc,CAmBhCsX,aAnBgC;;QAsBlCC,cAAc,GAAGT,OAAM,CAAC7F,IAAP,CAAY,UAAA/O,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;KAAb,CAAvB;;QACM4S,aAAa,GAAGV,OAAM,CAACtO,SAAP,CAAiB,UAAAtG,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;KAAlB,CAAtB;;QACM6S,cAAc,GAAG,OAAOnT,IAAP,KAAgB,WAAhB,IAA+BA,IAAI,KAAK,IAA/D;QAEIyS,UAAS,GAAG,EAAhB,CA1BwC;;QA6BpCW,UAAJ;;QAEI,CAACR,gBAAD,IAAqBD,KAAzB,EAAgC;UAC1BM,cAAJ,EAAoB;QAClBG,UAAU,GAAG,QAAb;OADF,MAEO;QACLA,UAAU,GAAG,KAAb;;KAJJ,MAMO;;UAEDF,aAAa,KAAKV,OAAM,CAACjV,MAAP,GAAgB,CAAtC,EAAyC;QACvC6V,UAAU,GAAG,SAAb;OADF,MAEO,IAAIH,cAAJ,EAAoB;QACzBG,UAAU,GAAG,QAAb;OADK,MAEA;QACLA,UAAU,GAAG,SAAb;;KA5CoC;;;QAkDtCA,UAAU,KAAK,QAAf;KACCP,iBADD;KAECM,cAFD;IAGCR,KAAK,GAAG,CAACG,kBAAJ,GAAyB,IAH/B;IAIEG,cAAc;IACdA,cAAc,CAACjT,IADf,IAEA,CAACgT,aAFF,IAGE,CAACC,cAAc,CAACjT,IAAhB,IAAwBgT,aAP3B,CADF,EASE;MACAI,UAAU,GAAG,QAAb;;;QAGEA,UAAU,KAAK,SAAnB,EAA8B;MAC5BX,UAAS,GAAG,CACV;QACE3W,EAAE,EAAEwE,QADN;QAEEN,IAAI,EAAEmT,cAAc,GAAGnT,IAAH,GAAUgT;OAHtB,CAAZ;KADF,MAOO,IAAII,UAAU,KAAK,KAAnB,EAA0B;MAC/BX,UAAS,gCACJD,OADI,IAEP;QACE1W,EAAE,EAAEwE,QADN;QAEEN,IAAI,EAAEmT,cAAc,GAAGnT,IAAH,GAAUgT;OAJzB,EAAT,CAD+B;;MAS/BP,UAAS,CAACY,MAAV,CAAiB,CAAjB,EAAoBZ,UAAS,CAAClV,MAAV,GAAmBwV,oBAAvC;KATK,MAUA,IAAIK,UAAU,KAAK,QAAnB,EAA6B;;MAElCX,UAAS,GAAGD,OAAM,CAAC/V,GAAP,CAAW,UAAAmB,CAAC,EAAI;YACtBA,CAAC,CAAC9B,EAAF,KAASwE,QAAb,EAAuB;oCAEhB1C,CADL;YAEEoC,IAAI,EAAEmT,cAAc,GAAGnT,IAAH,GAAU,CAACiT,cAAc,CAACjT;;;;eAG3CpC,CAAP;OAPU,CAAZ;KAFK,MAWA,IAAIwV,UAAU,KAAK,QAAnB,EAA6B;MAClCX,UAAS,GAAGD,OAAM,CAAC7U,MAAP,CAAc,UAAAC,CAAC;eAAIA,CAAC,CAAC9B,EAAF,KAASwE,QAAb;OAAf,CAAZ;;;8BAIG0F,KADL;MAEEwM,MAAM,EAAEC;;;CAzHd;;AA8HA3Y,aAAa,CAACwZ,QAAd,GAAyB,cAAzB;AACAxZ,aAAa,CAACkZ,aAAd,GAA8B,KAA9B;AAEA,IAAaO,SAAS,GAAG,SAAZA,SAAY,CAAAzQ,KAAK,EAAI;EAChCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIPwL,SAAS,CAACxP,UAAV,GAAuBA,YAAvB;;AAEA,SAASgE,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBsI,KAFuB,GAiBrBtI,QAjBqB,CAEvBsI,KAFuB;MAGvBxG,IAHuB,GAiBrB9B,QAjBqB,CAGvB8B,IAHuB;MAIvBzD,WAJuB,GAiBrB2B,QAjBqB,CAIvB3B,WAJuB;4BAiBrB2B,QAjBqB,CAKvBiV,SALuB;MAKvBA,SALuB,oCAKXjU,gBALW;MAMZkU,aANY,GAiBrBlV,QAjBqB,CAMvBmV,SANuB;MAOvBC,aAPuB,GAiBrBpV,QAjBqB,CAOvBoV,aAPuB;MAQvBC,cARuB,GAiBrBrV,QAjBqB,CAQvBqV,cARuB;MASvBC,aATuB,GAiBrBtV,QAjBqB,CASvBsV,aATuB;8BAiBrBtV,QAjBqB,CAUvBuV,gBAVuB;MAUvBA,gBAVuB,sCAUJ,UAAAxU,CAAC;WAAIA,CAAC,CAACyU,QAAN;GAVG;MAWvB3K,WAXuB,GAiBrB7K,QAjBqB,CAWvB6K,WAXuB;MAYvBtG,KAZuB,GAiBrBvE,QAjBqB,CAYvBuE,KAZuB;MAad0P,MAbc,GAiBrBjU,QAjBqB,CAavByH,KAbuB,CAadwM,MAbc;MAcvBjL,QAduB,GAiBrBhJ,QAjBqB,CAcvBgJ,QAduB;MAevB1D,OAfuB,GAiBrBtF,QAjBqB,CAevBsF,OAfuB;8BAiBrBtF,QAjBqB,CAgBvByV,kBAhBuB;MAgBvBA,kBAhBuB,sCAgBF,KAhBE;EAmBzBpQ,iBAAiB,CAACC,OAAD,EAAU,CAAC,YAAD,CAAV,EAA0B,WAA1B,EAAuC,EAAvC,CAAjB,CAnByB;;EAqBzBf,KAAK,CAACmR,oBAAN,GAA6B,EAA7B,CArByB;;MAwBnBjJ,YAAY,GAAGlQ,KAAK,CAACwM,MAAN,EAArB;EACA7M,mBAAmB,CAAC,YAAM;QACpBuQ,YAAY,CAACrD,OAAjB,EAA0B;MACxBJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAAC2M;OAAjB,CAAR;;;IAEFrH,YAAY,CAACrD,OAAb,GAAuB,IAAvB;GAJiB,GAKfJ,QALe,4BAKDyM,kBAAkB,GAAGA,kBAAkB,CAACzV,QAAD,CAArB,GAAkC,EALnD,GAAnB,CAzByB;;MAiCnB+T,YAAY,GAAG,SAAfA,YAAe,CAAChS,QAAD,EAAWN,IAAX,EAAiB2S,KAAjB,EAA2B;IAC9CpL,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAAC4M,YAAhB;MAA8BhS,QAAQ,EAARA,QAA9B;MAAwCN,IAAI,EAAJA,IAAxC;MAA8C2S,KAAK,EAALA;KAA/C,CAAR;GADF,CAjCyB;;;MAsCnBtL,WAAW,GAAGvM,KAAK,CAACwM,MAAN,EAApB;EACAD,WAAW,CAACM,OAAZ,GAAsBpJ,QAAtB,CAvCyB;;EA0CzB6K,WAAW,CAAC/L,OAAZ,CAAoB,UAAA3B,MAAM,EAAI;QAE1BK,QAF0B,GAMxBL,MANwB,CAE1BK,QAF0B;QAGjBmY,oBAHiB,GAMxBxY,MANwB,CAG1ByY,OAH0B;QAIXC,mBAJW,GAMxB1Y,MANwB,CAI1BmY,aAJ0B;QAK1B/X,EAL0B,GAMxBJ,MANwB,CAK1BI,EAL0B;QAQtBqY,OAAO,GAAGpY,QAAQ,GACpBmE,eAAe,CACbkU,mBAAmB,KAAK,IAAxB,GAA+B,KAA/B,GAAuClN,SAD1B,EAEb2M,aAAa,KAAK,IAAlB,GAAyB,KAAzB,GAAiC3M,SAFpB,EAGb,IAHa,CADK,GAMpBhH,eAAe,CAAC0T,cAAD,EAAiBM,oBAAjB,EAAuC,KAAvC,CANnB;IAQAxY,MAAM,CAACyY,OAAP,GAAiBA,OAAjB;;QAEIzY,MAAM,CAACyY,OAAX,EAAoB;MAClBzY,MAAM,CAAC4W,YAAP,GAAsB,UAACtS,IAAD,EAAO2S,KAAP;eACpBL,YAAY,CAAC5W,MAAM,CAACI,EAAR,EAAYkE,IAAZ,EAAkB2S,KAAlB,CADQ;OAAtB;;MAGAjX,MAAM,CAAC6W,WAAP,GAAqB,YAAM;QACzBhL,QAAQ,CAAC;UAAEJ,IAAI,EAAEzB,OAAO,CAAC6M,WAAhB;UAA6BjS,QAAQ,EAAE5E,MAAM,CAACI;SAA/C,CAAR;OADF;;;IAKFJ,MAAM,CAACuY,oBAAP,GAA8B,UAAAlS,KAAK,EAAI;aAC9BS,UAAU,CACf;QACE0I,OAAO,EAAEiJ,OAAO,GACZ,UAAA7U,CAAC,EAAI;UACHA,CAAC,CAAC6L,OAAF;UACAzP,MAAM,CAAC4W,YAAP,CACEpL,SADF,EAEE,CAACG,WAAW,CAACM,OAAZ,CAAoBiL,gBAArB,IAAyCkB,gBAAgB,CAACxU,CAAD,CAF3D;SAHU,GAQZ4H,SATN;QAUEnG,KAAK,EAAE;UACL3B,MAAM,EAAE+U,OAAO,GAAG,SAAH,GAAejN;SAXlC;QAaEkE,KAAK,EAAE;OAdM,EAgBflI,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BmR,oBADd,EAEZvY,MAFY,EAGZ2L,WAAW,CAACM,OAHA,CAhBC,EAqBf5F,KArBe,CAAjB;KADF;;QA0BMsS,UAAU,GAAG7B,MAAM,CAAC7F,IAAP,CAAY,UAAA/O,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASA,EAAb;KAAb,CAAnB;IACAJ,MAAM,CAAC4Y,QAAP,GAAkB,CAAC,CAACD,UAApB;IACA3Y,MAAM,CAAC6Y,WAAP,GAAqB/B,MAAM,CAACtO,SAAP,CAAiB,UAAAtG,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASA,EAAb;KAAlB,CAArB;IACAJ,MAAM,CAAC8Y,YAAP,GAAsB9Y,MAAM,CAAC4Y,QAAP,GAAkBD,UAAU,CAACrU,IAA7B,GAAoCkH,SAA1D;GAxDF;MA2DMuN,UAAU,GAAG3Z,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACjCiL,aAAa,IAAI,CAACnB,MAAM,CAACjV,MAA7B,EAAqC;aAC5B8C,IAAP;;;QAEE1F,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACmM,IAAR,CAAa,eAAb,EALmC;;QAQ/BkM,eAAe,GAAGlC,MAAM,CAAC7U,MAAP,CAAc,UAAAgC,IAAI;aACxC/C,WAAW,CAAC+P,IAAZ,CAAiB,UAAAvP,GAAG;eAAIA,GAAG,CAACtB,EAAJ,KAAW6D,IAAI,CAAC7D,EAApB;OAApB,CADwC;KAAlB,CAAxB;;QAIM6Y,QAAQ,GAAG,SAAXA,QAAW,CAAAtU,IAAI,EAAI;;;;UAIjBuU,UAAU,GAAGpB,SAAS,CAC1BnT,IAD0B,EAE1BqU,eAAe,CAACjY,GAAhB,CAAoB,UAAAkD,IAAI,EAAI;;YAEpBjE,MAAM,GAAGkB,WAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;iBAAIA,CAAC,CAAC9B,EAAF,KAAS6D,IAAI,CAAC7D,EAAlB;SAAlB,CAAf;;YAEI,CAACJ,MAAL,EAAa;gBACL,IAAIa,KAAJ,yDAC6CoD,IAAI,CAAC7D,EADlD,oBAAN;;;YAKMwX,QAVkB,GAUL5X,MAVK,CAUlB4X,QAVkB;;;;;;;;YAmBpBuB,UAAU,GACdtR,UAAU,CAAC+P,QAAD,CAAV,IACA,CAACG,aAAa,IAAI,EAAlB,EAAsBH,QAAtB,CADA,IAEAI,SAAS,CAACJ,QAAD,CAHX;;YAKI,CAACuB,UAAL,EAAiB;gBACT,IAAItY,KAAJ,4DACgD+W,QADhD,2BACyE3T,IAAI,CAAC7D,EAD9E,QAAN;SAzBwB;;;;eAgCnB,UAAC0H,CAAD,EAAIgO,CAAJ;iBAAUqD,UAAU,CAACrR,CAAD,EAAIgO,CAAJ,EAAO7R,IAAI,CAAC7D,EAAZ,CAApB;SAAP;OAhCF,CAF0B;MAqC1B4Y,eAAe,CAACjY,GAAhB,CAAoB,UAAAkD,IAAI,EAAI;;YAEpBjE,MAAM,GAAGkB,WAAW,CAAC+P,IAAZ,CAAiB,UAAA/O,CAAC;iBAAIA,CAAC,CAAC9B,EAAF,KAAS6D,IAAI,CAAC7D,EAAlB;SAAlB,CAAf;;YAEIJ,MAAM,IAAIA,MAAM,CAACoZ,YAArB,EAAmC;iBAC1BnV,IAAI,CAACK,IAAZ;;;eAGK,CAACL,IAAI,CAACK,IAAb;OARF,CArC0B,CAA5B,CAJuB;;MAsDvB4U,UAAU,CAACvX,OAAX,CAAmB,UAAAlB,GAAG,EAAI;YACpB,CAACA,GAAG,CAAC+I,OAAL,IAAgB/I,GAAG,CAAC+I,OAAJ,CAAY3H,MAAZ,IAAsB,CAA1C,EAA6C;;;;QAG7CpB,GAAG,CAAC+I,OAAJ,GAAcyP,QAAQ,CAACxY,GAAG,CAAC+I,OAAL,CAAtB;OAJF;aAOO0P,UAAP;KA7DF;;QAgEIja,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoM,OAAR,CAAgB,eAAhB;WAEKkM,QAAQ,CAACtU,IAAD,CAAf;GA/EiB,EAgFhB,CACDsT,aADC,EAEDnB,MAFC,EAGD3L,KAHC,EAIDxG,IAJC,EAKDzD,WALC,EAMD4W,SANC,EAODC,aAPC,CAhFgB,CAAnB;4BA2FKlV,QADL;IAEE+T,YAAY,EAAZA,YAFF;IAGEjS,IAAI,EAAEoU,UAHR;IAIEM,aAAa,EAAE1U;;;;ACnVnB,IAAM0D,YAAU,GAAG,eAAnB;;AAGA2B,OAAO,CAACsP,SAAR,GAAoB,WAApB;AACAtP,OAAO,CAACuP,QAAR,GAAmB,UAAnB;AACAvP,OAAO,CAACwP,WAAR,GAAsB,aAAtB;;AAGAtP,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9BwP,QAAQ,EAAE,EADZ;MAEEC,SAAS,EAAE;OACRpP,KAHL;;;MAOEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACsP,SAA5B,EAAuC;8BAEhChP,KADL;MAEEoP,SAAS,EAAE;;;;MAIXnP,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACuP,QAA5B,EAAsC;QAC5BI,SAD4B,GACdpP,MAAM,CAACoB,WAAP,CAAmBM,OADL,CAC5B0N,SAD4B;QAE9BC,YAAY,GAAGnQ,gBAAgB,CAACc,MAAM,CAACmP,SAAR,EAAmBpP,KAAK,CAACoP,SAAzB,CAArC;;QAEIE,YAAY,GAAG,CAAf,IAAoBA,YAAY,GAAGD,SAAS,GAAG,CAAnD,EAAsD;aAC7CrP,KAAP;;;8BAGGA,KADL;MAEEoP,SAAS,EAAEE;;;;MAIXrP,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACwP,WAA5B,EAAyC;QAC/BC,QAD+B,GAClBlP,MADkB,CAC/BkP,QAD+B;QAEjCI,WAAW,GAAGvP,KAAK,CAACmP,QAAN,GAAiBnP,KAAK,CAACoP,SAA3C;QACMA,SAAS,GAAG7Z,IAAI,CAACia,KAAL,CAAWD,WAAW,GAAGJ,QAAzB,CAAlB;8BAGKnP,KADL;MAEEoP,SAAS,EAATA,SAFF;MAGED,QAAQ,EAARA;;;CArCN;;AA0CA,IAAaM,aAAa,GAAG,SAAhBA,aAAgB,CAAA3S,KAAK,EAAI;EACpCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIP0N,aAAa,CAAC1R,UAAd,GAA2BA,YAA3B;;AAEA,IAAM2R,uBAAuB,GAAG,SAA1BA,uBAA0B;MAC9BpP,IAD8B,QAC9BA,IAD8B;MAE9BqP,gBAF8B,QAE9BA,gBAF8B;wBAG9B3P,KAH8B;MAGrByG,OAHqB,cAGrBA,OAHqB;MAGZmC,OAHY,cAGZA,OAHY;MAGH4D,MAHG,cAGHA,MAHG;SAI1B,CAACmD,gBAAgB,GAAG,IAAH,GAAUrP,IAA3B,EAAiCmG,OAAjC,EAA0CmC,OAA1C,EAAmD4D,MAAnD,CAJ0B;CAAhC;;AAMA,SAASzK,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvB8B,IAFuB,GAarB9B,QAbqB,CAEvB8B,IAFuB;MAGvBsV,gBAHuB,GAarBpX,QAbqB,CAGvBoX,gBAHuB;8BAarBpX,QAbqB,CAIvBqX,gBAJuB;MAIvBA,gBAJuB,sCAIJF,uBAJI;8BAarBnX,QAbqB,CAKvBkG,iBALuB;MAKvBA,iBALuB,sCAKH,UALG;MAMvBoC,KANuB,GAarBtI,QAbqB,CAMvBsI,KANuB;MAOvBhD,OAPuB,GAarBtF,QAbqB,CAOvBsF,OAPuB;MAQZgS,aARY,GAarBtX,QAbqB,CAQvB8W,SARuB;8BAarB9W,QAbqB,CASvBuM,oBATuB;MASvBA,oBATuB,sCASA,IATA;8BAarBvM,QAbqB,CAUvBoG,aAVuB;MAUvBA,aAVuB,sCAUP,IAVO;wBAarBpG,QAbqB,CAWvByH,KAXuB;MAWdmP,QAXc,mBAWdA,QAXc;MAWJC,SAXI,mBAWJA,SAXI;MAWO1Q,QAXP,mBAWOA,QAXP;MAYvB6C,QAZuB,GAarBhJ,QAbqB,CAYvBgJ,QAZuB;EAezB3D,iBAAiB,CACfC,OADe,EAEf,CAAC,YAAD,EAAe,YAAf,EAA6B,WAA7B,EAA0C,aAA1C,CAFe,EAGf,eAHe,EAIf,EAJe,CAAjB,CAfyB;;MAuBnBmH,YAAY,GAAGlQ,KAAK,CAACwM,MAAN,EAArB;EACA7M,mBAAmB,CAAC,YAAM;QACpBuQ,YAAY,CAACrD,OAAjB,EAA0B;MACxBJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAACsP;OAAjB,CAAR;;;IAEFhK,YAAY,CAACrD,OAAb,GAAuB,IAAvB;GAJiB,GAKfJ,QALe,4BAKDqO,gBAAgB,GAAGA,gBAAgB,CAACrX,QAAD,CAAnB,GAAgC,EAL/C,GAAnB;MAOM8W,SAAS,GAAGM,gBAAgB,GAC9BE,aAD8B,GAE9Bta,IAAI,CAACmG,IAAL,CAAUrB,IAAI,CAAC9C,MAAL,GAAc4X,QAAxB,CAFJ;MAIMW,WAAW,GAAGhb,KAAK,CAAC4N,OAAN,CAClB;WAAO2M,SAAS,GAAG,CAAZ,GAAgB,mBAAI,IAAI5U,KAAJ,CAAU4U,SAAV,CAAJ,EAA0B5Y,GAA1B,CAA8B,UAACmB,CAAD,EAAIkC,CAAJ;aAAUA,CAAV;KAA9B,CAAhB,GAA6D,EAApE;GADkB,EAElB,CAACuV,SAAD,CAFkB,CAApB;MAKMU,IAAI,GAAGjb,KAAK,CAAC4N,OAAN,CAAc,YAAM;QAC3BqN,IAAJ;;QAEIJ,gBAAJ,EAAsB;MACpBI,IAAI,GAAG1V,IAAP;KADF,MAEO;UACD1F,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCgM,KAA7C,EACExK,OAAO,CAACoL,IAAR,CAAa,SAAb;UAEIuO,SAAS,GAAGb,QAAQ,GAAGC,SAA7B;UACMa,OAAO,GAAGD,SAAS,GAAGb,QAA5B;MAEAY,IAAI,GAAG1V,IAAI,CAACiP,KAAL,CAAW0G,SAAX,EAAsBC,OAAtB,CAAP;;;QAGEnL,oBAAJ,EAA0B;aACjBiL,IAAP;;;WAGKvR,UAAU,CAACuR,IAAD,EAAO;MAAEtR,iBAAiB,EAAjBA,iBAAF;MAAqBC,QAAQ,EAARA,QAArB;MAA+BC,aAAa,EAAbA;KAAtC,CAAjB;GAnBW,EAoBV,CACDkC,KADC,EAEDlC,aAFC,EAGDD,QAHC,EAIDD,iBAJC,EAKDkR,gBALC,EAMDP,SANC,EAODD,QAPC,EAQDrK,oBARC,EASDzK,IATC,CApBU,CAAb;MAgCM6V,eAAe,GAAGd,SAAS,GAAG,CAApC;MACMe,WAAW,GAAGd,SAAS,KAAK,CAAC,CAAf,IAAoBD,SAAS,GAAGC,SAAS,GAAG,CAAhE;MAEMJ,QAAQ,GAAGna,KAAK,CAAC0M,WAAN,CACf,UAAA4N,SAAS,EAAI;IACX7N,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAACuP,QAAhB;MAA0BG,SAAS,EAATA;KAA3B,CAAR;GAFa,EAIf,CAAC7N,QAAD,CAJe,CAAjB;MAOM6O,YAAY,GAAGtb,KAAK,CAAC0M,WAAN,CAAkB,YAAM;WACpCyN,QAAQ,CAAC,UAAA5P,GAAG;aAAIA,GAAG,GAAG,CAAV;KAAJ,CAAf;GADmB,EAElB,CAAC4P,QAAD,CAFkB,CAArB;MAIMoB,QAAQ,GAAGvb,KAAK,CAAC0M,WAAN,CAAkB,YAAM;WAChCyN,QAAQ,CAAC,UAAA5P,GAAG;aAAIA,GAAG,GAAG,CAAV;KAAJ,CAAf;GADe,EAEd,CAAC4P,QAAD,CAFc,CAAjB;MAIMC,WAAW,GAAGpa,KAAK,CAAC0M,WAAN,CAClB,UAAA2N,QAAQ,EAAI;IACV5N,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAACwP,WAAhB;MAA6BC,QAAQ,EAARA;KAA9B,CAAR;GAFgB,EAIlB,CAAC5N,QAAD,CAJkB,CAApB;4BAQKhJ,QADL;IAEEuX,WAAW,EAAXA,WAFF;IAGET,SAAS,EAATA,SAHF;IAIEU,IAAI,EAAJA,IAJF;IAKEG,eAAe,EAAfA,eALF;IAMEC,WAAW,EAAXA,WANF;IAOElB,QAAQ,EAARA,QAPF;IAQEmB,YAAY,EAAZA,YARF;IASEC,QAAQ,EAARA,QATF;IAUEnB,WAAW,EAAXA,WAVF;IAWEE,SAAS,EAATA,SAXF;IAYED,QAAQ,EAARA;;;;AC7KJ,IAAMpR,YAAU,GAAG,cAAnB;;AAGA2B,OAAO,CAAC4Q,iBAAR,GAA4B,mBAA5B;AACA5Q,OAAO,CAAC6Q,oBAAR,GAA+B,sBAA/B;AACA7Q,OAAO,CAAC8Q,iBAAR,GAA4B,mBAA5B;;AAGA5Q,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9B8Q,gBAAgB,EAAE;OACfzQ,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC4Q,iBAA5B,EAA+C;8BAExCtQ,KADL;MAEEyQ,gBAAgB,EAAE;;;;MAIlBxQ,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC6Q,oBAA5B,EAAkD;QAE9CG,QAF8C,GAM5CzQ,MAN4C,CAE9CyQ,QAF8C;gCAM5CzQ,MAN4C,CAG9CoB,WAH8C,CAI5CM,OAJ4C;QAIjCgP,iBAJiC,yBAIjCA,iBAJiC;QAIdC,YAJc,yBAIdA,YAJc;QAQ1CC,SAAS,GACb,OAAOH,QAAP,KAAoB,WAApB,GAAkCA,QAAlC,GAA6C,CAACC,iBADhD;8BAIK3Q,KADL;MAEEyQ,gBAAgB,EAAEI,SAAS,GAAGD,YAAH,GAAkB;;;;MAI7C3Q,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC8Q,iBAA5B,EAA+C;QAE3CzX,IAF2C,GAOzCkH,MAPyC,CAE3ClH,IAF2C;QAG3C2X,SAH2C,GAOzCzQ,MAPyC,CAG3CyQ,QAH2C;QAK9BE,aAL8B,GAOzC3Q,MAPyC,CAI3CoB,WAJ2C,CAKzCM,OALyC,CAK9BiP,YAL8B;QASvC9R,GAAG,GAAG/F,IAAI,CAAChB,IAAL,CAAU,GAAV,CAAZ;QACM+Y,iBAAiB,GAAG,CAAChS,GAAD,EAAM,GAAN,EAAW/G,IAAX,CAAgB,EAAhB,CAA1B,CAV6C;;;;QAevCqM,MAAM,GAAGpE,KAAK,CAACyQ,gBAAN,CAAuBvY,QAAvB,CAAgC4G,GAAhC,CAAf;QACMuF,WAAW,GAAG,OAAOC,GAAP,KAAe,WAAf,GAA6BoM,SAA7B,GAAwC,CAACtM,MAA7D;QACI2M,eAAe,GAAG,IAAIvM,GAAJ,CAAQxE,KAAK,CAACyQ,gBAAd,CAAtB;;QAEI,CAACrM,MAAD,IAAWC,WAAf,EAA4B;MAC1BuM,aAAY,CAACvZ,OAAb,CAAqB,UAAA2Z,OAAO,EAAI;YAC1BA,OAAO,KAAKlS,GAAZ,IAAmBkS,OAAO,CAACC,UAAR,CAAmBH,iBAAnB,CAAvB,EAA8D;UAC5DC,eAAe,CAACtM,GAAhB,CAAoBuM,OAApB;;OAFJ;KADF,MAMO,IAAI5M,MAAM,IAAI,CAACC,WAAf,EAA4B;MACjCuM,aAAY,CAACvZ,OAAb,CAAqB,UAAA2Z,OAAO,EAAI;YAC1BA,OAAO,KAAKlS,GAAZ,IAAmBkS,OAAO,CAACC,UAAR,CAAmBH,iBAAnB,CAAvB,EAA8D;UAC5DC,eAAe,CAACrM,MAAhB,CAAuBsM,OAAvB;;OAFJ;KADK,MAMA;aACEhR,KAAP;;;QAGIkR,eAAe,GAAG,SAAlBA,eAAkB,CAACT,gBAAD,EAAmB1X,IAAnB,EAA4B;UAC5CgK,UAAU,GAAGhK,IAAI,CAACuQ,KAAL,CAAW,CAAX,EAAcvQ,IAAI,CAACxB,MAAL,GAAc,CAA5B,CAAnB;UACM4Z,SAAS,GAAGpO,UAAU,CAAChL,IAAX,CAAgB,GAAhB,CAAlB;UACM2Y,QAAQ,GACZE,aAAY,CAACjZ,MAAb,CAAoB,UAAAqZ,OAAO,EAAI;YACvBjY,IAAI,GAAGiY,OAAb;eAEEjY,IAAI,KAAKoY,SAAT,IACApY,IAAI,CAACkY,UAAL,CAAgBE,SAAhB,CADA,IAEA,CAACV,gBAAgB,CAACW,GAAjB,CAAqBrY,IAArB,CAHH;OAFF,EAOGxB,MAPH,KAOc,CARhB;;UASImZ,QAAJ,EAAc;QACZD,gBAAgB,CAAChM,GAAjB,CAAqB0M,SAArB;OADF,MAEO;QACLV,gBAAgB,CAAC/L,MAAjB,CAAwByM,SAAxB;;;UAEEpO,UAAU,CAACxL,MAAX,GAAoB,CAAxB,EAA2B2Z,eAAe,CAACT,gBAAD,EAAmB1N,UAAnB,CAAf;KAjB7B,CAnC6C;;;;QAyDzChK,IAAI,CAACxB,MAAL,GAAc,CAAlB,EAAqB2Z,eAAe,CAACH,eAAD,EAAkBhY,IAAlB,CAAf;8BAGhBiH,KADL;MAEEyQ,gBAAgB,qBAAMM,eAAe,CAACvW,MAAhB,EAAN;;;CA7FtB;;AAkGA,IAAa6W,YAAY,GAAG,SAAfA,YAAe,CAAAvU,KAAK,EAAI;EACnCA,KAAK,CAACwU,yBAAN,GAAkC,EAAlC;EACAxU,KAAK,CAACyU,6BAAN,GAAsC,EAAtC;EACAzU,KAAK,CAACkF,OAAN,CAAclK,IAAd,CAAmBkK,OAAnB;EACAlF,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CAJK;AAOPsP,YAAY,CAACtT,UAAb,GAA0BA,YAA1B;;AAEA,SAASiE,OAAT,CAAiB3H,IAAjB,EAAuB9B,QAAvB,EAAiC;MAEpBkY,gBAFoB,GAG3BlY,QAH2B,CAE7ByH,KAF6B,CAEpByQ,gBAFoB;EAK/BlY,QAAQ,CAACiZ,gBAAT,GAA4B1c,KAAK,CAAC4N,OAAN,CAAc,YAAM;QACxC8O,gBAAgB,GAAG,EAAzB;IAEAnX,IAAI,CAAChD,OAAL,CAAa,UAAAlB,GAAG,EAAI;MAClBA,GAAG,CAACsb,UAAJ,GAAiBC,gBAAgB,CAACvb,GAAD,EAAMsa,gBAAN,CAAjC;;UAEIta,GAAG,CAACsb,UAAR,EAAoB;QAClBD,gBAAgB,CAAC1Z,IAAjB,CAAsB3B,GAAtB;;KAJJ;WAQOqb,gBAAP;GAX0B,EAYzB,CAACnX,IAAD,EAAOoW,gBAAP,CAZyB,CAA5B;SAcOpW,IAAP;;;AAGF,IAAMsX,mCAAmC,GAAG,SAAtCA,mCAAsC;MAAGrR,IAAH,QAAGA,IAAH;SAAc,CAACA,IAAD,CAAd;CAA5C;;AAEA,SAASyB,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBuE,KAFuB,GASrBvE,QATqB,CAEvBuE,KAFuB;8BASrBvE,QATqB,CAGvBqZ,oBAHuB;MAGvBA,oBAHuB,sCAGA,YAHA;MAIvB/T,OAJuB,GASrBtF,QATqB,CAIvBsF,OAJuB;MAKvB+E,QALuB,GASrBrK,QATqB,CAKvBqK,QALuB;8BASrBrK,QATqB,CAMvBsZ,4BANuB;MAMvBA,4BANuB,sCAMQF,mCANR;MAOdlB,gBAPc,GASrBlY,QATqB,CAOvByH,KAPuB,CAOdyQ,gBAPc;MAQvBlP,QARuB,GASrBhJ,QATqB,CAQvBgJ,QARuB;EAWzB3D,iBAAiB,CACfC,OADe,EAEf,CAAC,YAAD,EAAe,YAAf,EAA6B,WAA7B,CAFe,EAGf,cAHe,EAIf,EAJe,CAAjB;MAOM+S,YAAY,GAAGhO,QAAQ,CAACnM,GAAT,CAAa,UAAAmB,CAAC;WAAIA,CAAC,CAACmB,IAAF,CAAOhB,IAAP,CAAY,GAAZ,CAAJ;GAAd,CAArB;MAEI4Y,iBAAiB,GAAG,CAAC,CAACC,YAAY,CAACrZ,MAAf,IAAyB,CAAC,CAACkZ,gBAAgB,CAAClZ,MAApE;;MAEIoZ,iBAAJ,EAAuB;QACjBC,YAAY,CAACzZ,IAAb,CAAkB,UAAAS,CAAC;aAAI,CAAC6Y,gBAAgB,CAACvY,QAAjB,CAA0BN,CAA1B,CAAL;KAAnB,CAAJ,EAA2D;MACzD+Y,iBAAiB,GAAG,KAApB;;GAxBqB;;;MA6BnB3L,YAAY,GAAGlQ,KAAK,CAACwM,MAAN,EAArB;EACA7M,mBAAmB,CAAC,YAAM;QACpBuQ,YAAY,CAACrD,OAAjB,EAA0B;MACxBJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAAC4Q;OAAjB,CAAR;;;IAEFtL,YAAY,CAACrD,OAAb,GAAuB,IAAvB;GAJiB,GAMjBJ,QANiB,4BAObsQ,4BAA4B,GAC5BA,4BAA4B,CAACtZ,QAAD,CADA,GAE5B,EATa,GAAnB;;MAYMgY,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAG,QAAQ;WACnCnP,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAAC6Q,oBAAhB;MAAsCG,QAAQ,EAARA;KAAvC,CAD2B;GAArC;;MAGMF,iBAAiB,GAAG,SAApBA,iBAAoB,CAACzX,IAAD,EAAO2X,QAAP;WACxBnP,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAAC8Q,iBAAhB;MAAmCzX,IAAI,EAAJA,IAAnC;MAAyC2X,QAAQ,EAARA;KAA1C,CADgB;GAA1B,CA7CyB;;;MAiDnBrP,WAAW,GAAGvM,KAAK,CAACwM,MAAN,EAApB;EACAD,WAAW,CAACM,OAAZ,GAAsBpJ,QAAtB;;MAEMgZ,6BAA6B,GAAG,SAAhCA,6BAAgC,CAAAxV,KAAK,EAAI;WACtCS,UAAU,CACf;MACEsV,QAAQ,EAAE,kBAAAxY,CAAC,EAAI;QACbiX,oBAAoB,CAACjX,CAAC,CAACyY,MAAF,CAASC,OAAV,CAApB;OAFJ;MAIEjX,KAAK,EAAE;QACL3B,MAAM,EAAE;OALZ;MAOE4Y,OAAO,EAAErB,iBAPX;MAQEvL,KAAK,EAAE;KATM,EAWflI,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0ByU,6BADd,EAEZlQ,WAAW,CAACM,OAFA,CAXC,EAef5F,KAfe,CAAjB;GADF;;EAoBAe,KAAK,CAACmF,UAAN,CAAiBnK,IAAjB,CAAsB,UAAA3B,GAAG,EAAI;IAC3BA,GAAG,CAACqa,iBAAJ,GAAwB,UAAAlM,GAAG;aAAIkM,iBAAiB,CAACra,GAAG,CAAC4C,IAAL,EAAWuL,GAAX,CAArB;KAA3B;;IACAnO,GAAG,CAACmb,yBAAJ,GAAgC,UAAAvV,KAAK,EAAI;UACnCiW,OAAO,GAAG,KAAd;;UAEI7b,GAAG,CAAC6I,QAAJ,IAAgB7I,GAAG,CAAC6I,QAAJ,CAAa4S,oBAAb,CAApB,EAAwD;QACtDI,OAAO,GAAG,IAAV;OADF,MAEO;QACLA,OAAO,GAAG7b,GAAG,CAACsb,UAAd;;;aAGKjV,UAAU,CACf;QACEsV,QAAQ,EAAE,kBAAAxY,CAAC,EAAI;UACbnD,GAAG,CAACqa,iBAAJ,CAAsBlX,CAAC,CAACyY,MAAF,CAASC,OAA/B;SAFJ;QAIEjX,KAAK,EAAE;UACL3B,MAAM,EAAE;SALZ;QAOE4Y,OAAO,EAAPA,OAPF;QAQE5M,KAAK,EAAE;OATM,EAWflI,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BwU,yBADd,EAEZnb,GAFY,EAGZkL,WAAW,CAACM,OAHA,CAXC,EAgBf5F,KAhBe,CAAjB;KATF;;WA6BO5F,GAAP;GA/BF;4BAmCKoC,QADL;IAEEqY,YAAY,EAAZA,YAFF;IAGEJ,iBAAiB,EAAjBA,iBAHF;IAIED,oBAAoB,EAApBA,oBAJF;IAKEgB,6BAA6B,EAA7BA,6BALF;IAMEZ,iBAAiB,EAAjBA;;;;AAIJ,SAASe,gBAAT,CAA0Bvb,GAA1B,EAA+Bsa,gBAA/B,EAAiD;MAC3Cta,GAAG,CAACsU,YAAR,EAAsB;WACbtU,GAAG,CAAC+I,OAAJ,CAAY8G,KAAZ,CAAkB,UAAAiM,MAAM;aAC7BP,gBAAgB,CAACO,MAAD,EAASxB,gBAAT,CADa;KAAxB,CAAP;;;SAKKA,gBAAgB,CAACvY,QAAjB,CAA0B/B,GAAG,CAAC4C,IAAJ,CAAShB,IAAT,CAAc,GAAd,CAA1B,CAAP;;;ACzQF,IAAMgG,YAAU,GAAG,aAAnB;;AAGA2B,OAAO,CAACwS,WAAR,GAAsB,aAAtB;AACAxS,OAAO,CAACyS,aAAR,GAAwB,eAAxB;;AAGAvS,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9ByS,QAAQ,EAAE;OACPpS,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACyS,aAA5B,EAA2C;8BAEpCnS,KADL;MAEEoS,QAAQ,EAAE;;;;MAIVnS,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACwS,WAA5B,EAAyC;QAC/BnZ,IAD+B,GACfkH,MADe,CAC/BlH,IAD+B;QACzB9E,KADyB,GACfgM,MADe,CACzBhM,KADyB;QAGjCoe,OAAO,GAAGtZ,IAAI,CAAChB,IAAL,CAAU,GAAV,CAAhB;8BAGKiI,KADL;MAEEoS,QAAQ,qBACHpS,KAAK,CAACoS,QADH,sBAELC,OAFK,EAEKlT,gBAAgB,CAAClL,KAAD,EAAQ+L,KAAK,CAACoS,QAAN,CAAeC,OAAf,CAAR,CAFrB;;;CAtBd;;AA8BA,IAAaC,WAAW,GAAG,SAAdA,WAAc,CAAAxV,KAAK,EAAI;EAClCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIPuQ,WAAW,CAACvU,UAAZ,GAAyBA,YAAzB;;AAEA,IAAMwU,2BAA2B,GAAG,SAA9BA,2BAA8B;MAAGjS,IAAH,QAAGA,IAAH;SAAc,CAACA,IAAD,CAAd;CAApC;;AAEA,SAASyB,SAAT,CAAiBxJ,QAAjB,EAA2B;MAEvBuE,KAFuB,GAOrBvE,QAPqB,CAEvBuE,KAFuB;MAGvB0V,uBAHuB,GAOrBja,QAPqB,CAGvBia,uBAHuB;8BAOrBja,QAPqB,CAIvBka,oBAJuB;MAIvBA,oBAJuB,sCAIAF,2BAJA;MAKdH,QALc,GAOrB7Z,QAPqB,CAKvByH,KALuB,CAKdoS,QALc;MAMvB7Q,QANuB,GAOrBhJ,QAPqB,CAMvBgJ,QANuB;MASnB2Q,WAAW,GAAGpd,KAAK,CAAC0M,WAAN,CAClB,UAACzI,IAAD,EAAO9E,KAAP,EAAcqG,QAAd;WACEiH,QAAQ,CAAC;MACPJ,IAAI,EAAEzB,OAAO,CAACwS,WADP;MAEPnZ,IAAI,EAAJA,IAFO;MAGP9E,KAAK,EAALA,KAHO;MAIPqG,QAAQ,EAARA;KAJM,CADV;GADkB,EAQlB,CAACiH,QAAD,CARkB,CAApB;MAWMmR,YAAY,GAAG5d,KAAK,CAAC0M,WAAN,CACnB,UAACwP,OAAD,EAAU1W,QAAV,EAAoB8E,OAApB,EAAgC;WACvB8S,WAAW,CAChBlB,OADgB,EAEhB,UAAA3R,GAAG,EAAI;gCAEAA,GADL;QAEEsT,SAAS,qBACJtT,GAAG,CAACsT,SADA,sBAENrY,QAFM,EAGL,OAAO8E,OAAP,KAAmB,UAAnB,GACIA,OAAO,CAACC,GAAG,CAACsT,SAAJ,CAAcrY,QAAd,CAAD,CADX,GAEI8E,OALC;;KALG,EAchB9E,QAdgB,CAAlB;GAFiB,EAmBnB,CAAC4X,WAAD,CAnBmB,CAArB;MAsBMU,cAAc,GAAG9d,KAAK,CAACwM,MAAN,EAAvB,CA1CyB;;EA6CzB7M,mBAAmB,CAAC,YAAM;QACpBme,cAAc,CAACjR,OAAnB,EAA4B;MAC1BJ,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAACyS;OAAjB,CAAR;;;IAGFS,cAAc,CAACjR,OAAf,GAAyB,IAAzB;GALiB,GAOjBJ,QAPiB,4BAQbkR,oBAAoB,GAAGA,oBAAoB,CAACla,QAAD,CAAvB,GAAoC,EAR3C,GAAnB;EAWAuE,KAAK,CAACmF,UAAN,CAAiBnK,IAAjB,CAAsB,UAAA3B,GAAG,EAAI;QACrBkc,OAAO,GAAGlc,GAAG,CAAC4C,IAAJ,CAAShB,IAAT,CAAc,GAAd,CAAhB;;QAEI5B,GAAG,CAAC6I,QAAR,EAAkB;MAChB7I,GAAG,CAAC6J,KAAJ,GACE,CAAC,OAAOoS,QAAQ,CAACC,OAAD,CAAf,KAA6B,WAA7B,GACGD,QAAQ,CAACC,OAAD,CADX,GAEGG,uBAAuB,IAAIA,uBAAuB,CAACrc,GAAD,CAFtD,KAEgE,EAHlE;;MAKAA,GAAG,CAAC0c,QAAJ,GAAe,UAAAzT,OAAO,EAAI;eACjB8S,WAAW,CAAC/b,GAAG,CAAC4C,IAAL,EAAWqG,OAAX,CAAlB;OADF;;MAIAjJ,GAAG,CAAC8M,KAAJ,CAAU5L,OAAV,CAAkB,UAAArD,IAAI,EAAI;QACxBA,IAAI,CAACgM,KAAL,GAAa7J,GAAG,CAAC6J,KAAJ,CAAU2S,SAAV,IAAuB,EAApC;;QAEA3e,IAAI,CAAC6e,QAAL,GAAgB,UAAAzT,OAAO,EAAI;iBAClBsT,YAAY,CAACvc,GAAG,CAAC4C,IAAL,EAAW/E,IAAI,CAAC0B,MAAL,CAAYI,EAAvB,EAA2BsJ,OAA3B,CAAnB;SADF;OAHF;;;WASKjJ,GAAP;GAtBF;4BA0BKoC,QADL;IAEE2Z,WAAW,EAAXA,WAFF;IAGEQ,YAAY,EAAZA;;;;ACnIJ,IAAM3U,YAAU,GAAG,gBAAnB;;AAGA2B,OAAO,CAACoT,gBAAR,GAA2B,kBAA3B;AACApT,OAAO,CAACqT,cAAR,GAAyB,gBAAzB;;AAGAnT,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9BqT,WAAW,EAAE;OACVhT,KAFL;;;MAMEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACoT,gBAA5B,EAA8C;8BAEvC9S,KADL;MAEEgT,WAAW,EAAE;;;;MAIb/S,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACqT,cAA5B,EAA4C;8BAErC/S,KADL;MAEEgT,WAAW,EAAE7T,gBAAgB,CAACc,MAAM,CAAC+S,WAAR,EAAqBhT,KAAK,CAACgT,WAA3B;;;CAlBnC;;AAuBA,IAAaC,cAAc,GAAG,SAAjBA,cAAiB,CAAAnW,KAAK,EAAI;EACrCA,KAAK,CAAC+E,6BAAN,CAAoC/J,IAApC,CAAyC,UAACkR,IAAD,EAAOzQ,QAAP,EAAoB;wCAChDyQ,IAAX,IAAiBzQ,QAAQ,CAACyH,KAAT,CAAegT,WAAhC;GADF;EAGAlW,KAAK,CAAC8E,yBAAN,CAAgC9J,IAAhC,CAAqC8J,2BAArC;EACA9E,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CALK;AAQPkR,cAAc,CAAClV,UAAf,GAA4BA,YAA5B;;AAEA,SAAS6D,2BAAT,CAAmC1M,OAAnC,EAA4CqD,QAA5C,EAAsD;MAEzCya,WAFyC,GAGhDza,QAHgD,CAElDyH,KAFkD,CAEzCgT,WAFyC;;MAMhD,CAACA,WAAD,IAAgB,CAACA,WAAW,CAACzb,MAAjC,EAAyC;WAChCrC,OAAP;;;MAGIge,eAAe,sBAAOF,WAAP,CAArB,CAVoD;;;MAa9CG,WAAW,sBAAOje,OAAP,CAAjB,CAboD;;;MAgB9Cke,cAAc,GAAG,EAAvB,CAhBoD;;;QAoB5CC,cAAc,GAAGH,eAAe,CAACvH,KAAhB,EAAvB;QACM2H,UAAU,GAAGH,WAAW,CAACjV,SAAZ,CAAsB,UAAAtG,CAAC;aAAIA,CAAC,CAAC9B,EAAF,KAASud,cAAb;KAAvB,CAAnB;;QACIC,UAAU,GAAG,CAAC,CAAlB,EAAqB;MACnBF,cAAc,CAACtb,IAAf,CAAoBqb,WAAW,CAAC9F,MAAZ,CAAmBiG,UAAnB,EAA+B,CAA/B,EAAkC,CAAlC,CAApB;;;;SAJGH,WAAW,CAAC5b,MAAZ,IAAsB2b,eAAe,CAAC3b,MAA7C,EAAqD;;GAnBD;;;mBA4BzC6b,cAAX,qBAA8BD,WAA9B;;;AAGF,SAASpR,SAAT,CAAiBxJ,QAAjB,EAA2B;MACjBgJ,QADiB,GACJhJ,QADI,CACjBgJ,QADiB;MAGnBwR,cAAc,GAAGje,KAAK,CAAC0M,WAAN,CACrB,UAAAwR,WAAW,EAAI;WACNzR,QAAQ,CAAC;MAAEJ,IAAI,EAAEzB,OAAO,CAACqT,cAAhB;MAAgCC,WAAW,EAAXA;KAAjC,CAAf;GAFmB,EAIrB,CAACzR,QAAD,CAJqB,CAAvB;4BAQKhJ,QADL;IAEEwa,cAAc,EAAdA;;;;AC9EJ,IAAMhV,YAAU,GAAG,kBAAnB;;AAGAjK,aAAa,CAACyf,SAAd,GAA0B,IAA1B;;AAGA7T,OAAO,CAAC8T,mBAAR,GAA8B,qBAA9B;AACA9T,OAAO,CAAC+T,cAAR,GAAyB,gBAAzB;AACA/T,OAAO,CAACgU,kBAAR,GAA6B,oBAA7B;;AAGA9T,eAAe,CAAC7B,YAAD,CAAf,GAA8B,UAACiC,KAAD,EAAQC,MAAR,EAAmB;MAC3CA,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACC,IAA5B,EAAkC;;MAE9B8T,cAAc,EAAE;QACdE,YAAY,EAAE;;OAEb3T,KAJL;;;MAQEC,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC8T,mBAA5B,EAAiD;QACvCI,MADuC,GACF3T,MADE,CACvC2T,MADuC;QAC/BtZ,QAD+B,GACF2F,MADE,CAC/B3F,QAD+B;QACrBuZ,cADqB,GACF5T,MADE,CACrB4T,cADqB;8BAI1C7T,KADL;MAEEyT,cAAc,qBACTzT,KAAK,CAACyT,cADG;QAEZG,MAAM,EAANA,MAFY;QAGZC,cAAc,EAAdA,cAHY;QAIZC,gBAAgB,EAAExZ;;;;;MAKpB2F,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAAC+T,cAA5B,EAA4C;QAClCM,OADkC,GACtB9T,MADsB,CAClC8T,OADkC;gCAEP/T,KAAK,CAACyT,cAFC;QAElCG,OAFkC,yBAElCA,MAFkC;QAE1BC,eAF0B,yBAE1BA,cAF0B;QAIpCG,MAAM,GAAGD,OAAO,GAAGH,OAAzB;QACMK,gBAAgB,GAAGD,MAAM,GAAGH,eAAc,CAACtc,MAAjD;QAEM2c,eAAe,GAAG,EAAxB;;IACAL,eAAc,CAACxc,OAAf,CAAuB,gBAA0BxB,KAA1B,EAAoC;;UAAlCse,QAAkC;UAAxBC,WAAwB;;MACzDF,eAAe,CAACC,QAAD,CAAf,GAA4B5e,IAAI,CAACC,GAAL,CAAS4e,WAAW,GAAGH,gBAAvB,EAAyC,CAAzC,CAA5B;KADF;;8BAKKjU,KADL;MAEEyT,cAAc,qBACTzT,KAAK,CAACyT,cADG;QAEZE,YAAY,qBACP3T,KAAK,CAACyT,cAAN,CAAqBE,YADd,MAEP1T,MAAM,CAAC0T,YAFA;;;;;MAQd1T,MAAM,CAACkB,IAAP,KAAgBzB,OAAO,CAACgU,kBAA5B,EAAgD;8BAEzC1T,KADL;MAEEyT,cAAc,qBACTzT,KAAK,CAACyT,cADG;QAEZG,MAAM,EAAE,IAFI;QAGZE,gBAAgB,EAAE;;;;CAtD1B;;AA4DA,IAAaO,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAvX,KAAK,EAAI;EACvCA,KAAK,CAACgF,mBAAN,CAA0BhK,IAA1B,CAA+BgK,mBAA/B;CADK;AAIPuS,gBAAgB,CAACtW,UAAjB,GAA8BA,YAA9B;;AAEA,IAAM+D,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAvJ,QAAQ,EAAI;EACtCA,QAAQ,CAACuE,KAAT,CAAewX,eAAf,GAAiC,EAAjC;MAGElR,WAJoC,GASlC7K,QATkC,CAIpC6K,WAJoC;MAKpCmR,eALoC,GASlChc,QATkC,CAKpCgc,eALoC;MAM3BjS,cAN2B,GASlC/J,QATkC,CAMpCuE,KANoC,CAM3BwF,cAN2B;MAO3BmR,cAP2B,GASlClb,QATkC,CAOpCyH,KAPoC,CAO3ByT,cAP2B;MAQpClS,QARoC,GASlChJ,QATkC,CAQpCgJ,QARoC;EAWtCe,cAAc,CAACxK,IAAf,CAAoB,YAAM;WACjB;MACLiD,KAAK,EAAE;QACLyZ,QAAQ,EAAE;;KAFd;GADF;;MAQMC,YAAW,GAAG,SAAdA,WAAc,CAACnb,CAAD,EAAIjB,MAAJ,EAAe;QAC3Bqc,eAAe,GAAGC,cAAc,CAACtc,MAAD,CAAtC;QACMwb,cAAc,GAAGa,eAAe,CAACje,GAAhB,CAAoB,UAAAmB,CAAC;aAAI,CAACA,CAAC,CAAC9B,EAAH,EAAO8B,CAAC,CAACoM,UAAT,CAAJ;KAArB,CAAvB;QAEM+P,OAAO,GAAGza,CAAC,CAACya,OAAlB;;QAEMa,WAAW,GAAG,SAAdA,WAAc,CAAAtb,CAAC,EAAI;UACjBya,OAAO,GAAGza,CAAC,CAACya,OAAlB;MAEAxS,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAAC+T,cAAhB;QAAgCM,OAAO,EAAPA;OAAjC,CAAR;KAHF;;QAMMc,SAAS,GAAG,SAAZA,SAAY,CAAAvb,CAAC,EAAI;MACrBwb,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CH,WAA1C;MACAE,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,EAAwCF,SAAxC;MAEAtT,QAAQ,CAAC;QAAEJ,IAAI,EAAEzB,OAAO,CAACgU;OAAjB,CAAR;KAJF;;IAOAoB,QAAQ,CAACE,gBAAT,CAA0B,WAA1B,EAAuCJ,WAAvC;IACAE,QAAQ,CAACE,gBAAT,CAA0B,SAA1B,EAAqCH,SAArC;IAEAtT,QAAQ,CAAC;MACPJ,IAAI,EAAEzB,OAAO,CAAC8T,mBADP;MAEPlZ,QAAQ,EAAEjC,MAAM,CAACvC,EAFV;MAGP+d,cAAc,EAAdA,cAHO;MAIPE,OAAO,EAAPA;KAJM,CAAR;GAtBF,CAnBsC;;;MAkDhC1S,WAAW,GAAGvM,KAAK,CAACwM,MAAN,EAApB;EACAD,WAAW,CAACM,OAAZ,GAAsBpJ,QAAtB;EAEA6K,WAAW,CAAC/L,OAAZ,CAAoB,UAAAgB,MAAM,EAAI;QACtBkb,SAAS,GAAGrZ,eAAe,CAC/B7B,MAAM,CAACkc,eAAP,KAA2B,IAA3B,GAAkC,KAAlC,GAA0CrT,SADX,EAE/BqT,eAAe,KAAK,IAApB,GAA2B,KAA3B,GAAmCrT,SAFJ,EAG/B,IAH+B,CAAjC;IAMA7I,MAAM,CAACkb,SAAP,GAAmBA,SAAnB;IACAlb,MAAM,CAACjE,KAAP,GAAeqf,cAAc,CAACE,YAAf,CAA4Btb,MAAM,CAACvC,EAAnC,KAA0CuC,MAAM,CAACjE,KAAhE;IACAiE,MAAM,CAAC4c,UAAP,GAAoBxB,cAAc,CAACK,gBAAf,KAAoCzb,MAAM,CAACvC,EAA/D;;QAEIyd,SAAJ,EAAe;MACblb,MAAM,CAACic,eAAP,GAAyB,UAAA9Q,SAAS,EAAI;eAC7BhH,UAAU,CACf;UACEiY,WAAW,EAAE,qBAAAnb,CAAC;mBAAIA,CAAC,CAAC6L,OAAF,MAAesP,YAAW,CAACnb,CAAD,EAAIjB,MAAJ,CAA9B;WADhB;UAEE0C,KAAK,EAAE;YACL3B,MAAM,EAAE;WAHZ;UAKE8b,SAAS,EAAE;SANE,EAQfhY,cAAc,CACZmE,WAAW,CAACM,OAAZ,CAAoB7E,KAApB,CAA0BwX,eADd,EAEZjc,MAFY,EAGZgJ,WAAW,CAACM,OAHA,CARC,EAaf6B,SAbe,CAAjB;OADF;;GAZJ;SAgCOjL,QAAP;CArFF;;AAwFA,SAASoc,cAAT,CAAwBtc,MAAxB,EAAgC;MACxB8c,WAAW,GAAG,EAApB;;MACMC,aAAa,GAAG,SAAhBA,aAAgB,CAAA/c,MAAM,EAAI;QAC1BA,MAAM,CAACnD,OAAP,IAAkBmD,MAAM,CAACnD,OAAP,CAAeqC,MAArC,EAA6C;MAC3Cc,MAAM,CAACnD,OAAP,CAAeuB,GAAf,CAAmB2e,aAAnB;;;IAEFD,WAAW,CAACrd,IAAZ,CAAiBO,MAAjB;GAJF;;EAMA+c,aAAa,CAAC/c,MAAD,CAAb;SACO8c,WAAP;;;ICxLWE,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAvY,KAAK,EAAI;EACxCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIPsT,iBAAiB,CAACtX,UAAlB,GAA+B,mBAA/B;;AAEA,IAAMgE,SAAO,GAAG,SAAVA,OAAU,CAAAxJ,QAAQ,EAAI;MAExBoL,iBAFwB,GAUtBpL,QAVsB,CAExBoL,iBAFwB;wBAUtBpL,QAVsB,CAGxBuE,KAHwB;MAItBsF,WAJsB,mBAItBA,WAJsB;MAKtBD,iBALsB,mBAKtBA,iBALsB;MAMtBE,mBANsB,mBAMtBA,mBANsB;MAOtBC,cAPsB,mBAOtBA,cAPsB;MAQtBC,YARsB,mBAQtBA,YARsB;MAYpB+S,SAAS,GAAG;IAChBva,KAAK,EAAE;MACLyZ,QAAQ,EAAE,UADL;MAELpgB,KAAK,YAAKuP,iBAAL;;GAHT;EAOAxB,iBAAiB,CAACrK,IAAlB,CAAuB;WAAMwd,SAAN;GAAvB;EACAlT,WAAW,CAACtK,IAAZ,CAAiB;WAAMwd,SAAN;GAAjB;EACAjT,mBAAmB,CAACvK,IAApB,CAAyB;WAAMwd,SAAN;GAAzB,EArB0B;;MAwBpBC,UAAU,GAAG;IACjBf,QAAQ,EAAE,UADO;IAEjBgB,GAAG,EAAE;GAFP;EAKAlT,cAAc,CAACxK,IAAf,CAAoB,UAAAO,MAAM,EAAI;WACrB;MACL0C,KAAK,qBACAwa,UADA;QAEHra,IAAI,YAAK7C,MAAM,CAAC0L,SAAZ,OAFD;QAGH3P,KAAK,YAAKiE,MAAM,CAAC2L,UAAZ;;KAJT;GADF;EAUAzB,YAAY,CAACzK,IAAb,CAAkB,UAAA9D,IAAI,EAAI;WACjB;MACL+G,KAAK,qBACAwa,UADA;QAEHra,IAAI,YAAKlH,IAAI,CAAC0B,MAAL,CAAYqO,SAAjB,OAFD;QAGH3P,KAAK,YAAKJ,IAAI,CAAC0B,MAAL,CAAYsO,UAAjB;;KAJT;GADF;SAUOzL,QAAP;CAjDF;;ICNakd,cAAc,GAAG,SAAjBA,cAAiB,CAAA3Y,KAAK,EAAI;EACrCA,KAAK,CAACiF,OAAN,CAAcjK,IAAd,CAAmBiK,SAAnB;CADK;AAIP0T,cAAc,CAAC1X,UAAf,GAA4B,gBAA5B;;AAEA,IAAMgE,SAAO,GAAG,SAAVA,OAAU,CAAAxJ,QAAQ,EAAI;MAExBoL,iBAFwB,GAItBpL,QAJsB,CAExBoL,iBAFwB;wBAItBpL,QAJsB,CAGxBuE,KAHwB;MAGfsF,WAHe,mBAGfA,WAHe;MAGFC,mBAHE,mBAGFA,mBAHE;MAGmBC,cAHnB,mBAGmBA,cAHnB;MAGmCC,YAHnC,mBAGmCA,YAHnC;MAMpB+S,SAAS,GAAG;IAChBva,KAAK,EAAE;MACL2a,OAAO,EAAE,MADJ;MAELthB,KAAK,YAAKuP,iBAAL;;GAHT;EAOAvB,WAAW,CAACtK,IAAZ,CAAiB;WAAMwd,SAAN;GAAjB;EACAjT,mBAAmB,CAACvK,IAApB,CAAyB;WAAMwd,SAAN;GAAzB;MAEMC,UAAU,GAAG;IACjBG,OAAO,EAAE,cADQ;IAEjBC,SAAS,EAAE;GAFb;EAKArT,cAAc,CAACxK,IAAf,CAAoB,UAAAO,MAAM,EAAI;WACrB;MACL0C,KAAK,qBACAwa,UADA;QAEHnhB,KAAK,YAAKiE,MAAM,CAAC2L,UAAZ;;KAHT;GADF;EASAzB,YAAY,CAACzK,IAAb,CAAkB,UAAA9D,IAAI,EAAI;WACjB;MACL+G,KAAK,qBACAwa,UADA;QAEHnhB,KAAK,YAAKJ,IAAI,CAAC0B,MAAL,CAAYsO,UAAjB;;KAHT;GADF;SASOzL,QAAP;CAvCF;;;;"}