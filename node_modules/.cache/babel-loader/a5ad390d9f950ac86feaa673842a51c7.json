{"ast":null,"code":"import _objectSpread from \"/Users/lancer_abir/Desktop/react-app-beach-resort/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/lancer_abir/Desktop/react-app-beach-resort/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lancer_abir/Desktop/react-app-beach-resort/src/Context.js\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport items from './data';\nexport const RoomContext = createContext();\nconst RoomConsumer = RoomContext.Consumer;\nexport { RoomConsumer };\n\nconst RoomProvider = props => {\n  const _useState = useState({\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        values = _useState2[0],\n        setValues = _useState2[1];\n\n  const formatData = items => {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let room = _objectSpread({}, item.fields, {\n        images,\n        id\n      });\n\n      return room;\n    });\n    return tempItems;\n  }; // GetData\n\n\n  useEffect(() => {\n    let rooms = formatData(items);\n    let featuredRooms = rooms.filter(room => room.featured === true);\n    setValues({\n      rooms,\n      featuredRooms,\n      sortedRooms: rooms,\n      loading: false\n    });\n  }, []); // getRoom function for pass data in singleRoom.js\n\n  const getRoom = slug => {\n    let tempRooms = [...values.rooms];\n    const room = tempRooms.find(room => room.slug === slug);\n    return room;\n  };\n\n  return React.createElement(RoomContext.Provider, {\n    value: _objectSpread({}, values, {\n      setValues,\n      getRoom: getRoom\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, props.children);\n}; // Higher Order Component\n\n\nexport function withRoomConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return React.createElement(RoomConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, value => React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })));\n  };\n}\nexport default RoomProvider;","map":{"version":3,"sources":["/Users/lancer_abir/Desktop/react-app-beach-resort/src/Context.js"],"names":["React","createContext","useState","useEffect","items","RoomContext","RoomConsumer","Consumer","RoomProvider","props","rooms","sortedRooms","featuredRooms","loading","values","setValues","formatData","tempItems","map","item","id","sys","images","fields","image","file","url","room","filter","featured","getRoom","slug","tempRooms","find","children","withRoomConsumer","Component","ConsumerWrapper","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA2D,OAA3D;AACA,OAAOC,KAAP,MAAkB,QAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGJ,aAAa,EAAjC;AACP,MAAMK,YAAY,GAAGD,WAAW,CAACE,QAAjC;AACA,SAASD,YAAT;;AAEA,MAAME,YAAY,GAAIC,KAAD,IAAW;AAAA,oBAEAP,QAAQ,CAChC;AACIQ,IAAAA,KAAK,EAAE,EADX;AAEIC,IAAAA,WAAW,EAAE,EAFjB;AAGIC,IAAAA,aAAa,EAAE,EAHnB;AAIIC,IAAAA,OAAO,EAAE;AAJb,GADgC,CAFR;AAAA;AAAA,QAErBC,MAFqB;AAAA,QAEbC,SAFa;;AAW5B,QAAMC,UAAU,GAAIZ,KAAD,IAAW;AAC1B,QAAIa,SAAS,GAAGb,KAAK,CAACc,GAAN,CAAWC,IAAI,IAAI;AAC/B,UAAIC,EAAE,GAAGD,IAAI,CAACE,GAAL,CAASD,EAAlB;AACA,UAAIE,MAAM,GAAGH,IAAI,CAACI,MAAL,CAAYD,MAAZ,CAAmBJ,GAAnB,CAAwBM,KAAK,IAAIA,KAAK,CAACD,MAAN,CAAaE,IAAb,CAAkBC,GAAnD,CAAb;;AACA,UAAIC,IAAI,qBAAQR,IAAI,CAACI,MAAb;AAAqBD,QAAAA,MAArB;AAA6BF,QAAAA;AAA7B,QAAR;;AACA,aAAOO,IAAP;AACH,KALe,CAAhB;AAMA,WAAOV,SAAP;AACH,GARD,CAX4B,CAqB5B;;;AACAd,EAAAA,SAAS,CAAG,MAAM;AACd,QAAIO,KAAK,GAAGM,UAAU,CAACZ,KAAD,CAAtB;AACA,QAAIQ,aAAa,GAAGF,KAAK,CAACkB,MAAN,CAAcD,IAAI,IAAIA,IAAI,CAACE,QAAL,KAAkB,IAAxC,CAApB;AACAd,IAAAA,SAAS,CAAC;AAAEL,MAAAA,KAAF;AAASE,MAAAA,aAAT;AAAwBD,MAAAA,WAAW,EAAED,KAArC;AAA4CG,MAAAA,OAAO,EAAE;AAArD,KAAD,CAAT;AACH,GAJQ,EAIN,EAJM,CAAT,CAtB4B,CA4B5B;;AACA,QAAMiB,OAAO,GAAIC,IAAD,IAAU;AACtB,QAAIC,SAAS,GAAG,CAAC,GAAGlB,MAAM,CAACJ,KAAX,CAAhB;AACA,UAAMiB,IAAI,GAAGK,SAAS,CAACC,IAAV,CAAeN,IAAI,IAAIA,IAAI,CAACI,IAAL,KAAcA,IAArC,CAAb;AACA,WAAOJ,IAAP;AACH,GAJD;;AAMA,SACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,oBAAOb,MAAP;AAAeC,MAAAA,SAAf;AAA0Be,MAAAA,OAAO,EAAEA;AAAnC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKrB,KAAK,CAACyB,QADX,CADJ;AAKH,CAxCD,C,CA2CA;;;AACA,OAAO,SAASC,gBAAT,CAA0BC,SAA1B,EAAoC;AACvC,SAAO,SAASC,eAAT,CAAyB5B,KAAzB,EAA+B;AAClC,WAAO,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACD6B,KAAK,IAAI,oBAAC,SAAD,oBAAe7B,KAAf;AAAsB,MAAA,OAAO,EAAE6B,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADR,CAAP;AAGH,GAJD;AAKH;AAED,eAAe9B,YAAf","sourcesContent":["import React, { createContext, useState, useEffect }  from 'react';\nimport items from './data';\n\nexport const RoomContext = createContext();\nconst RoomConsumer = RoomContext.Consumer;\nexport { RoomConsumer } ;\n\nconst RoomProvider = (props) => {\n\n    const [values, setValues] = useState(\n        {\n            rooms: [],\n            sortedRooms: [],\n            featuredRooms: [],\n            loading: true\n        }\n    )\n\n    const formatData = (items) => {\n        let tempItems = items.map( item => {\n            let id = item.sys.id\n            let images = item.fields.images.map( image => image.fields.file.url )\n            let room = { ...item.fields, images, id }\n            return room\n        } )\n        return tempItems\n    }\n\n    // GetData\n    useEffect ( () => {\n        let rooms = formatData(items);\n        let featuredRooms = rooms.filter( room => room.featured === true );\n        setValues({ rooms, featuredRooms, sortedRooms: rooms, loading: false });\n    }, [])\n    \n    // getRoom function for pass data in singleRoom.js\n    const getRoom = (slug) => {\n        let tempRooms = [...values.rooms]\n        const room = tempRooms.find(room => room.slug === slug)\n        return room\n    }\n\n    return (\n        <RoomContext.Provider value={{ ...values, setValues, getRoom: getRoom }}> \n            {props.children}\n        </RoomContext.Provider>\n    );\n}\n\n\n// Higher Order Component\nexport function withRoomConsumer(Component){\n    return function ConsumerWrapper(props){\n        return <RoomConsumer>\n            { value => <Component {...props} context={value} /> }\n        </RoomConsumer>\n    }\n}\n\nexport default RoomProvider;\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}